<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>无星的小窝</title>
    <link>http://blog.xingxiaowu.cn/</link>
    
    <atom:link href="http://blog.xingxiaowu.cn/rss2.xml" rel="self" type="application/rss+xml"/>
    
    <description>一个么的前途的弟中弟</description>
    <pubDate>Wed, 07 Sep 2022 01:42:09 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>mock入门教程-图文版</title>
      <link>http://blog.xingxiaowu.cn/2022/09/06/Postman%E6%89%B9%E9%87%8F%E8%AF%B7%E6%B1%82%E5%B9%B6%E4%BF%9D%E5%AD%98%E8%AF%B7%E6%B1%82%E7%BB%93%E6%9E%9C/</link>
      <guid>http://blog.xingxiaowu.cn/2022/09/06/Postman%E6%89%B9%E9%87%8F%E8%AF%B7%E6%B1%82%E5%B9%B6%E4%BF%9D%E5%AD%98%E8%AF%B7%E6%B1%82%E7%BB%93%E6%9E%9C/</guid>
      <pubDate>Tue, 06 Sep 2022 09:24:00 GMT</pubDate>
      
      <description>&lt;h1 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;背景&lt;/h1&gt;&lt;p&gt;现在基本不怎么写代码了，偶尔会用技术去辅助业务。&lt;/p&gt;
&lt;p&gt;这次业务上碰到这样一个问题，要去采集客户系统的数据信息，之前是相关业务人员一页一页查，然后复制粘贴，所以我们使用postman进行批量请求，并保存结果&lt;/p&gt;
&lt;h2 id=&quot;1-设置请求变化参数&quot;&gt;&lt;a href=&quot;#1-设置请求变化参数&quot; class=&quot;headerlink&quot; title=&quot;1.设置请求变化参数&quot;&gt;&lt;/a&gt;1.设置请求变化参数&lt;/h2&gt;&lt;p&gt;假设前期的请求已经设置好了，那么接下来就是设置变化的参数&lt;/p&gt;
&lt;p&gt;其实肥肠简单，只要把相关参数设置为&lt;code&gt;&amp;#123;&amp;#123;参数名&amp;#125;&amp;#125;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;如下图&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/postman1/1.png&quot; alt=&quot;配置&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;2-放置待变化的参数，数组类型&quot;&gt;&lt;a href=&quot;#2-放置待变化的参数，数组类型&quot; class=&quot;headerlink&quot; title=&quot;2.放置待变化的参数，数组类型&quot;&gt;&lt;/a&gt;2.放置待变化的参数，数组类型&lt;/h2&gt;&lt;h3 id=&quot;2-1打开Run&quot;&gt;&lt;a href=&quot;#2-1打开Run&quot; class=&quot;headerlink&quot; title=&quot;2.1打开Run&quot;&gt;&lt;/a&gt;2.1打开&lt;code&gt;Run&lt;/code&gt;&lt;/h3&gt;</description>
      
      
      
      <content:encoded><![CDATA[<h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>现在基本不怎么写代码了，偶尔会用技术去辅助业务。</p><p>这次业务上碰到这样一个问题，要去采集客户系统的数据信息，之前是相关业务人员一页一页查，然后复制粘贴，所以我们使用postman进行批量请求，并保存结果</p><h2 id="1-设置请求变化参数"><a href="#1-设置请求变化参数" class="headerlink" title="1.设置请求变化参数"></a>1.设置请求变化参数</h2><p>假设前期的请求已经设置好了，那么接下来就是设置变化的参数</p><p>其实肥肠简单，只要把相关参数设置为<code>&#123;&#123;参数名&#125;&#125;</code></p><p>如下图</p><p><img src="/images/postman1/1.png" alt="配置"></p><h2 id="2-放置待变化的参数，数组类型"><a href="#2-放置待变化的参数，数组类型" class="headerlink" title="2.放置待变化的参数，数组类型"></a>2.放置待变化的参数，数组类型</h2><h3 id="2-1打开Run"><a href="#2-1打开Run" class="headerlink" title="2.1打开Run"></a>2.1打开<code>Run</code></h3><p><img src="/images/postman1/2.png" alt="配置"></p><h3 id="2-2勾选相关配置"><a href="#2-2勾选相关配置" class="headerlink" title="2.2勾选相关配置"></a>2.2勾选相关配置</h3><p>勾选需要进行批量请求的接口，并将需要变化的值用数组的方式写在json文件里，<code>select file</code>选择相关文件</p><p>例如:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//aaa.json</span><br><span class="line">[&#123;</span><br><span class="line">    aaa:123,</span><br><span class="line">&#125;,&#123;</span><br><span class="line">    aaa:456,</span><br><span class="line">&#125;]</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>当然也可以用<code>xlxs</code>等文件，这里就不做详解，开发常用的还是<code>json</code></p><p><img src="/images/postman1/3.png" alt="勾选内容"></p><h3 id="点击Run，此时会发现，看不到请求任何结果-。"><a href="#点击Run，此时会发现，看不到请求任何结果-。" class="headerlink" title="点击Run，此时会发现，看不到请求任何结果=。="></a>点击Run，此时会发现，看不到请求任何结果=。=</h3><h2 id="3-填写Test"><a href="#3-填写Test" class="headerlink" title="3.填写Test"></a>3.填写Test</h2><p>其实关键就是填写<code>Test</code>，通过<code>Test</code>将请求结果打印出来，或者只打印自己要的参数</p><p><code>Test</code>是填写测试用的，可以用来测试请求结果符合预期，就像写单元测试一样</p><p><img src="/images/postman1/4.png" alt="test"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pm.test(pm.response.json().data.XINGMING+&quot;,&quot;+pm.response.json().data.ZHENGJIANYXQ+&quot;,&quot;+pm.response.json().data.LIANXIFS+&quot;,&quot;+pm.response.json().data.HUJIDDWMC+&quot;,&quot;+pm.response.json().data.XIANCHANGZD,function ()&#123;</span><br><span class="line">    console.log(responseBody)</span><br><span class="line">    console.log(pm.response.body)</span><br><span class="line">    pm.expect(pm.response.text()).to.include(&quot;XINGMING&quot;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="4-再次run，等待请求结束，导出结果"><a href="#4-再次run，等待请求结束，导出结果" class="headerlink" title="4.再次run，等待请求结束，导出结果"></a>4.再次run，等待请求结束，导出结果</h2><p><img src="/images/postman1/5.png" alt="导出"></p><p><img src="/images/postman1/6.png" alt="结果"></p>]]></content:encoded>
      
      
      <category domain="http://blog.xingxiaowu.cn/categories/Postman/">Postman</category>
      
      
      <category domain="http://blog.xingxiaowu.cn/tags/Postman/">Postman</category>
      
      
      <comments>http://blog.xingxiaowu.cn/2022/09/06/Postman%E6%89%B9%E9%87%8F%E8%AF%B7%E6%B1%82%E5%B9%B6%E4%BF%9D%E5%AD%98%E8%AF%B7%E6%B1%82%E7%BB%93%E6%9E%9C/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>无星的党员学习笔记（六） —— 辛亥革命</title>
      <link>http://blog.xingxiaowu.cn/2022/05/16/%E6%97%A0%E6%98%9F%E7%9A%84%E5%85%9A%E5%91%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%83%EF%BC%89/</link>
      <guid>http://blog.xingxiaowu.cn/2022/05/16/%E6%97%A0%E6%98%9F%E7%9A%84%E5%85%9A%E5%91%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%83%EF%BC%89/</guid>
      <pubDate>Mon, 16 May 2022 09:15:00 GMT</pubDate>
      
      <description>&lt;p&gt;最近在读党史，记录一些随笔。&lt;/p&gt;
&lt;p&gt;孙中山先生是一位伟大的爱国主义者，也是中国民主革命的伟大先行者。&lt;/p&gt;
&lt;p&gt;三民主义由民族主义（Principles of Nationalism）、民权主义（Principles of Democracy）和民生主义（Principles of People’s Livelihood）组成。&lt;/p&gt;
&lt;p&gt;三民主义是孙中山先生民主思想的精髓和高度概括。&lt;/p&gt;
&lt;p&gt;孙中山先生创立的中国同盟会，以“驱除鞑虏，恢复中华，创立民国，平均地权”的十六字革命纲领，首次提出了要以资产阶级民主共和国取代封建王朝的革命目标。&lt;/p&gt;
&lt;p&gt;在同盟会成立后，革命党人开始了宣传工作，并积极联络军队，先后发起了一系列武装起义。如：广东潮州黄冈起义，惠州七女湖起义，广州起义等。这些奇艺虽然实质上是脱离人民群众的单纯军事行动，因而很快失败，但它反映了资产阶级革命党人反封建的精神，在全国不断扩大了影响力。&lt;/p&gt;
&lt;p&gt;最终，以湖北新军为主力，发起的武昌起义获得了全国各省的积极响应，迅速推翻了清王朝，建立了中华民国。&lt;/p&gt;
&lt;p&gt;1912年1月1日，孙中山在南京就任中华民国第一任临时大总统，发布《中华民国临时约法》，并颁布了多项新的政策政令，如：改国号为中华民国，不再跪拜，不再留长发，女子不再裹小脚等。反映出以孙中山先生为首的资产阶级革命派除旧布新，矢志共和的革命精神。&lt;/p&gt;
&lt;p&gt;辛亥革命的成功，在于它推翻了清王朝的封建统治，结束了中国几千年的君主专制制度，推动了中国人民思想解放。为中国的先进分子探索救国救民的道路，拓宽了视野，为中国的进步潮流打开了阀门。&lt;/p&gt;
&lt;p&gt;但辛亥革命也有弱点，没能提出明确的反帝反封建的革命纲领，加上帝国主义和封建势力在当时的力量强大，导致南京临时政府仅存在三个月，就被以袁世凯为代表的北洋军阀窃取了革命成果。因此从根本上讲，辛亥革命，既未能产出帝国主义和封建势力在中国的根基，也没能改变中国半殖民地半封建的社会性质。从这个角度看，辛亥革命并未成功。&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>最近在读党史，记录一些随笔。</p><p>孙中山先生是一位伟大的爱国主义者，也是中国民主革命的伟大先行者。</p><p>三民主义由民族主义（Principles of Nationalism）、民权主义（Principles of Democracy）和民生主义（Principles of People’s Livelihood）组成。</p><p>三民主义是孙中山先生民主思想的精髓和高度概括。</p><p>孙中山先生创立的中国同盟会，以“驱除鞑虏，恢复中华，创立民国，平均地权”的十六字革命纲领，首次提出了要以资产阶级民主共和国取代封建王朝的革命目标。</p><p>在同盟会成立后，革命党人开始了宣传工作，并积极联络军队，先后发起了一系列武装起义。如：广东潮州黄冈起义，惠州七女湖起义，广州起义等。这些奇艺虽然实质上是脱离人民群众的单纯军事行动，因而很快失败，但它反映了资产阶级革命党人反封建的精神，在全国不断扩大了影响力。</p><p>最终，以湖北新军为主力，发起的武昌起义获得了全国各省的积极响应，迅速推翻了清王朝，建立了中华民国。</p><p>1912年1月1日，孙中山在南京就任中华民国第一任临时大总统，发布《中华民国临时约法》，并颁布了多项新的政策政令，如：改国号为中华民国，不再跪拜，不再留长发，女子不再裹小脚等。反映出以孙中山先生为首的资产阶级革命派除旧布新，矢志共和的革命精神。</p><p>辛亥革命的成功，在于它推翻了清王朝的封建统治，结束了中国几千年的君主专制制度，推动了中国人民思想解放。为中国的先进分子探索救国救民的道路，拓宽了视野，为中国的进步潮流打开了阀门。</p><p>但辛亥革命也有弱点，没能提出明确的反帝反封建的革命纲领，加上帝国主义和封建势力在当时的力量强大，导致南京临时政府仅存在三个月，就被以袁世凯为代表的北洋军阀窃取了革命成果。因此从根本上讲，辛亥革命，既未能产出帝国主义和封建势力在中国的根基，也没能改变中国半殖民地半封建的社会性质。从这个角度看，辛亥革命并未成功。</p><p>尽管如此，辛亥革命仍然是中国人民为改变自己命运而崛起的一个伟大起点，后续的革命者们从辛亥革命未能解决中国所面临的基本问题这一事实中逐渐意识到，在中国半殖民地半封建社会的历史条件下，建立资产阶级民主共和国是不可能的，必须另外探索救国救民的新道路。</p>]]></content:encoded>
      
      
      <category domain="http://blog.xingxiaowu.cn/categories/%E5%85%9A%E5%91%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">党员学习笔记</category>
      
      
      <category domain="http://blog.xingxiaowu.cn/tags/%E5%85%9A%E5%91%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">党员学习笔记</category>
      
      
      <comments>http://blog.xingxiaowu.cn/2022/05/16/%E6%97%A0%E6%98%9F%E7%9A%84%E5%85%9A%E5%91%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%83%EF%BC%89/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>无星的党员学习笔记（六） —— 资产阶级初登政治舞台</title>
      <link>http://blog.xingxiaowu.cn/2022/04/11/%E6%97%A0%E6%98%9F%E7%9A%84%E5%85%9A%E5%91%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E5%85%AD%EF%BC%89/</link>
      <guid>http://blog.xingxiaowu.cn/2022/04/11/%E6%97%A0%E6%98%9F%E7%9A%84%E5%85%9A%E5%91%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E5%85%AD%EF%BC%89/</guid>
      <pubDate>Mon, 11 Apr 2022 12:42:00 GMT</pubDate>
      
      <description>&lt;p&gt;最近在读党史，记录一些随笔。&lt;/p&gt;
&lt;p&gt;在近代中国，出现了两个新的阶级：资产阶级和无产阶级。&lt;/p&gt;
&lt;p&gt;自甲午战争失败，以康有为，谭嗣同，梁启超为代表的资产阶级维新派奋起，希望通过变法挽救国家，通过维新运动，试图仿照英日等资本主义，建立君主立宪制，以发展资本主义为目标开始自上而下的改革。历时103天，通过光绪皇帝下达变法诏书，希望能拯救中国，史称“百日维新”。&lt;/p&gt;
&lt;p&gt;但资产阶级维新派自身力量弱小，光绪皇帝没有实权，因此被封建顽固扼杀在摇篮里，戊戌六君子血洒菜市口。&lt;/p&gt;
&lt;p&gt;戊戌维新的失败表明，在近代中国，资产阶级改良主义道路是行不通的。&lt;/p&gt;
&lt;p&gt;这个时间段，各个阶级的有识之士都在探索，如何才能拯救国家，力挽狂澜。她们敏锐地意识到，落后就会挨打，所以无不希望通过学习西方的知识，武装自己，走上资本主义的富强道路。&lt;/p&gt;
&lt;p&gt;先进的中国人向西方学习经历了一个演进深化的过程：以林则徐，龚自珍，魏源为代表的第一代，要开眼看世界，师夷长技以制夷-&amp;gt;太平天国洪秀全明确支持《资政新篇》中的资本主义纲领-&amp;gt;洋务运动“自强求富”，希望“中体西用”。&lt;/p&gt;
&lt;p&gt;但是甲午海战的失败表明了洋务运动的破产。&lt;/p&gt;
&lt;p&gt;这时的中国，被八国联军侵占北京，积贫积弱，人民饥寒交迫，面临着亡国灭种。在这样日益深重的民族危机和社会危机下，近代中国民族民主革命所面临的反帝反封建任务更迫切的摆在中国人民面前。&lt;/p&gt;
&lt;h3 id=&quot;谁能领导中国人民求得民族独立和人民解放，谁就将成为中国革命的领导阶级&quot;&gt;&lt;a href=&quot;#谁能领导中国人民求得民族独立和人民解放，谁就将成为中国革命的领导阶级&quot; class=&quot;headerlink&quot; title=&quot;谁能领导中国人民求得民族独立和人民解放，谁就将成为中国革命的领导阶级&quot;&gt;&lt;/a&gt;谁能领导中国人民求得民族独立和人民解放，谁就将成为中国革命的领导阶级&lt;/h3&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>最近在读党史，记录一些随笔。</p><p>在近代中国，出现了两个新的阶级：资产阶级和无产阶级。</p><p>自甲午战争失败，以康有为，谭嗣同，梁启超为代表的资产阶级维新派奋起，希望通过变法挽救国家，通过维新运动，试图仿照英日等资本主义，建立君主立宪制，以发展资本主义为目标开始自上而下的改革。历时103天，通过光绪皇帝下达变法诏书，希望能拯救中国，史称“百日维新”。</p><p>但资产阶级维新派自身力量弱小，光绪皇帝没有实权，因此被封建顽固扼杀在摇篮里，戊戌六君子血洒菜市口。</p><p>戊戌维新的失败表明，在近代中国，资产阶级改良主义道路是行不通的。</p><p>这个时间段，各个阶级的有识之士都在探索，如何才能拯救国家，力挽狂澜。她们敏锐地意识到，落后就会挨打，所以无不希望通过学习西方的知识，武装自己，走上资本主义的富强道路。</p><p>先进的中国人向西方学习经历了一个演进深化的过程：以林则徐，龚自珍，魏源为代表的第一代，要开眼看世界，师夷长技以制夷-&gt;太平天国洪秀全明确支持《资政新篇》中的资本主义纲领-&gt;洋务运动“自强求富”，希望“中体西用”。</p><p>但是甲午海战的失败表明了洋务运动的破产。</p><p>这时的中国，被八国联军侵占北京，积贫积弱，人民饥寒交迫，面临着亡国灭种。在这样日益深重的民族危机和社会危机下，近代中国民族民主革命所面临的反帝反封建任务更迫切的摆在中国人民面前。</p><h3 id="谁能领导中国人民求得民族独立和人民解放，谁就将成为中国革命的领导阶级"><a href="#谁能领导中国人民求得民族独立和人民解放，谁就将成为中国革命的领导阶级" class="headerlink" title="谁能领导中国人民求得民族独立和人民解放，谁就将成为中国革命的领导阶级"></a>谁能领导中国人民求得民族独立和人民解放，谁就将成为中国革命的领导阶级</h3>]]></content:encoded>
      
      
      <category domain="http://blog.xingxiaowu.cn/categories/%E5%85%9A%E5%91%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">党员学习笔记</category>
      
      
      <category domain="http://blog.xingxiaowu.cn/tags/%E5%85%9A%E5%91%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">党员学习笔记</category>
      
      
      <comments>http://blog.xingxiaowu.cn/2022/04/11/%E6%97%A0%E6%98%9F%E7%9A%84%E5%85%9A%E5%91%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E5%85%AD%EF%BC%89/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>无星的党员学习笔记（五） —— 近代中国人民革命的兴起</title>
      <link>http://blog.xingxiaowu.cn/2022/03/26/%E6%97%A0%E6%98%9F%E7%9A%84%E5%85%9A%E5%91%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%94%EF%BC%89/</link>
      <guid>http://blog.xingxiaowu.cn/2022/03/26/%E6%97%A0%E6%98%9F%E7%9A%84%E5%85%9A%E5%91%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%94%EF%BC%89/</guid>
      <pubDate>Sat, 26 Mar 2022 11:12:00 GMT</pubDate>
      
      <description>&lt;p&gt;最近在读党史，记录一些随笔。&lt;/p&gt;
&lt;p&gt;从鸦片战争开始，中国的仁人志士就开始同帝国主义和封建势力开始了斗争。从最早的广东三元里抗英斗争，到义和团，太平天国运动。无数的仁人志士前仆后继，抛头颅洒热血，显示出中国人民不屈不挠的反侵略反压迫的坚强意志和斗争精神。“我自横刀向天笑，去留肝胆两昆仑”——谭嗣同。&lt;/p&gt;
&lt;p&gt;反帝反封建斗争的主力最初是农民，其实从历史就能看出来，自古封建统治阶级压迫农民，当农民日子过不下去了，就会起义。&lt;/p&gt;
&lt;p&gt;农民战争是封建社会阶级斗争的产物。“封建社会的主要矛盾，是农民阶级和地主阶级的矛盾。”（《毛泽东选集》第2卷第625页）&lt;/p&gt;
&lt;p&gt;但是历史上的农民起义，哪怕成功了，也没有改善农民的生活水平，只是有一批“农民阶级”通过起义跃迁到了“地主阶级”。&lt;/p&gt;
&lt;p&gt;太平天国是近代以来，旧式农民战争的巅峰！而且太平天国发布了中国农民战争史上的第一个完整土地纲领——《天朝田亩制度》，虽然因为其带有空想色彩难以落地，但它反映了千百年来，农民对拥有自己土地的渴望，对于发动农民参与反封建斗争起到了非常积极的作用。&lt;/p&gt;
&lt;p&gt;太平天国爆发出的力量，让帝国主义者看到了中国蕴藏的巨大反抗力量，让他们知道，如此“民气坚韧”的中国是不可征服的。&lt;/p&gt;
&lt;p&gt;但是农民不代表新的生产方式，提不出科学的有远见的斗争纲领，不能战胜强大的敌人。在中外反动势力的镇压下，农民斗争以一次又一次的失败告终。在半封建半殖民的中国，太平天国和义和团运动证明：农民固然是一只强大的反帝反封建主力军，但是如果没有先进阶级的领导，是无法完成反帝反封建的历史任务的。&lt;/p&gt;
</description>
      
      
      
      <content:encoded><![CDATA[<p>最近在读党史，记录一些随笔。</p><p>从鸦片战争开始，中国的仁人志士就开始同帝国主义和封建势力开始了斗争。从最早的广东三元里抗英斗争，到义和团，太平天国运动。无数的仁人志士前仆后继，抛头颅洒热血，显示出中国人民不屈不挠的反侵略反压迫的坚强意志和斗争精神。“我自横刀向天笑，去留肝胆两昆仑”——谭嗣同。</p><p>反帝反封建斗争的主力最初是农民，其实从历史就能看出来，自古封建统治阶级压迫农民，当农民日子过不下去了，就会起义。</p><p>农民战争是封建社会阶级斗争的产物。“封建社会的主要矛盾，是农民阶级和地主阶级的矛盾。”（《毛泽东选集》第2卷第625页）</p><p>但是历史上的农民起义，哪怕成功了，也没有改善农民的生活水平，只是有一批“农民阶级”通过起义跃迁到了“地主阶级”。</p><p>太平天国是近代以来，旧式农民战争的巅峰！而且太平天国发布了中国农民战争史上的第一个完整土地纲领——《天朝田亩制度》，虽然因为其带有空想色彩难以落地，但它反映了千百年来，农民对拥有自己土地的渴望，对于发动农民参与反封建斗争起到了非常积极的作用。</p><p>太平天国爆发出的力量，让帝国主义者看到了中国蕴藏的巨大反抗力量，让他们知道，如此“民气坚韧”的中国是不可征服的。</p><p>但是农民不代表新的生产方式，提不出科学的有远见的斗争纲领，不能战胜强大的敌人。在中外反动势力的镇压下，农民斗争以一次又一次的失败告终。在半封建半殖民的中国，太平天国和义和团运动证明：农民固然是一只强大的反帝反封建主力军，但是如果没有先进阶级的领导，是无法完成反帝反封建的历史任务的。</p>]]></content:encoded>
      
      
      <category domain="http://blog.xingxiaowu.cn/categories/%E5%85%9A%E5%91%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">党员学习笔记</category>
      
      
      <category domain="http://blog.xingxiaowu.cn/tags/%E5%85%9A%E5%91%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">党员学习笔记</category>
      
      
      <comments>http://blog.xingxiaowu.cn/2022/03/26/%E6%97%A0%E6%98%9F%E7%9A%84%E5%85%9A%E5%91%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%94%EF%BC%89/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>无星的electron之旅（十三）—— 复制图片到剪切板</title>
      <link>http://blog.xingxiaowu.cn/2022/03/03/%E6%97%A0%E6%98%9F%E7%9A%84electron%E4%B9%8B%E6%97%85%EF%BC%88%E5%8D%81%E4%B8%89%EF%BC%89%E2%80%94%E2%80%94%20%E5%A4%8D%E5%88%B6%E5%9B%BE%E7%89%87%E5%88%B0%E5%89%AA%E5%88%87%E6%9D%BF/</link>
      <guid>http://blog.xingxiaowu.cn/2022/03/03/%E6%97%A0%E6%98%9F%E7%9A%84electron%E4%B9%8B%E6%97%85%EF%BC%88%E5%8D%81%E4%B8%89%EF%BC%89%E2%80%94%E2%80%94%20%E5%A4%8D%E5%88%B6%E5%9B%BE%E7%89%87%E5%88%B0%E5%89%AA%E5%88%87%E6%9D%BF/</guid>
      <pubDate>Thu, 03 Mar 2022 10:32:54 GMT</pubDate>
      
      <description>&lt;h2 id=&quot;一、背景&quot;&gt;&lt;a href=&quot;#一、背景&quot; class=&quot;headerlink&quot; title=&quot;一、背景&quot;&gt;&lt;/a&gt;一、背景&lt;/h2&gt;&lt;p&gt;需求变更。。。仅此而已&lt;/p&gt;
&lt;h2 id=&quot;二、如何实现&quot;&gt;&lt;a href=&quot;#二、如何实现&quot; class=&quot;headerlink&quot; title=&quot;二、如何实现&quot;&gt;&lt;/a&gt;二、如何实现&lt;/h2&gt;&lt;p&gt;通过上一篇，我们已经知道了如何获取dom节点&lt;/p&gt;
&lt;p&gt;接下来要做的，则是将图片复制到剪切板&lt;/p&gt;
&lt;p&gt;我们从文档可以看到&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.electronjs.org/zh/docs/latest/api/native-image#nativeimagecreatefromnamedimageimagename-hslshift-macos&quot;&gt;clipboard.writeImage&lt;/a&gt;&lt;br&gt;&lt;code&gt;clipboard&lt;/code&gt;支持读写图片到剪切板，但必须是&lt;code&gt;nativeimage&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.electronjs.org/zh/docs/latest/api/native-image#nativeimagecreatefromdataurldataurl&quot;&gt;nativeimage.createFromDataURL&lt;/a&gt;&lt;br&gt;而&lt;code&gt;nativeimage&lt;/code&gt;可以支持从base64创建&lt;/p&gt;
&lt;p&gt;那么配合上一篇，我们拿到base64以后，通过这个操作，就可以复制图片到剪切板了&lt;/p&gt;
&lt;p&gt;代码如下&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<h2 id="一、背景"><a href="#一、背景" class="headerlink" title="一、背景"></a>一、背景</h2><p>需求变更。。。仅此而已</p><h2 id="二、如何实现"><a href="#二、如何实现" class="headerlink" title="二、如何实现"></a>二、如何实现</h2><p>通过上一篇，我们已经知道了如何获取dom节点</p><p>接下来要做的，则是将图片复制到剪切板</p><p>我们从文档可以看到</p><p><a href="https://www.electronjs.org/zh/docs/latest/api/native-image#nativeimagecreatefromnamedimageimagename-hslshift-macos">clipboard.writeImage</a><br><code>clipboard</code>支持读写图片到剪切板，但必须是<code>nativeimage</code></p><p><a href="https://www.electronjs.org/zh/docs/latest/api/native-image#nativeimagecreatefromdataurldataurl">nativeimage.createFromDataURL</a><br>而<code>nativeimage</code>可以支持从base64创建</p><p>那么配合上一篇，我们拿到base64以后，通过这个操作，就可以复制图片到剪切板了</p><p>代码如下</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// html 入口文件</span></span><br><span class="line"><span class="comment">///////////</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;contextmenu&quot;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">  e.<span class="title function_">preventDefault</span>();</span><br><span class="line">  <span class="keyword">const</span> domName = e.<span class="property">target</span>.<span class="property">localName</span>;</span><br><span class="line">  <span class="keyword">if</span> (domName === <span class="string">&quot;img&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (e.<span class="property">target</span>.<span class="property">id</span> === <span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">valueOf</span>();</span><br><span class="line">      e.<span class="property">target</span>.<span class="property">id</span> = date;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">rightMenu</span>.<span class="title function_">show</span>(e.<span class="property">target</span>.<span class="property">id</span>, e.<span class="property">target</span>.<span class="property">currentSrc</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">///////////</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// background.js</span></span><br><span class="line"><span class="comment">///////////</span></span><br><span class="line"><span class="keyword">const</span> rightMenu = <span class="title function_">initRightMenu</span>();</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">initRightMenu</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> rightTemplate = [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">label</span>: <span class="string">&quot;复制图片&quot;</span>,</span><br><span class="line">      <span class="attr">click</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;复制图片&quot;</span>);</span><br><span class="line">        mainWindow.<span class="property">webContents</span>.<span class="title function_">send</span>(<span class="string">&quot;copyImage&quot;</span>, &#123;</span><br><span class="line">          <span class="attr">domId</span>: clickDomId,</span><br><span class="line">          <span class="attr">imageUrl</span>:clickImageUrl</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">  ];</span><br><span class="line">  <span class="keyword">const</span> menu = <span class="title class_">Menu</span>.<span class="title function_">buildFromTemplate</span>(rightTemplate);</span><br><span class="line">  <span class="keyword">return</span> menu;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> clickDomId = <span class="literal">null</span></span><br><span class="line"><span class="keyword">let</span> clickImageUrl = <span class="literal">null</span></span><br><span class="line">ipcMain.<span class="title function_">handle</span>(<span class="string">&quot;show-context-menu&quot;</span>, <span class="function">(<span class="params">event, args</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; domId,imageUrl &#125; = args;</span><br><span class="line">  clickDomId = domId;</span><br><span class="line">  clickImageUrl = imageUrl;</span><br><span class="line">  rightMenu.<span class="title function_">popup</span>(&#123;</span><br><span class="line">    <span class="attr">window</span>: mainWindow.<span class="property">webContents</span>,</span><br><span class="line">    <span class="attr">callback</span>: <span class="function">() =&gt;</span> (clickDomId = <span class="literal">null</span>),</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">///////////</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// preload.js</span></span><br><span class="line"><span class="comment">///////////</span></span><br><span class="line"><span class="comment">// 注入时使用，可不在html入口处添加监听</span></span><br><span class="line"><span class="comment">// document.addEventListener(&quot;DOMContentLoaded&quot;, () =&gt; &#123;</span></span><br><span class="line"><span class="comment">//   window.addEventListener(&quot;contextmenu&quot;, (e) =&gt; &#123;</span></span><br><span class="line"><span class="comment">//     e.preventDefault();</span></span><br><span class="line"><span class="comment">//     const domName = e.target.localName;</span></span><br><span class="line"><span class="comment">//     if (domName === &quot;img&quot;) &#123;</span></span><br><span class="line"><span class="comment">//       if (e.target.id === &quot;&quot;) &#123;</span></span><br><span class="line"><span class="comment">//         const date = new Date().valueOf();</span></span><br><span class="line"><span class="comment">//         e.target.id = date;</span></span><br><span class="line"><span class="comment">//       &#125;</span></span><br><span class="line"><span class="comment">//       ipcRenderer.invoke(&quot;show-context-menu&quot;, &#123;</span></span><br><span class="line"><span class="comment">//         domId: e.target.id,</span></span><br><span class="line"><span class="comment">//         imageUrl: e.target.currentSrc</span></span><br><span class="line"><span class="comment">//       &#125;);</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">//   &#125;);</span></span><br><span class="line"><span class="comment">// &#125;);</span></span><br><span class="line">contextBridge.<span class="title function_">exposeInMainWorld</span>(<span class="string">&quot;rightMenu&quot;</span>, &#123;</span><br><span class="line">  <span class="attr">show</span>: <span class="function">(<span class="params">domId,currentSrc</span>) =&gt;</span></span><br><span class="line">    ipcRenderer.<span class="title function_">invoke</span>(<span class="string">&quot;show-context-menu&quot;</span>, &#123;</span><br><span class="line">      domId,currentSrc</span><br><span class="line">    &#125;),</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">ipcRenderer.<span class="title function_">on</span>(<span class="string">&quot;copyImage&quot;</span>, <span class="function">(<span class="params">event, args</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; domId,imageUrl &#125; = args;</span><br><span class="line">  <span class="title function_">imageToBase64</span>(imageUrl)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">imageToBase64</span> = (<span class="params">url</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> image = <span class="keyword">new</span> <span class="title class_">Image</span>();</span><br><span class="line">    image.<span class="property">crossOrigin</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    image.<span class="property">src</span> = url;</span><br><span class="line">    image.<span class="property">onload</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> base64 = <span class="title function_">getBase64Image</span>(image);</span><br><span class="line">      <span class="keyword">const</span> img = nativeImage.<span class="title function_">createFromDataURL</span>(base64)</span><br><span class="line">      clipboard.<span class="title function_">writeImage</span>(img)</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getBase64Image</span> = (<span class="params">img</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> canvas = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;canvas&quot;</span>);</span><br><span class="line">  canvas.<span class="property">width</span> = img.<span class="property">width</span>;</span><br><span class="line">  canvas.<span class="property">height</span> = img.<span class="property">height</span>;</span><br><span class="line">  <span class="keyword">const</span> ctx = canvas.<span class="title function_">getContext</span>(<span class="string">&quot;2d&quot;</span>);</span><br><span class="line">  ctx.<span class="title function_">drawImage</span>(img, <span class="number">0</span>, <span class="number">0</span>, img.<span class="property">width</span>, img.<span class="property">height</span>);</span><br><span class="line">  <span class="keyword">let</span> ext = img.<span class="property">src</span>.<span class="title function_">substring</span>(img.<span class="property">src</span>.<span class="title function_">lastIndexOf</span>(<span class="string">&quot;.&quot;</span>) + <span class="number">1</span>).<span class="title function_">toLowerCase</span>();</span><br><span class="line">  <span class="keyword">if</span> (ext === <span class="string">&quot;jpg&quot;</span>) &#123;</span><br><span class="line">    ext = <span class="string">&quot;jpeg&quot;</span>; <span class="comment">//这个地方是由于如果是jpg, 他会识别成image/png</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> dataURL = canvas.<span class="title function_">toDataURL</span>(<span class="string">&quot;image/&quot;</span> + ext);</span><br><span class="line">  <span class="keyword">return</span> dataURL;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">///////////</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h1><p><img src="/images/electron13/1.gif" alt="1"></p>]]></content:encoded>
      
      
      <category domain="http://blog.xingxiaowu.cn/categories/electron/">electron</category>
      
      
      <category domain="http://blog.xingxiaowu.cn/tags/electron/">electron</category>
      
      
      <comments>http://blog.xingxiaowu.cn/2022/03/03/%E6%97%A0%E6%98%9F%E7%9A%84electron%E4%B9%8B%E6%97%85%EF%BC%88%E5%8D%81%E4%B8%89%EF%BC%89%E2%80%94%E2%80%94%20%E5%A4%8D%E5%88%B6%E5%9B%BE%E7%89%87%E5%88%B0%E5%89%AA%E5%88%87%E6%9D%BF/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>无星的electron之旅（十二）—— 如何像浏览器一样制作右键菜单</title>
      <link>http://blog.xingxiaowu.cn/2022/03/02/%E6%97%A0%E6%98%9F%E7%9A%84electron%E4%B9%8B%E6%97%85%EF%BC%88%E5%8D%81%E4%BA%8C%EF%BC%89%E2%80%94%E2%80%94%20%E5%A6%82%E4%BD%95%E5%83%8F%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%80%E6%A0%B7%E5%88%B6%E4%BD%9C%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95/</link>
      <guid>http://blog.xingxiaowu.cn/2022/03/02/%E6%97%A0%E6%98%9F%E7%9A%84electron%E4%B9%8B%E6%97%85%EF%BC%88%E5%8D%81%E4%BA%8C%EF%BC%89%E2%80%94%E2%80%94%20%E5%A6%82%E4%BD%95%E5%83%8F%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%80%E6%A0%B7%E5%88%B6%E4%BD%9C%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95/</guid>
      <pubDate>Wed, 02 Mar 2022 15:32:54 GMT</pubDate>
      
      <description>&lt;h2 id=&quot;一、背景&quot;&gt;&lt;a href=&quot;#一、背景&quot; class=&quot;headerlink&quot; title=&quot;一、背景&quot;&gt;&lt;/a&gt;一、背景&lt;/h2&gt;&lt;p&gt;接了个小需求，已有网站，做了个electron的壳，需要添加右键菜单&lt;br&gt;1.复制图片为base64&lt;br&gt;2.另存为图片&lt;br&gt;3.复制图片地址&lt;/p&gt;
&lt;h2 id=&quot;二、首先需要添加右键菜单&quot;&gt;&lt;a href=&quot;#二、首先需要添加右键菜单&quot; class=&quot;headerlink&quot; title=&quot;二、首先需要添加右键菜单&quot;&gt;&lt;/a&gt;二、首先需要添加右键菜单&lt;/h2&gt;&lt;h2 id=&quot;1-主线程-background-js添加右键菜单内容&quot;&gt;&lt;a href=&quot;#1-主线程-background-js添加右键菜单内容&quot; class=&quot;headerlink&quot; title=&quot;1.主线程 background.js添加右键菜单内容&quot;&gt;&lt;/a&gt;1.主线程 background.js添加右键菜单内容&lt;/h2&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// background.js&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;///////////&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; rightMenu = &lt;span class=&quot;title function_&quot;&gt;initRightMenu&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title function_&quot;&gt;initRightMenu&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; rightTemplate = [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;attr&quot;&gt;label&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&amp;quot;复制图片为base64&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;attr&quot;&gt;click&lt;/span&gt;: &lt;span class=&quot;function&quot;&gt;() =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&amp;quot;复制图片为base64&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;attr&quot;&gt;label&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&amp;quot;另存为图片&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;attr&quot;&gt;click&lt;/span&gt;: &lt;span class=&quot;function&quot;&gt;() =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&amp;quot;另存为图片&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;attr&quot;&gt;label&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&amp;quot;复制图片URL&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;attr&quot;&gt;click&lt;/span&gt;: &lt;span class=&quot;function&quot;&gt;() =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&amp;quot;复制图片URL&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  ];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; menu = &lt;span class=&quot;title class_&quot;&gt;Menu&lt;/span&gt;.&lt;span class=&quot;title function_&quot;&gt;buildFromTemplate&lt;/span&gt;(rightTemplate);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; menu;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;///////////&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;2-页面右键要能调用&quot;&gt;&lt;a href=&quot;#2-页面右键要能调用&quot; class=&quot;headerlink&quot; title=&quot;2.页面右键要能调用&quot;&gt;&lt;/a&gt;2.页面右键要能调用&lt;/h2&gt;&lt;p&gt;需要页面右键能够响应&lt;/p&gt;
&lt;p&gt;那么我们需要在页面上能够获取到右键的点击事件&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 页面入口，比如vue的main.js&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;title function_&quot;&gt;addEventListener&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&amp;quot;contextmenu&amp;quot;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;(&lt;span class=&quot;params&quot;&gt;e&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  e.&lt;span class=&quot;title function_&quot;&gt;preventDefault&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// TODO 通知主线程&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&quot;3-通知主线程响应&quot;&gt;&lt;a href=&quot;#3-通知主线程响应&quot; class=&quot;headerlink&quot; title=&quot;3.通知主线程响应&quot;&gt;&lt;/a&gt;3.通知主线程响应&lt;/h2&gt;</description>
      
      
      
      <content:encoded><![CDATA[<h2 id="一、背景"><a href="#一、背景" class="headerlink" title="一、背景"></a>一、背景</h2><p>接了个小需求，已有网站，做了个electron的壳，需要添加右键菜单<br>1.复制图片为base64<br>2.另存为图片<br>3.复制图片地址</p><h2 id="二、首先需要添加右键菜单"><a href="#二、首先需要添加右键菜单" class="headerlink" title="二、首先需要添加右键菜单"></a>二、首先需要添加右键菜单</h2><h2 id="1-主线程-background-js添加右键菜单内容"><a href="#1-主线程-background-js添加右键菜单内容" class="headerlink" title="1.主线程 background.js添加右键菜单内容"></a>1.主线程 background.js添加右键菜单内容</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// background.js</span></span><br><span class="line"><span class="comment">///////////</span></span><br><span class="line"><span class="keyword">const</span> rightMenu = <span class="title function_">initRightMenu</span>();</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">initRightMenu</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> rightTemplate = [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">label</span>: <span class="string">&quot;复制图片为base64&quot;</span>,</span><br><span class="line">      <span class="attr">click</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;复制图片为base64&quot;</span>);</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">label</span>: <span class="string">&quot;另存为图片&quot;</span>,</span><br><span class="line">      <span class="attr">click</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;另存为图片&quot;</span>);</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">label</span>: <span class="string">&quot;复制图片URL&quot;</span>,</span><br><span class="line">      <span class="attr">click</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;复制图片URL&quot;</span>);</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  ];</span><br><span class="line">  <span class="keyword">const</span> menu = <span class="title class_">Menu</span>.<span class="title function_">buildFromTemplate</span>(rightTemplate);</span><br><span class="line">  <span class="keyword">return</span> menu;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">///////////</span></span><br></pre></td></tr></table></figure><h2 id="2-页面右键要能调用"><a href="#2-页面右键要能调用" class="headerlink" title="2.页面右键要能调用"></a>2.页面右键要能调用</h2><p>需要页面右键能够响应</p><p>那么我们需要在页面上能够获取到右键的点击事件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 页面入口，比如vue的main.js</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;contextmenu&quot;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">  e.<span class="title function_">preventDefault</span>();</span><br><span class="line">  <span class="comment">// TODO 通知主线程</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="3-通知主线程响应"><a href="#3-通知主线程响应" class="headerlink" title="3.通知主线程响应"></a>3.通知主线程响应</h2><p>通过<code>preload</code>为window对象挂上一个<code>rightMenu</code>属性用于沟通调用</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// preload.js</span></span><br><span class="line">contextBridge.<span class="title function_">exposeInMainWorld</span>(<span class="string">&quot;rightMenu&quot;</span>, &#123;</span><br><span class="line">  <span class="attr">show</span>: <span class="function">(<span class="params">domId</span>) =&gt;</span></span><br><span class="line">    ipcRenderer.<span class="title function_">invoke</span>(<span class="string">&quot;show-context-menu&quot;</span>, &#123;</span><br><span class="line">      domId,</span><br><span class="line">    &#125;),</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;contextmenu&quot;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">  e.<span class="title function_">preventDefault</span>();</span><br><span class="line">  <span class="keyword">const</span> domName = e.<span class="property">target</span>.<span class="property">localName</span>;</span><br><span class="line">  <span class="keyword">if</span> (domName === <span class="string">&quot;img&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (e.<span class="property">target</span>.<span class="property">id</span> === <span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">valueOf</span>();</span><br><span class="line">      e.<span class="property">target</span>.<span class="property">id</span> = date;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">rightMenu</span>.<span class="title function_">show</span>(e.<span class="property">target</span>.<span class="property">id</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>因为我们的目标是图片，所以判断一下，是图片才调用右键展示</p><p>同时我们需要知道我们需要操作哪个dom，所以为其设置一个id，方便后续操作</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// background.js</span></span><br><span class="line">ipcMain.<span class="title function_">handle</span>(<span class="string">&quot;show-context-menu&quot;</span>, <span class="function">(<span class="params">event, args</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; domId &#125; = args;</span><br><span class="line">  clickDomId = domId;</span><br><span class="line">  rightMenu.<span class="title function_">popup</span>(&#123;</span><br><span class="line">    <span class="attr">window</span>: <span class="title class_">BrowserWindow</span>.<span class="title function_">getFocusedWindow</span>().<span class="property">webContents</span>,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>展示</p><h2 id="4-实现内容"><a href="#4-实现内容" class="headerlink" title="4.实现内容"></a>4.实现内容</h2><p>好像有点简单，随便百度了几个方法，就不多说了，直接放代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// preload.js</span></span><br><span class="line">ipcRenderer.<span class="title function_">on</span>(<span class="string">&quot;base64&quot;</span>, <span class="function">(<span class="params">event, args</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; domId &#125; = args;</span><br><span class="line">  <span class="keyword">const</span> element = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(domId);</span><br><span class="line">  <span class="title function_">imageToBase64</span>(element.<span class="property">currentSrc</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">ipcRenderer.<span class="title function_">on</span>(<span class="string">&quot;saveImage&quot;</span>, <span class="function">(<span class="params">event, args</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; domId &#125; = args;</span><br><span class="line">  <span class="keyword">const</span> element = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(domId);</span><br><span class="line">  <span class="keyword">const</span> nameArray = element.<span class="property">currentSrc</span>.<span class="title function_">split</span>(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> tmpArray = nameArray[nameArray.<span class="property">length</span> - <span class="number">1</span>].<span class="title function_">split</span>(<span class="string">&quot;.&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> name = tmpArray[<span class="number">0</span>];</span><br><span class="line">  <span class="comment">// console.log(nameArray);</span></span><br><span class="line">  <span class="title function_">download</span>(element.<span class="property">currentSrc</span>, name);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">ipcRenderer.<span class="title function_">on</span>(<span class="string">&quot;copyUrl&quot;</span>, <span class="function">(<span class="params">event, args</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; domId &#125; = args;</span><br><span class="line">  <span class="keyword">const</span> element = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(domId);</span><br><span class="line">  <span class="title function_">copy</span>(element.<span class="property">currentSrc</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// base64</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getBase64Image</span> = (<span class="params">img</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> canvas = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;canvas&quot;</span>);</span><br><span class="line">  canvas.<span class="property">width</span> = img.<span class="property">width</span>;</span><br><span class="line">  canvas.<span class="property">height</span> = img.<span class="property">height</span>;</span><br><span class="line">  <span class="keyword">const</span> ctx = canvas.<span class="title function_">getContext</span>(<span class="string">&quot;2d&quot;</span>);</span><br><span class="line">  ctx.<span class="title function_">drawImage</span>(img, <span class="number">0</span>, <span class="number">0</span>, img.<span class="property">width</span>, img.<span class="property">height</span>);</span><br><span class="line">  <span class="keyword">let</span> ext = img.<span class="property">src</span>.<span class="title function_">substring</span>(img.<span class="property">src</span>.<span class="title function_">lastIndexOf</span>(<span class="string">&quot;.&quot;</span>) + <span class="number">1</span>).<span class="title function_">toLowerCase</span>();</span><br><span class="line">  <span class="keyword">if</span> (ext === <span class="string">&quot;jpg&quot;</span>) &#123;</span><br><span class="line">    ext = <span class="string">&quot;jpeg&quot;</span>; <span class="comment">//这个地方是由于如果是jpg, 他会识别成image/png</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> dataURL = canvas.<span class="title function_">toDataURL</span>(<span class="string">&quot;image/&quot;</span> + ext);</span><br><span class="line">  <span class="keyword">return</span> dataURL;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">imageToBase64</span> = (<span class="params">url</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">let</span> image = <span class="keyword">new</span> <span class="title class_">Image</span>();</span><br><span class="line">  image.<span class="property">crossOrigin</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  image.<span class="property">src</span> = url;</span><br><span class="line">  image.<span class="property">onload</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> base64 = <span class="title function_">getBase64Image</span>(image);</span><br><span class="line">    <span class="comment">// console.log(base64);</span></span><br><span class="line">    <span class="title function_">copy</span>(base64);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">download</span> = (<span class="params">data, name</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (!data) &#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">getUrlBase64</span>(data).<span class="title function_">then</span>(<span class="function">(<span class="params">base64</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">    a.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">    a.<span class="property">download</span> = name;</span><br><span class="line">    a.<span class="property">href</span> = base64;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(a);</span><br><span class="line">    a.<span class="title function_">click</span>();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getUrlBase64</span> = (<span class="params">url</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> canvas = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;canvas&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> ctx = canvas.<span class="title function_">getContext</span>(<span class="string">&quot;2d&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> img = <span class="keyword">new</span> <span class="title class_">Image</span>();</span><br><span class="line">    img.<span class="property">crossOrigin</span> = <span class="string">&quot;Anonymous&quot;</span>; <span class="comment">//允许跨域</span></span><br><span class="line">    img.<span class="property">src</span> = url;</span><br><span class="line">    img.<span class="property">onload</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      canvas.<span class="property">height</span> = <span class="number">300</span>;</span><br><span class="line">      canvas.<span class="property">width</span> = <span class="number">300</span>;</span><br><span class="line">      ctx.<span class="title function_">drawImage</span>(img, <span class="number">0</span>, <span class="number">0</span>, <span class="number">300</span>, <span class="number">300</span>);</span><br><span class="line">      <span class="keyword">let</span> dataURL = canvas.<span class="title function_">toDataURL</span>(<span class="string">&quot;image/png&quot;</span>);</span><br><span class="line">      canvas = <span class="literal">null</span>;</span><br><span class="line">      <span class="title function_">resolve</span>(dataURL);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="那么如果是加载别人远程页面，没有页面代码，比如我们是个浏览器，如何实现这个功能？"><a href="#那么如果是加载别人远程页面，没有页面代码，比如我们是个浏览器，如何实现这个功能？" class="headerlink" title="那么如果是加载别人远程页面，没有页面代码，比如我们是个浏览器，如何实现这个功能？"></a>那么如果是加载别人远程页面，没有页面代码，比如我们是个浏览器，如何实现这个功能？</h1><p>其实也有方法，我们可以通过注入的方式去做</p><p>可见<a href="https://blog.xingxiaowu.cn/2021/01/03/%E6%97%A0%E6%98%9F%E7%9A%84electron%E4%B9%8B%E6%97%85%EF%BC%88%E4%B9%9D%EF%BC%89%E2%80%94%E2%80%94%20JS%E6%B3%A8%E5%85%A5/">无星的electron之旅（九）—— JS注入</a></p><p>在页面加载完成以后，通过<code>preload</code>注入代码即可</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// preload.js</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;DOMContentLoaded&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 页面内容加载之后需要引入的一些操作</span></span><br><span class="line">  <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;contextmenu&quot;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    e.<span class="title function_">preventDefault</span>();</span><br><span class="line">    <span class="keyword">const</span> domName = e.<span class="property">target</span>.<span class="property">localName</span>;</span><br><span class="line">    <span class="keyword">if</span> (domName === <span class="string">&quot;img&quot;</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (e.<span class="property">target</span>.<span class="property">id</span> === <span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">valueOf</span>();</span><br><span class="line">        e.<span class="property">target</span>.<span class="property">id</span> = date;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// window.rightMenu.show(e.target.id);</span></span><br><span class="line">      ipcRenderer.<span class="title function_">invoke</span>(<span class="string">&quot;show-context-menu&quot;</span>, &#123;</span><br><span class="line">        <span class="attr">domId</span>: e.<span class="property">target</span>.<span class="property">id</span>,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>通过这段代码，我们可以为不同样式标签添加不同操作，并且不需要修改网页代码，自然像浏览器一样，添加右键菜单</p><h1 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h1><p><img src="/images/electron12/1.gif" alt="1"></p>]]></content:encoded>
      
      
      <category domain="http://blog.xingxiaowu.cn/categories/electron/">electron</category>
      
      
      <category domain="http://blog.xingxiaowu.cn/tags/electron/">electron</category>
      
      
      <comments>http://blog.xingxiaowu.cn/2022/03/02/%E6%97%A0%E6%98%9F%E7%9A%84electron%E4%B9%8B%E6%97%85%EF%BC%88%E5%8D%81%E4%BA%8C%EF%BC%89%E2%80%94%E2%80%94%20%E5%A6%82%E4%BD%95%E5%83%8F%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%80%E6%A0%B7%E5%88%B6%E4%BD%9C%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>无星的electron之旅（十一）—— 阿星的electron打包页面</title>
      <link>http://blog.xingxiaowu.cn/2022/02/21/%E6%97%A0%E6%98%9F%E7%9A%84electron%E4%B9%8B%E6%97%85%EF%BC%88%E5%8D%81%E4%B8%80%EF%BC%89%E2%80%94%E2%80%94%20%E9%98%BF%E6%98%9F%E7%9A%84electron%E6%89%93%E5%8C%85%E9%A1%B5%E9%9D%A2/</link>
      <guid>http://blog.xingxiaowu.cn/2022/02/21/%E6%97%A0%E6%98%9F%E7%9A%84electron%E4%B9%8B%E6%97%85%EF%BC%88%E5%8D%81%E4%B8%80%EF%BC%89%E2%80%94%E2%80%94%20%E9%98%BF%E6%98%9F%E7%9A%84electron%E6%89%93%E5%8C%85%E9%A1%B5%E9%9D%A2/</guid>
      <pubDate>Mon, 21 Feb 2022 14:32:54 GMT</pubDate>
      
      <description>&lt;h2 id=&quot;一、背景&quot;&gt;&lt;a href=&quot;#一、背景&quot; class=&quot;headerlink&quot; title=&quot;一、背景&quot;&gt;&lt;/a&gt;一、背景&lt;/h2&gt;&lt;p&gt;因为用的是mac，发现有些网站不提供mac的应用版，所以很不爽，想自己打包&lt;/p&gt;
&lt;p&gt;其实也有些企业做好了网站，想套个壳直接做成应用&lt;/p&gt;
&lt;p&gt;因此我用我毕生功力，做了个打包页面，快速产壳&lt;/p&gt;
&lt;h2 id=&quot;二、地址&quot;&gt;&lt;a href=&quot;#二、地址&quot; class=&quot;headerlink&quot; title=&quot;二、地址&quot;&gt;&lt;/a&gt;二、地址&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://blog.xingxiaowu.cn/electron&quot;&gt;阿星的打包页面&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;依次输入我需要的参数&lt;/p&gt;
&lt;p&gt;例如:&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;客户端需要打包的url地址: https://www.bilibili.com/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;客户端名称: bilibili&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;客户端appid: com.bilibili.app&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;接收应用程序的邮箱: 329106954@qq.com&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;然后选择需要打包的平台&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<h2 id="一、背景"><a href="#一、背景" class="headerlink" title="一、背景"></a>一、背景</h2><p>因为用的是mac，发现有些网站不提供mac的应用版，所以很不爽，想自己打包</p><p>其实也有些企业做好了网站，想套个壳直接做成应用</p><p>因此我用我毕生功力，做了个打包页面，快速产壳</p><h2 id="二、地址"><a href="#二、地址" class="headerlink" title="二、地址"></a>二、地址</h2><p><a href="https://blog.xingxiaowu.cn/electron">阿星的打包页面</a></p><p>依次输入我需要的参数</p><p>例如:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">客户端需要打包的url地址: https://www.bilibili.com/</span><br><span class="line"></span><br><span class="line">客户端名称: bilibili</span><br><span class="line"></span><br><span class="line">客户端appid: com.bilibili.app</span><br><span class="line"></span><br><span class="line">接收应用程序的邮箱: 329106954@qq.com</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>然后选择需要打包的平台</p><p>然后就可以前往查看构建进度</p><p><img src="/images/electron10/1.png" alt="1"></p><p><img src="/images/electron10/2.png" alt="2"></p><p><img src="/images/electron10/3.png" alt="3"></p><p>然后安装即可</p><h2 id="三、Feature"><a href="#三、Feature" class="headerlink" title="三、Feature"></a>三、Feature</h2><h3 id="1-当前electron包体过大，无法通过邮件发送"><a href="#1-当前electron包体过大，无法通过邮件发送" class="headerlink" title="1.当前electron包体过大，无法通过邮件发送"></a>1.当前electron包体过大，无法通过邮件发送</h3><p>后续想换个别的框架，例如tauri来缩小包体，通过邮件发送，避免国内github下载缓慢的问题</p><h3 id="2-目前应用图标不支持自定义"><a href="#2-目前应用图标不支持自定义" class="headerlink" title="2.目前应用图标不支持自定义"></a>2.目前应用图标不支持自定义</h3><p>主要是没钱买服务器或者图床，要是有老哥有免费的图床分享一下也是极好的</p><p>目前的图标是我随便找的=。=如有侵权，请联系我删除</p><h3 id="3-添加更多的自定义配置"><a href="#3-添加更多的自定义配置" class="headerlink" title="3.添加更多的自定义配置"></a>3.添加更多的自定义配置</h3><h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><p>无</p>]]></content:encoded>
      
      
      <category domain="http://blog.xingxiaowu.cn/categories/electron/">electron</category>
      
      
      <category domain="http://blog.xingxiaowu.cn/tags/electron/">electron</category>
      
      
      <comments>http://blog.xingxiaowu.cn/2022/02/21/%E6%97%A0%E6%98%9F%E7%9A%84electron%E4%B9%8B%E6%97%85%EF%BC%88%E5%8D%81%E4%B8%80%EF%BC%89%E2%80%94%E2%80%94%20%E9%98%BF%E6%98%9F%E7%9A%84electron%E6%89%93%E5%8C%85%E9%A1%B5%E9%9D%A2/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>无星的党员学习笔记（四）—— 列强侵华引发了什么变化</title>
      <link>http://blog.xingxiaowu.cn/2022/02/15/%E6%97%A0%E6%98%9F%E7%9A%84%E5%85%9A%E5%91%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E5%9B%9B%EF%BC%89/</link>
      <guid>http://blog.xingxiaowu.cn/2022/02/15/%E6%97%A0%E6%98%9F%E7%9A%84%E5%85%9A%E5%91%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E5%9B%9B%EF%BC%89/</guid>
      <pubDate>Tue, 15 Feb 2022 09:42:00 GMT</pubDate>
      
      <description>&lt;p&gt;最近在读党史，记录一些随笔。&lt;/p&gt;
&lt;p&gt;外国资本主义的入侵，打断了中国社会的正常发展历程。由此派生的社会矛盾，阶级关系和革命性质逐渐发生了深刻的变化。&lt;/p&gt;
&lt;p&gt;在外国资本主义入侵之前，我国是一个独立的以农业经济为基础的封建君主制国家，而社会内部的商品经济发展已经孕育着资本主义生产关系萌芽。假如没有西方资本主义的入侵，我国也许也会和西方国家一样，缓慢发展到资本主义社会。&lt;/p&gt;
&lt;p&gt;但是因为西方列强的侵略，打断了中国的自然发展道路。西方列强的侵略目的，不是把中国变成资本主义国家，而是希望把中国变成单纯的商品市场和原料基地。由于资本主义的入侵，我国的资本主义也得到了加速发展，但是传统的农业经济仍是中国的主要经济形式，“封建社会中占主导地位的自给自足的自然经济虽然逐渐遭到破坏，但是封建的土地关系，即封建剥削制度的根基——地主阶级对农民的剥削，不但依旧保持着，而且同官僚买办资本和高利贷的剥削结合在了一起，在中国的社会经济生活中仍占明显优势”。这一点在后续的革命中非常重要，也是为什么我党的革命能成功。&lt;/p&gt;
&lt;p&gt;另一方面不少仁人志士围绕挽救民族危亡和改革中国社会，开展了一系列的革命行动。&lt;/p&gt;
</description>
      
      
      
      <content:encoded><![CDATA[<p>最近在读党史，记录一些随笔。</p><p>外国资本主义的入侵，打断了中国社会的正常发展历程。由此派生的社会矛盾，阶级关系和革命性质逐渐发生了深刻的变化。</p><p>在外国资本主义入侵之前，我国是一个独立的以农业经济为基础的封建君主制国家，而社会内部的商品经济发展已经孕育着资本主义生产关系萌芽。假如没有西方资本主义的入侵，我国也许也会和西方国家一样，缓慢发展到资本主义社会。</p><p>但是因为西方列强的侵略，打断了中国的自然发展道路。西方列强的侵略目的，不是把中国变成资本主义国家，而是希望把中国变成单纯的商品市场和原料基地。由于资本主义的入侵，我国的资本主义也得到了加速发展，但是传统的农业经济仍是中国的主要经济形式，“封建社会中占主导地位的自给自足的自然经济虽然逐渐遭到破坏，但是封建的土地关系，即封建剥削制度的根基——地主阶级对农民的剥削，不但依旧保持着，而且同官僚买办资本和高利贷的剥削结合在了一起，在中国的社会经济生活中仍占明显优势”。这一点在后续的革命中非常重要，也是为什么我党的革命能成功。</p><p>另一方面不少仁人志士围绕挽救民族危亡和改革中国社会，开展了一系列的革命行动。</p>]]></content:encoded>
      
      
      <category domain="http://blog.xingxiaowu.cn/categories/%E5%85%9A%E5%91%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">党员学习笔记</category>
      
      
      <category domain="http://blog.xingxiaowu.cn/tags/%E5%85%9A%E5%91%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">党员学习笔记</category>
      
      
      <comments>http://blog.xingxiaowu.cn/2022/02/15/%E6%97%A0%E6%98%9F%E7%9A%84%E5%85%9A%E5%91%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E5%9B%9B%EF%BC%89/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>无星的党员学习笔记（三）—— 西方侵略</title>
      <link>http://blog.xingxiaowu.cn/2022/01/07/%E6%97%A0%E6%98%9F%E7%9A%84%E5%85%9A%E5%91%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89/</link>
      <guid>http://blog.xingxiaowu.cn/2022/01/07/%E6%97%A0%E6%98%9F%E7%9A%84%E5%85%9A%E5%91%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89/</guid>
      <pubDate>Fri, 07 Jan 2022 13:32:00 GMT</pubDate>
      
      <description>&lt;p&gt;最近在读党史，记录一些随笔。&lt;/p&gt;
&lt;p&gt;西方列强通过一次又一次的对华侵略战争，签订了一系列的不平等条约。西方列强在中国的活动，是以享受条约所赋予的特权为基本特征的。它们通过不平等条约，在中国取得了许多重要的特权。如设立港口“租界”，开设矿场，修筑铁路，建立银行等。它们控制着通商口岸，海关，对外贸易，交通运输。大量的倾销它们的商品，把中国变成它们的销售市场和榨取原料的基地。&lt;/p&gt;
&lt;p&gt;实际上我们可以看到，所有的殖民地，资本主义国家对他们的态度都是一样的，要么变成某一单一原料的生产基地，要么变成产品倾销地，或二者皆有。反过来想想现在，大多数的发展中国家，有很多都是单一的原料生产国，巴西，菲律宾，厄瓜多尔等等。现有的西方发达国家，限制发展中国家们的发展，只希望它们成为单一的原料生产国，而加工等作业停留在本国，以及其便宜的原材料进口，然后对外输出商品。&lt;/p&gt;
&lt;p&gt;在19世纪末，世界资本主义开始进入帝国主义阶段，垄断代替自由竞争模式。甲午战争后，资本输出成为帝国主义侵华的特殊手段。除在华投资建厂外，对中国的贷款成为帝国主义控制中国财政，争夺“势力范围“和左右中国政局的工具。除经济侵略之外，还有文化侵略，以传教为中心，不断对中国实行着精神灌输，妄图通过潜移默化的思想教育去”统治“中国人。&lt;/p&gt;
&lt;p&gt;从1840年战争伊始，到20世纪初，中国虽然保持着形式上的独立，但是实际上已经完全沦为几个帝国主义国家的半殖民地，面临着空前的民族危机。&lt;/p&gt;
</description>
      
      
      
      <content:encoded><![CDATA[<p>最近在读党史，记录一些随笔。</p><p>西方列强通过一次又一次的对华侵略战争，签订了一系列的不平等条约。西方列强在中国的活动，是以享受条约所赋予的特权为基本特征的。它们通过不平等条约，在中国取得了许多重要的特权。如设立港口“租界”，开设矿场，修筑铁路，建立银行等。它们控制着通商口岸，海关，对外贸易，交通运输。大量的倾销它们的商品，把中国变成它们的销售市场和榨取原料的基地。</p><p>实际上我们可以看到，所有的殖民地，资本主义国家对他们的态度都是一样的，要么变成某一单一原料的生产基地，要么变成产品倾销地，或二者皆有。反过来想想现在，大多数的发展中国家，有很多都是单一的原料生产国，巴西，菲律宾，厄瓜多尔等等。现有的西方发达国家，限制发展中国家们的发展，只希望它们成为单一的原料生产国，而加工等作业停留在本国，以及其便宜的原材料进口，然后对外输出商品。</p><p>在19世纪末，世界资本主义开始进入帝国主义阶段，垄断代替自由竞争模式。甲午战争后，资本输出成为帝国主义侵华的特殊手段。除在华投资建厂外，对中国的贷款成为帝国主义控制中国财政，争夺“势力范围“和左右中国政局的工具。除经济侵略之外，还有文化侵略，以传教为中心，不断对中国实行着精神灌输，妄图通过潜移默化的思想教育去”统治“中国人。</p><p>从1840年战争伊始，到20世纪初，中国虽然保持着形式上的独立，但是实际上已经完全沦为几个帝国主义国家的半殖民地，面临着空前的民族危机。</p>]]></content:encoded>
      
      
      <category domain="http://blog.xingxiaowu.cn/categories/%E5%85%9A%E5%91%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">党员学习笔记</category>
      
      
      <category domain="http://blog.xingxiaowu.cn/tags/%E5%85%9A%E5%91%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">党员学习笔记</category>
      
      
      <comments>http://blog.xingxiaowu.cn/2022/01/07/%E6%97%A0%E6%98%9F%E7%9A%84%E5%85%9A%E5%91%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>无星的党员学习笔记（二）——为什么西方列强要用战争的方式侵略中国</title>
      <link>http://blog.xingxiaowu.cn/2022/01/06/%E6%97%A0%E6%98%9F%E7%9A%84%E5%85%9A%E5%91%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89/</link>
      <guid>http://blog.xingxiaowu.cn/2022/01/06/%E6%97%A0%E6%98%9F%E7%9A%84%E5%85%9A%E5%91%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89/</guid>
      <pubDate>Thu, 06 Jan 2022 12:11:00 GMT</pubDate>
      
      <description>&lt;p&gt;最近在读党史，记录一些随笔。&lt;/p&gt;
&lt;p&gt;前面我们解释了为什么西方的资本主义国家想要进入中国市场。但是为什么不通过贸易的方式和平进入，而要发动鸦片战争？&lt;/p&gt;
&lt;p&gt;带着这个问题，我继续阅读着党史。&lt;/p&gt;
&lt;p&gt;西方资本主义国家也曾希望通过商品贸易进入中国，但是当时的中国还处于封建社会，由清政府统治。&lt;br&gt;清政府采取闭关锁国的策略，认为自己是“天朝上国”，物资充沛，自给自足。而确实，当时的中国是小农经济社会，商品并未完全自由流通。因此西方的商品，无法进入中国，反倒是中国的茶叶丝绸瓷器，在国外很受欢迎，这样就形成了贸易逆差。对西方而言，不仅赚不到钱，反而不断向中国送钱。&lt;/p&gt;
&lt;p&gt;所以西方想出了一个恶毒的点子，贩卖鸦片。（我的评价是：西方🐶真的畜生。）因为鸦片具有成瘾性，可以源源不断的带来收益。&lt;/p&gt;
&lt;p&gt;幸而有识之士的出现，1839年林则徐虎门销烟，开启了全面禁烟的时代。&lt;/p&gt;
&lt;p&gt;但是彼时我国无论是经济政治还是军事文化，全面滞后于世界。落后就要挨打，虎门销烟后，列强就打算用大炮轰开我国的大门，获得贸易权。1840年第一次鸦片战争，就这样发生了。1842年，英军直逼南京城下，迫使清政府屈服，订立了中国近代史上第一个丧权辱国的不平等条约——中英《南京条约》。&lt;/p&gt;
&lt;p&gt;鸦片战争成为中国近代史的转折点。从此西方侵略者穷凶极恶的对中国发起一次又一次的战争，把中国一步一步推入半殖民地的深渊。&lt;/p&gt;
</description>
      
      
      
      <content:encoded><![CDATA[<p>最近在读党史，记录一些随笔。</p><p>前面我们解释了为什么西方的资本主义国家想要进入中国市场。但是为什么不通过贸易的方式和平进入，而要发动鸦片战争？</p><p>带着这个问题，我继续阅读着党史。</p><p>西方资本主义国家也曾希望通过商品贸易进入中国，但是当时的中国还处于封建社会，由清政府统治。<br>清政府采取闭关锁国的策略，认为自己是“天朝上国”，物资充沛，自给自足。而确实，当时的中国是小农经济社会，商品并未完全自由流通。因此西方的商品，无法进入中国，反倒是中国的茶叶丝绸瓷器，在国外很受欢迎，这样就形成了贸易逆差。对西方而言，不仅赚不到钱，反而不断向中国送钱。</p><p>所以西方想出了一个恶毒的点子，贩卖鸦片。（我的评价是：西方🐶真的畜生。）因为鸦片具有成瘾性，可以源源不断的带来收益。</p><p>幸而有识之士的出现，1839年林则徐虎门销烟，开启了全面禁烟的时代。</p><p>但是彼时我国无论是经济政治还是军事文化，全面滞后于世界。落后就要挨打，虎门销烟后，列强就打算用大炮轰开我国的大门，获得贸易权。1840年第一次鸦片战争，就这样发生了。1842年，英军直逼南京城下，迫使清政府屈服，订立了中国近代史上第一个丧权辱国的不平等条约——中英《南京条约》。</p><p>鸦片战争成为中国近代史的转折点。从此西方侵略者穷凶极恶的对中国发起一次又一次的战争，把中国一步一步推入半殖民地的深渊。</p>]]></content:encoded>
      
      
      <category domain="http://blog.xingxiaowu.cn/categories/%E5%85%9A%E5%91%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">党员学习笔记</category>
      
      
      <category domain="http://blog.xingxiaowu.cn/tags/%E5%85%9A%E5%91%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">党员学习笔记</category>
      
      
      <comments>http://blog.xingxiaowu.cn/2022/01/06/%E6%97%A0%E6%98%9F%E7%9A%84%E5%85%9A%E5%91%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89/#disqus_thread</comments>
      
    </item>
    
  </channel>
</rss>
